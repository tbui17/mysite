/*! For license information please see modal-library.js.LICENSE.txt */
!function(){var e={620:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var a=0,o=i.length,l=new Array(o);a<o;a++)l[a]=i[a].fn;return l},a.prototype.emit=function(e,t,n,i,a,o){var l=r?r+e:e;if(!this._events[l])return!1;var s,c,d=this._events[l],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,a),!0;case 6:return d.fn.call(d.context,t,n,i,a,o),!0}for(c=1,s=new Array(u-1);c<u;c++)s[c-1]=arguments[c];d.fn.apply(d.context,s)}else{var p,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,i);break;default:if(!s)for(p=1,s=new Array(u-1);p<u;p++)s[p-1]=arguments[p];d[c].fn.apply(d[c].context,s)}}return!0},a.prototype.on=function(e,t,n){var a=new i(t,n||this),o=r?r+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},a.prototype.once=function(e,t,n){var a=new i(t,n||this,!0),o=r?r+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],a]:this._events[o].push(a):(this._events[o]=a,this._eventsCount++),this},a.prototype.removeListener=function(e,t,i,a){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new n:delete this._events[o],this;var l=this._events[o];if(l.fn)l.fn!==t||a&&!l.once||i&&l.context!==i||(0==--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var s=0,c=[],d=l.length;s<d;s++)(l[s].fn!==t||a&&!l[s].once||i&&l[s].context!==i)&&c.push(l[s]);c.length?this._events[o]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new n:delete this._events[o]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new n:delete this._events[t])):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,e.exports=a},86636:function(e,t,r){e.exports=function e(t,r,n){function i(o,l){if(!r[o]){if(!t[o]){if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){var r=t[o][1][e];return i(r||e)}),c,c.exports,e,t,r,n)}return r[o].exports}for(var a=void 0,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){(function(e){"use strict";var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(d),l=e.document.createTextNode("");o.observe(l,{characterData:!0}),r=function(){l.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var s=new e.MessageChannel;s.port1.onmessage=d,r=function(){s.port2.postMessage(0)}}var c=[];function d(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}n=!1}function u(e){1!==c.push(e)||n||r()}t.exports=u}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var n=e(1);function i(){}var a={},o=["REJECTED"],l=["FULFILLED"],s=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==i&&m(this,e)}function d(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function u(e,t,r){n((function(){var n;try{n=t(r)}catch(t){return a.reject(e,t)}n===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,n)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function m(e,t){var r=!1;function n(t){r||(r=!0,a.reject(e,t))}function i(t){r||(r=!0,a.resolve(e,t))}function o(){t(i,n)}var l=h(o);"error"===l.status&&n(l.value)}function h(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}function g(e){return e instanceof this?e:a.resolve(new this(i),e)}function f(e){var t=new this(i);return a.reject(t,e)}function b(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=new Array(r),l=0,s=-1,c=new this(i);++s<r;)d(e[s],s);return c;function d(e,i){function s(e){o[i]=e,++l!==r||n||(n=!0,a.resolve(c,o))}t.resolve(e).then(s,(function(e){n||(n=!0,a.reject(c,e))}))}}function v(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=-1,l=new this(i);++o<r;)s(e[o]);return l;function s(e){t.resolve(e).then((function(e){n||(n=!0,a.resolve(l,e))}),(function(e){n||(n=!0,a.reject(l,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===l||"function"!=typeof t&&this.state===o)return this;var r=new this.constructor(i);return this.state!==s?u(r,this.state===l?e:t,this.outcome):this.queue.push(new d(r,e,t)),r},d.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){a.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},a.resolve=function(e,t){var r=h(p,t);if("error"===r.status)return a.reject(e,r.value);var n=r.value;if(n)m(e,n);else{e.state=l,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},c.resolve=g,c.reject=f,c.all=b,c.race=v},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var o=a();function l(){try{if(!o||!o.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function s(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function d(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function p(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function m(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",g=void 0,f={},b=Object.prototype.toString,v="readonly",y="readwrite";function w(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}function _(e){return new c((function(t){var r=e.transaction(h,y),n=s([""]);r.objectStore(h).put(n,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function E(e){return"boolean"==typeof g?c.resolve(g):_(e).then((function(e){return g=e}))}function C(e){var t=f[e.name],r={};r.promise=new c((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then((function(){return r.promise})):t.dbReady=r.promise}function x(e){var t=f[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function S(e,t){var r=f[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function k(e,t){return new c((function(r,n){if(f[e.name]=f[e.name]||L(),e.db){if(!t)return r(e.db);C(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var a=o.open.apply(o,i);t&&(a.onupgradeneeded=function(t){var r=a.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),n(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},r(t),x(e)}}))}function I(e){return k(e,!1)}function M(e){return k(e,!0)}function A(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,i=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||r){if(r){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function F(e){return new c((function(t,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){var n=btoa(r.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:e.type})},n.readAsBinaryString(e)}))}function N(e){return s([w(atob(e.data))],{type:e.type})}function T(e){return e&&e.__local_forage_encoded_blob}function O(e){var t=this,r=t._initReady().then((function(){var e=f[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(r,e,e),r}function P(e){C(e);for(var t=f[e.name],r=t.forages,n=0;n<r.length;n++){var i=r[n];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,I(e).then((function(t){return e.db=t,A(e)?M(e):t})).then((function(n){e.db=t.db=n;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=n})).catch((function(t){throw S(e,t),t}))}function D(e,t,r,n){void 0===n&&(n=1);try{var i=e.db.transaction(e.storeName,t);r(null,i)}catch(i){if(n>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),M(e)})).then((function(){return P(e).then((function(){D(e,t,r,n-1)}))})).catch(r);r(i)}}function L(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function R(e){var t=this,r={db:null};if(e)for(var n in e)r[n]=e[n];var i=f[r.name];i||(i=L(),f[r.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=O);var a=[];function o(){return c.resolve()}for(var l=0;l<i.forages.length;l++){var s=i.forages[l];s!==t&&a.push(s._initReady().catch(o))}var d=i.forages.slice(0);return c.all(a).then((function(){return r.db=i.db,I(r)})).then((function(e){return r.db=e,A(r,t._defaultConfig.version)?M(r):e})).then((function(e){r.db=i.db=e,t._dbInfo=r;for(var n=0;n<d.length;n++){var a=d[n];a!==t&&(a._dbInfo.db=r.db,a._dbInfo.version=r.version)}}))}function V(e,t){var r=this;e=p(e);var n=new c((function(t,n){r.ready().then((function(){D(r._dbInfo,v,(function(i,a){if(i)return n(i);try{var o=a.objectStore(r._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;void 0===e&&(e=null),T(e)&&(e=N(e)),t(e)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return d(n,t),n}function B(e,t){var r=this,n=new c((function(t,n){r.ready().then((function(){D(r._dbInfo,v,(function(i,a){if(i)return n(i);try{var o=a.objectStore(r._dbInfo.storeName).openCursor(),l=1;o.onsuccess=function(){var r=o.result;if(r){var n=r.value;T(n)&&(n=N(n));var i=e(n,r.key,l++);void 0!==i?t(i):r.continue()}else t()},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return d(n,t),n}function j(e,t,r){var n=this;e=p(e);var i=new c((function(r,i){var a;n.ready().then((function(){return a=n._dbInfo,"[object Blob]"===b.call(t)?E(a.db).then((function(e){return e?t:F(t)})):t})).then((function(t){D(n._dbInfo,y,(function(a,o){if(a)return i(a);try{var l=o.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var s=l.put(t,e);o.oncomplete=function(){void 0===t&&(t=null),r(t)},o.onabort=o.onerror=function(){var e=s.error?s.error:s.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return d(i,r),i}function q(e,t){var r=this;e=p(e);var n=new c((function(t,n){r.ready().then((function(){D(r._dbInfo,y,(function(i,a){if(i)return n(i);try{var o=a.objectStore(r._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){n(o.error)},a.onabort=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return d(n,t),n}function W(e){var t=this,r=new c((function(e,r){t.ready().then((function(){D(t._dbInfo,y,(function(n,i){if(n)return r(n);try{var a=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return d(r,e),r}function G(e){var t=this,r=new c((function(e,r){t.ready().then((function(){D(t._dbInfo,v,(function(n,i){if(n)return r(n);try{var a=i.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return d(r,e),r}function H(e,t){var r=this,n=new c((function(t,n){e<0?t(null):r.ready().then((function(){D(r._dbInfo,v,(function(i,a){if(i)return n(i);try{var o=a.objectStore(r._dbInfo.storeName),l=!1,s=o.openKeyCursor();s.onsuccess=function(){var r=s.result;r?0===e||l?t(r.key):(l=!0,r.advance(e)):t(null)},s.onerror=function(){n(s.error)}}catch(e){n(e)}}))})).catch(n)}));return d(n,t),n}function U(e){var t=this,r=new c((function(e,r){t.ready().then((function(){D(t._dbInfo,v,(function(n,i){if(n)return r(n);try{var a=i.objectStore(t._dbInfo.storeName).openKeyCursor(),o=[];a.onsuccess=function(){var t=a.result;t?(o.push(t.key),t.continue()):e(o)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return d(r,e),r}function $(e,t){t=m.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n,i=this;if(e.name){var a=e.name===r.name&&i._dbInfo.db?c.resolve(i._dbInfo.db):I(e).then((function(t){var r=f[e.name],n=r.forages;r.db=t;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=t;return t}));n=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;C(e);var n=f[e.name],i=n.forages;t.close();for(var a=0;a<i.length;a++){var l=i[a];l._dbInfo.db=null,l._dbInfo.version=r}var s=new c((function(t,n){var i=o.open(e.name,r);i.onerror=function(e){i.result.close(),n(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}));return s.then((function(e){n.db=e;for(var t=0;t<i.length;t++){var r=i[t];r._dbInfo.db=e,x(r._dbInfo)}})).catch((function(t){throw(S(e,t)||c.resolve()).catch((function(){})),t}))}})):a.then((function(t){C(e);var r=f[e.name],n=r.forages;t.close();for(var i=0;i<n.length;i++)n[i]._dbInfo.db=null;var a=new c((function(t,r){var n=o.deleteDatabase(e.name);n.onerror=function(){var e=n.result;e&&e.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}));return a.then((function(e){r.db=e;for(var t=0;t<n.length;t++)x(n[t]._dbInfo)})).catch((function(t){throw(S(e,t)||c.resolve()).catch((function(){})),t}))}))}else n=c.reject("Invalid arguments");return d(n,t),n}var z={_driver:"asyncStorage",_initStorage:R,_support:l(),iterate:B,getItem:V,setItem:j,removeItem:q,clear:W,length:G,key:H,keys:U,dropInstance:$};function K(){return"function"==typeof openDatabase}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="~~local_forage_type~",Y=/^~~local_forage_type~([^~]+)~/,X="__lfsc__:",Q=X.length,ee="arbf",te="blob",re="si08",ne="ui08",ie="uic8",ae="si16",oe="si32",le="ur16",se="ui32",ce="fl32",de="fl64",ue=Q+ee.length,pe=Object.prototype.toString;function me(e){var t,r,n,i,a,o=.75*e.length,l=e.length,s=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),d=new Uint8Array(c);for(t=0;t<l;t+=4)r=Z.indexOf(e[t]),n=Z.indexOf(e[t+1]),i=Z.indexOf(e[t+2]),a=Z.indexOf(e[t+3]),d[s++]=r<<2|n>>4,d[s++]=(15&n)<<4|i>>2,d[s++]=(3&i)<<6|63&a;return c}function he(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=Z[r[t]>>2],n+=Z[(3&r[t])<<4|r[t+1]>>4],n+=Z[(15&r[t+1])<<2|r[t+2]>>6],n+=Z[63&r[t+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function ge(e,t){var r="";if(e&&(r=pe.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===pe.call(e.buffer))){var n,i=X;e instanceof ArrayBuffer?(n=e,i+=ee):(n=e.buffer,"[object Int8Array]"===r?i+=re:"[object Uint8Array]"===r?i+=ne:"[object Uint8ClampedArray]"===r?i+=ie:"[object Int16Array]"===r?i+=ae:"[object Uint16Array]"===r?i+=le:"[object Int32Array]"===r?i+=oe:"[object Uint32Array]"===r?i+=se:"[object Float32Array]"===r?i+=ce:"[object Float64Array]"===r?i+=de:t(new Error("Failed to get type for BinaryArray"))),t(i+he(n))}else if("[object Blob]"===r){var a=new FileReader;a.onload=function(){var r=J+e.type+"~"+he(this.result);t(X+te+r)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e),t(null,r)}}function fe(e){if(e.substring(0,Q)!==X)return JSON.parse(e);var t,r=e.substring(ue),n=e.substring(Q,ue);if(n===te&&Y.test(r)){var i=r.match(Y);t=i[1],r=r.substring(i[0].length)}var a=me(r);switch(n){case ee:return a;case te:return s([a],{type:t});case re:return new Int8Array(a);case ne:return new Uint8Array(a);case ie:return new Uint8ClampedArray(a);case ae:return new Int16Array(a);case le:return new Uint16Array(a);case oe:return new Int32Array(a);case se:return new Uint32Array(a);case ce:return new Float32Array(a);case de:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}}var be={serialize:ge,deserialize:fe,stringToBuffer:me,bufferToString:he};function ve(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function ye(e){var t=this,r={db:null};if(e)for(var n in e)r[n]="string"!=typeof e[n]?e[n].toString():e[n];var i=new c((function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction((function(i){ve(i,r,(function(){t._dbInfo=r,e()}),(function(e,t){n(t)}))}),n)}));return r.serializer=be,i}function we(e,t,r,n,i,a){e.executeSql(r,n,i,(function(e,o){o.code===o.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,l){l.rows.length?a(e,o):ve(e,t,(function(){e.executeSql(r,n,i,a)}),a)}),a):a(e,o)}),a)}function _e(e,t){var r=this;e=p(e);var n=new c((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){we(r,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=i.serializer.deserialize(n)),t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function Ee(e,t){var r=this,n=new c((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){we(r,i,"SELECT * FROM "+i.storeName,[],(function(r,n){for(var a=n.rows,o=a.length,l=0;l<o;l++){var s=a.item(l),c=s.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,s.key,l+1)))return void t(c)}t()}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function Ce(e,t,r,n){var i=this;e=p(e);var a=new c((function(a,o){i.ready().then((function(){void 0===t&&(t=null);var l=t,s=i._dbInfo;s.serializer.serialize(t,(function(t,c){c?o(c):s.db.transaction((function(r){we(r,s,"INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){a(l)}),(function(e,t){o(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void a(Ce.apply(i,[e,l,r,n-1]));o(t)}}))}))})).catch(o)}));return d(a,r),a}function xe(e,t,r){return Ce.apply(this,[e,t,r,1])}function Se(e,t){var r=this;e=p(e);var n=new c((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){we(r,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function ke(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){we(t,n,"DELETE FROM "+n.storeName,[],(function(){e()}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,e),r}function Ie(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){we(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(t,r){var n=r.rows.item(0).c;e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,e),r}function Me(e,t){var r=this,n=new c((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){we(r,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,r){var n=r.rows.length?r.rows.item(0).key:null;t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function Ae(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){we(t,n,"SELECT key FROM "+n.storeName,[],(function(t,r){for(var n=[],i=0;i<r.rows.length;i++)n.push(r.rows.item(i).key);e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,e),r}function Fe(e){return new c((function(t,r){e.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var i=[],a=0;a<n.rows.length;a++)i.push(n.rows.item(a).name);t({db:e,storeNames:i})}),(function(e,t){r(t)}))}),(function(e){r(e)}))}))}function Ne(e,t){t=m.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n,i=this;return d(n=e.name?new c((function(t){var n;n=e.name===r.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:n,storeNames:[e.storeName]}):t(Fe(n))})).then((function(e){return new c((function(t,r){e.db.transaction((function(n){function i(e){return new c((function(t,r){n.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){r(t)}))}))}for(var a=[],o=0,l=e.storeNames.length;o<l;o++)a.push(i(e.storeNames[o]));c.all(a).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):c.reject("Invalid arguments"),t),n}var Te={_driver:"webSQLStorage",_initStorage:ye,_support:K(),iterate:Ee,getItem:_e,setItem:xe,removeItem:Se,clear:ke,length:Ie,key:Me,keys:Ae,dropInstance:Ne};function Oe(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Pe(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function De(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function Le(){return!De()||localStorage.length>0}function Re(e){var t=this,r={};if(e)for(var n in e)r[n]=e[n];return r.keyPrefix=Pe(e,t._defaultConfig),Le()?(t._dbInfo=r,r.serializer=be,c.resolve()):c.reject()}function Ve(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(e)&&localStorage.removeItem(n)}}));return d(r,e),r}function Be(e,t){var r=this;e=p(e);var n=r.ready().then((function(){var t=r._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n}));return d(n,t),n}function je(e,t){var r=this,n=r.ready().then((function(){for(var t=r._dbInfo,n=t.keyPrefix,i=n.length,a=localStorage.length,o=1,l=0;l<a;l++){var s=localStorage.key(l);if(0===s.indexOf(n)){var c=localStorage.getItem(s);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,s.substring(i),o++)))return c}}}));return d(n,t),n}function qe(e,t){var r=this,n=r.ready().then((function(){var t,n=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t}));return d(n,t),n}function We(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo,r=localStorage.length,n=[],i=0;i<r;i++){var a=localStorage.key(i);0===a.indexOf(e.keyPrefix)&&n.push(a.substring(e.keyPrefix.length))}return n}));return d(r,e),r}function Ge(e){var t=this.keys().then((function(e){return e.length}));return d(t,e),t}function He(e,t){var r=this;e=p(e);var n=r.ready().then((function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return d(n,t),n}function Ue(e,t,r){var n=this;e=p(e);var i=n.ready().then((function(){void 0===t&&(t=null);var r=t;return new c((function(i,a){var o=n._dbInfo;o.serializer.serialize(t,(function(t,n){if(n)a(n);else try{localStorage.setItem(o.keyPrefix+e,t),i(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||a(e),a(e)}}))}))}));return d(i,r),i}function $e(e,t){if(t=m.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var n,i=this;return n=e.name?new c((function(t){e.storeName?t(Pe(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}})):c.reject("Invalid arguments"),d(n,t),n}var ze={_driver:"localStorageWrapper",_initStorage:Re,_support:Oe(),iterate:je,getItem:Be,setItem:Ue,removeItem:He,clear:Ve,length:Ge,key:qe,keys:We,dropInstance:$e},Ke=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ze=function(e,t){for(var r=e.length,n=0;n<r;){if(Ke(e[n],t))return!0;n++}return!1},Je=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ye={},Xe={},Qe={INDEXEDDB:z,WEBSQL:Te,LOCALSTORAGE:ze},et=[Qe.INDEXEDDB._driver,Qe.WEBSQL._driver,Qe.LOCALSTORAGE._driver],tt=["dropInstance"],rt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),nt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var r=arguments;return e.ready().then((function(){return e[t].apply(e,r)}))}}function at(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(Je(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var ot=function(){function e(t){for(var r in i(this,e),Qe)if(Qe.hasOwnProperty(r)){var n=Qe[r],a=n._driver;this[r]=a,Ye[a]||this.defineDriver(n)}this._defaultConfig=at({},nt),this._config=at({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":n(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var n=new c((function(t,r){try{var n=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(i);for(var a=rt.concat("_initStorage"),o=0,l=a.length;o<l;o++){var s=a[o];if((!Ze(tt,s)||e[s])&&"function"!=typeof e[s])return void r(i)}var u=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),r=c.reject(t);return d(r,arguments[arguments.length-1]),r}},r=0,n=tt.length;r<n;r++){var i=tt[r];e[i]||(e[i]=t(i))}};u();var p=function(r){Ye[n]&&console.info("Redefining LocalForage driver: "+n),Ye[n]=e,Xe[n]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(p,r):p(!!e._support):p(!0)}catch(e){r(e)}}));return u(n,t,r),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var n=Ye[e]?c.resolve(Ye[e]):c.reject(new Error("Driver not found."));return u(n,t,r),n},e.prototype.getSerializer=function(e){var t=c.resolve(be);return u(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(r,e,e),r},e.prototype.setDriver=function(e,t,r){var n=this;Je(e)||(e=[e]);var i=this._getSupportedDrivers(e);function a(){n._config.driver=n.driver()}function o(e){return n._extend(e),a(),n._ready=n._initStorage(n._config),n._ready}function l(e){return function(){var t=0;function r(){for(;t<e.length;){var i=e[t];return t++,n._dbInfo=null,n._ready=null,n.getDriver(i).then(o).catch(r)}a();var l=new Error("No available storage method found.");return n._driverSet=c.reject(l),n._driverSet}return r()}}var s=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=s.then((function(){var e=i[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then((function(e){n._driver=e._driver,a(),n._wrapLibraryMethodsWithReady(),n._initDriver=l(i)}))})).catch((function(){a();var e=new Error("No available storage method found.");return n._driverSet=c.reject(e),n._driverSet})),u(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!Xe[e]},e.prototype._extend=function(e){at(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=rt.length;e<t;e++)it(this,rt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),lt=new ot;t.exports=lt},{3:3}]},{},[4])(4)},93063:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var o=i.apply(null,r);o&&e.push(o)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var l in r)n.call(r,l)&&r[l]&&e.push(l);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},32975:function(e,t,r){var n=r(3231)(r(50787),"DataView");e.exports=n},38389:function(e,t,r){var n=r(37865),i=r(73855),a=r(8611),o=r(19375),l=r(21978);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=l,e.exports=s},70046:function(e,t,r){var n=r(15859),i=r(51466),a=r(51154),o=r(32296),l=r(82746);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=l,e.exports=s},56390:function(e,t,r){var n=r(3231)(r(50787),"Map");e.exports=n},9216:function(e,t,r){var n=r(75526),i=r(55522),a=r(3766),o=r(49783),l=r(26234);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=l,e.exports=s},80298:function(e,t,r){var n=r(3231)(r(50787),"Promise");e.exports=n},73666:function(e,t,r){var n=r(3231)(r(50787),"Set");e.exports=n},21504:function(e,t,r){var n=r(50787).Symbol;e.exports=n},34719:function(e,t,r){var n=r(3231)(r(50787),"WeakMap");e.exports=n},89461:function(e){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},72550:function(e,t,r){var n=r(67003),i=r(20353),a=r(62131),o=r(6950),l=r(8861),s=r(71752),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),d=!r&&i(e),u=!r&&!d&&o(e),p=!r&&!d&&!u&&s(e),m=r||d||u||p,h=m?n(e.length,String):[],g=h.length;for(var f in e)!t&&!c.call(e,f)||m&&("length"==f||u&&("offset"==f||"parent"==f)||p&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||l(f,g))||h.push(f);return h}},80268:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},2743:function(e,t,r){var n=r(59284),i=r(23104),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var o=e[t];a.call(e,t)&&i(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},33156:function(e,t,r){var n=r(23104);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},59284:function(e,t,r){var n=r(78422);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},53439:function(e,t,r){var n=r(51214),i=r(2217);e.exports=function(e,t){for(var r=0,a=(t=n(t,e)).length;null!=e&&r<a;)e=e[i(t[r++])];return r&&r==a?e:void 0}},85179:function(e,t,r){var n=r(21504),i=r(51946),a=r(18353),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},31280:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,r){return null!=e&&t.call(e,r)}},81402:function(e,t,r){var n=r(85179),i=r(83217);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},88299:function(e,t,r){var n=r(56117),i=r(15987),a=r(34256),o=r(25105),l=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(n(e)?p:l).test(o(e))}},33505:function(e,t,r){var n=r(85179),i=r(5244),a=r(83217),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[n(e)]}},5775:function(e,t,r){var n=r(63893),i=r(24295),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},14783:function(e,t,r){var n=r(73589),i=r(33964),a=r(68098);e.exports=function(e,t){return a(i(e,t,n),e+"")}},93668:function(e,t,r){var n=r(89658),i=r(78422),a=r(73589),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=o},67003:function(e){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},1784:function(e,t,r){var n=r(21504),i=r(80268),a=r(62131),o=r(14613),l=n?n.prototype:void 0,s=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return s?s.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r}},1982:function(e){e.exports=function(e){return function(t){return e(t)}}},51214:function(e,t,r){var n=r(62131),i=r(47740),a=r(74875),o=r(84118);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:a(o(e))}},47796:function(e,t,r){var n=r(2743),i=r(59284);e.exports=function(e,t,r,a){var o=!r;r||(r={});for(var l=-1,s=t.length;++l<s;){var c=t[l],d=a?a(r[c],e[c],c,r,e):void 0;void 0===d&&(d=e[c]),o?i(r,c,d):n(r,c,d)}return r}},18878:function(e,t,r){var n=r(50787)["__core-js_shared__"];e.exports=n},3194:function(e,t,r){var n=r(14783),i=r(70965);e.exports=function(e){return n((function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,l=a>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,l&&i(r[0],r[1],l)&&(o=a<3?void 0:o,a=1),t=Object(t);++n<a;){var s=r[n];s&&e(t,s,n,o)}return t}))}},78422:function(e,t,r){var n=r(3231),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},56650:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},23750:function(e,t,r){var n=r(42628);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},3231:function(e,t,r){var n=r(88299),i=r(54647);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},51946:function(e,t,r){var n=r(21504),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,l=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,l),r=e[l];try{e[l]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[l]=r:delete e[l]),i}},78796:function(e,t,r){var n=r(32975),i=r(56390),a=r(80298),o=r(73666),l=r(34719),s=r(85179),c=r(25105),d="[object Map]",u="[object Promise]",p="[object Set]",m="[object WeakMap]",h="[object DataView]",g=c(n),f=c(i),b=c(a),v=c(o),y=c(l),w=s;(n&&w(new n(new ArrayBuffer(1)))!=h||i&&w(new i)!=d||a&&w(a.resolve())!=u||o&&w(new o)!=p||l&&w(new l)!=m)&&(w=function(e){var t=s(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case g:return h;case f:return d;case b:return u;case v:return p;case y:return m}return t}),e.exports=w},54647:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},7654:function(e,t,r){var n=r(51214),i=r(20353),a=r(62131),o=r(8861),l=r(5244),s=r(2217);e.exports=function(e,t,r){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var p=s(t[c]);if(!(u=null!=e&&r(e,p)))break;e=e[p]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&l(d)&&o(p,d)&&(a(e)||i(e))}},37865:function(e,t,r){var n=r(74517);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},73855:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},8611:function(e,t,r){var n=r(74517),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},19375:function(e,t,r){var n=r(74517),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},21978:function(e,t,r){var n=r(74517);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},8861:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},70965:function(e,t,r){var n=r(23104),i=r(36935),a=r(8861),o=r(34256);e.exports=function(e,t,r){if(!o(r))return!1;var l=typeof t;return!!("number"==l?i(r)&&a(t,r.length):"string"==l&&t in r)&&n(r[t],e)}},47740:function(e,t,r){var n=r(62131),i=r(14613),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},42628:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15987:function(e,t,r){var n,i=r(18878),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},63893:function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},15859:function(e){e.exports=function(){this.__data__=[],this.size=0}},51466:function(e,t,r){var n=r(33156),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},51154:function(e,t,r){var n=r(33156);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},32296:function(e,t,r){var n=r(33156);e.exports=function(e){return n(this.__data__,e)>-1}},82746:function(e,t,r){var n=r(33156);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},75526:function(e,t,r){var n=r(38389),i=r(70046),a=r(56390);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},55522:function(e,t,r){var n=r(23750);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},3766:function(e,t,r){var n=r(23750);e.exports=function(e){return n(this,e).get(e)}},49783:function(e,t,r){var n=r(23750);e.exports=function(e){return n(this,e).has(e)}},26234:function(e,t,r){var n=r(23750);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},93206:function(e,t,r){var n=r(88433);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},74517:function(e,t,r){var n=r(3231)(Object,"create");e.exports=n},24295:function(e,t,r){var n=r(77822)(Object.keys,Object);e.exports=n},40354:function(e,t,r){e=r.nmd(e);var n=r(56650),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&n.process,l=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=l},18353:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},77822:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},33964:function(e,t,r){var n=r(89461),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,l=i(a.length-t,0),s=Array(l);++o<l;)s[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=r(s),n(e,this,c)}}},50787:function(e,t,r){var n=r(56650),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},68098:function(e,t,r){var n=r(93668),i=r(63150)(n);e.exports=i},63150:function(e){var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var i=t(),a=16-(i-n);if(n=i,a>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},74875:function(e,t,r){var n=r(93206),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)})),t}));e.exports=o},2217:function(e,t,r){var n=r(14613);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},25105:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},30127:function(e,t,r){var n=r(2743),i=r(47796),a=r(3194),o=r(36935),l=r(63893),s=r(11220),c=Object.prototype.hasOwnProperty,d=a((function(e,t){if(l(t)||o(t))i(t,s(t),e);else for(var r in t)c.call(t,r)&&n(e,r,t[r])}));e.exports=d},89658:function(e){e.exports=function(e){return function(){return e}}},23104:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},27381:function(e,t,r){var n=r(53439);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},77785:function(e,t,r){var n=r(31280),i=r(7654);e.exports=function(e,t){return null!=e&&i(e,t,n)}},73589:function(e){e.exports=function(e){return e}},20353:function(e,t,r){var n=r(81402),i=r(83217),a=Object.prototype,o=a.hasOwnProperty,l=a.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!l.call(e,"callee")};e.exports=s},62131:function(e){var t=Array.isArray;e.exports=t},36935:function(e,t,r){var n=r(56117),i=r(5244);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},6950:function(e,t,r){e=r.nmd(e);var n=r(50787),i=r(12651),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,l=o&&o.exports===a?n.Buffer:void 0,s=(l?l.isBuffer:void 0)||i;e.exports=s},63666:function(e,t,r){var n=r(5775),i=r(78796),a=r(20353),o=r(62131),l=r(36935),s=r(6950),c=r(63893),d=r(71752),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(l(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||d(e)||a(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!n(e).length;for(var r in e)if(u.call(e,r))return!1;return!0}},56117:function(e,t,r){var n=r(85179),i=r(34256);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},5244:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},34256:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},83217:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},19135:function(e,t,r){var n=r(85179),i=r(62131),a=r(83217);e.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==n(e)}},14613:function(e,t,r){var n=r(85179),i=r(83217);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},71752:function(e,t,r){var n=r(33505),i=r(1982),a=r(40354),o=a&&a.isTypedArray,l=o?i(o):n;e.exports=l},26093:function(e){e.exports=function(e){return void 0===e}},11220:function(e,t,r){var n=r(72550),i=r(5775),a=r(36935);e.exports=function(e){return a(e)?n(e):i(e)}},88433:function(e,t,r){var n=r(9216);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},12651:function(e){e.exports=function(){return!1}},84118:function(e,t,r){var n=r(1784);e.exports=function(e){return null==e?"":n(e)}},53316:function(e){function t(e,t,r,n){var i,a=null==(i=n)||"number"==typeof i||"boolean"==typeof i?n:r(n),o=t.get(a);return void 0===o&&(o=e.call(this,n),t.set(a,o)),o}function r(e,t,r){var n=Array.prototype.slice.call(arguments,3),i=r(n),a=t.get(i);return void 0===a&&(a=e.apply(this,n),t.set(i,a)),a}function n(e,t,r,n,i){return r.bind(t,e,n,i)}function i(e,i){return n(e,this,1===e.length?t:r,i.cache.create(),i.serializer)}function a(){return JSON.stringify(arguments)}function o(){this.cache=Object.create(null)}o.prototype.has=function(e){return e in this.cache},o.prototype.get=function(e){return this.cache[e]},o.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new o}};e.exports=function(e,t){var r=t&&t.cache?t.cache:l,n=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:i)(e,{cache:r,serializer:n})},e.exports.strategies={variadic:function(e,t){return n(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,r){return n(e,this,t,r.cache.create(),r.serializer)}}},69111:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(57206),a=r(92642),o=r(59726),l=n(n({},i.namedReferences),{all:i.namedReferences.html5}),s={specialChars:/[<>'"&]/g,nonAscii:/[<>'"&\u0080-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,nonAsciiPrintable:/[<>'"&\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,nonAsciiPrintableOnly:/[\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,extensive:/[\x01-\x0c\x0e-\x1f\x21-\x2c\x2e-\x2f\x3a-\x40\x5b-\x60\x7b-\x7d\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g},c={mode:"specialChars",level:"all",numeric:"decimal"};t.encode=function(e,t){var r=void 0===(d=(a=void 0===t?c:t).mode)?"specialChars":d,n=void 0===(h=a.numeric)?"decimal":h,i=a.level;if(!e)return"";var a,d,u=s[r],p=l[void 0===i?"all":i].characters,m="hexadecimal"===n;if(u.lastIndex=0,a=u.exec(e)){d="";var h=0;do{h!==a.index&&(d+=e.substring(h,a.index));var g=p[i=a[0]];if(!g){var f=i.length>1?o.getCodePoint(i,0):i.charCodeAt(0);g=(m?"&#x"+f.toString(16):"&#"+f)+";"}d+=g,h=a.index+i.length}while(a=u.exec(e));h!==e.length&&(d+=e.substring(h))}else d=e;return d};var d={scope:"body",level:"all"},u=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);/g,p=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g,m={xml:{strict:u,attribute:p,body:i.bodyRegExps.xml},html4:{strict:u,attribute:p,body:i.bodyRegExps.html4},html5:{strict:u,attribute:p,body:i.bodyRegExps.html5}},h=n(n({},m),{all:m.html5}),g=String.fromCharCode,f=g(65533),b={level:"all"};t.decodeEntity=function(e,t){var r=void 0===(n=(void 0===t?b:t).level)?"all":n;if(!e)return"";var n=e,i=(e[e.length-1],l[r].entities[e]);if(i)n=i;else if("&"===e[0]&&"#"===e[1]){var s=e[2],c="x"==s||"X"==s?parseInt(e.substr(3),16):parseInt(e.substr(2));n=c>=1114111?f:c>65535?o.fromCodePoint(c):g(a.numericUnicodeMap[c]||c)}return n},t.decode=function(e,t){var r=void 0===t?d:t,n=r.level,i=void 0===n?"all":n,s=r.scope,c=void 0===s?"xml"===i?"strict":"body":s;if(!e)return"";var u=h[i][c],p=l[i].entities,m="attribute"===c,b="strict"===c;u.lastIndex=0;var v,y=u.exec(e);if(y){v="";var w=0;do{w!==y.index&&(v+=e.substring(w,y.index));var _=y[0],E=_,C=_[_.length-1];if(m&&"="===C)E=_;else if(b&&";"!==C)E=_;else{var x=p[_];if(x)E=x;else if("&"===_[0]&&"#"===_[1]){var S=_[2],k="x"==S||"X"==S?parseInt(_.substr(3),16):parseInt(_.substr(2));E=k>=1114111?f:k>65535?o.fromCodePoint(k):g(a.numericUnicodeMap[k]||k)}}v+=E,w=y.index+_.length}while(y=u.exec(e));w!==e.length&&(v+=e.substring(w))}else v=e;return v}},57206:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyRegExps={xml:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&notin;|&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html5:/&centerdot;|&copysr;|&divideontimes;|&gtcc;|&gtcir;|&gtdot;|&gtlPar;|&gtquest;|&gtrapprox;|&gtrarr;|&gtrdot;|&gtreqless;|&gtreqqless;|&gtrless;|&gtrsim;|&ltcc;|&ltcir;|&ltdot;|&lthree;|&ltimes;|&ltlarr;|&ltquest;|&ltrPar;|&ltri;|&ltrie;|&ltrif;|&notin;|&notinE;|&notindot;|&notinva;|&notinvb;|&notinvc;|&notni;|&notniva;|&notnivb;|&notnivc;|&parallel;|&timesb;|&timesbar;|&timesd;|&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g},t.namedReferences={xml:{entities:{"&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},characters:{"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"}},html4:{entities:{"&apos;":"'","&nbsp":"","&nbsp;":"","&iexcl":"","&iexcl;":"","&cent":"","&cent;":"","&pound":"","&pound;":"","&curren":"","&curren;":"","&yen":"","&yen;":"","&brvbar":"","&brvbar;":"","&sect":"","&sect;":"","&uml":"","&uml;":"","&copy":"","&copy;":"","&ordf":"","&ordf;":"","&laquo":"","&laquo;":"","&not":"","&not;":"","&shy":"","&shy;":"","&reg":"","&reg;":"","&macr":"","&macr;":"","&deg":"","&deg;":"","&plusmn":"","&plusmn;":"","&sup2":"","&sup2;":"","&sup3":"","&sup3;":"","&acute":"","&acute;":"","&micro":"","&micro;":"","&para":"","&para;":"","&middot":"","&middot;":"","&cedil":"","&cedil;":"","&sup1":"","&sup1;":"","&ordm":"","&ordm;":"","&raquo":"","&raquo;":"","&frac14":"","&frac14;":"","&frac12":"","&frac12;":"","&frac34":"","&frac34;":"","&iquest":"","&iquest;":"","&Agrave":"","&Agrave;":"","&Aacute":"","&Aacute;":"","&Acirc":"","&Acirc;":"","&Atilde":"","&Atilde;":"","&Auml":"","&Auml;":"","&Aring":"","&Aring;":"","&AElig":"","&AElig;":"","&Ccedil":"","&Ccedil;":"","&Egrave":"","&Egrave;":"","&Eacute":"","&Eacute;":"","&Ecirc":"","&Ecirc;":"","&Euml":"","&Euml;":"","&Igrave":"","&Igrave;":"","&Iacute":"","&Iacute;":"","&Icirc":"","&Icirc;":"","&Iuml":"","&Iuml;":"","&ETH":"","&ETH;":"","&Ntilde":"","&Ntilde;":"","&Ograve":"","&Ograve;":"","&Oacute":"","&Oacute;":"","&Ocirc":"","&Ocirc;":"","&Otilde":"","&Otilde;":"","&Ouml":"","&Ouml;":"","&times":"","&times;":"","&Oslash":"","&Oslash;":"","&Ugrave":"","&Ugrave;":"","&Uacute":"","&Uacute;":"","&Ucirc":"","&Ucirc;":"","&Uuml":"","&Uuml;":"","&Yacute":"","&Yacute;":"","&THORN":"","&THORN;":"","&szlig":"","&szlig;":"","&agrave":"","&agrave;":"","&aacute":"","&aacute;":"","&acirc":"","&acirc;":"","&atilde":"","&atilde;":"","&auml":"","&auml;":"","&aring":"","&aring;":"","&aelig":"","&aelig;":"","&ccedil":"","&ccedil;":"","&egrave":"","&egrave;":"","&eacute":"","&eacute;":"","&ecirc":"","&ecirc;":"","&euml":"","&euml;":"","&igrave":"","&igrave;":"","&iacute":"","&iacute;":"","&icirc":"","&icirc;":"","&iuml":"","&iuml;":"","&eth":"","&eth;":"","&ntilde":"","&ntilde;":"","&ograve":"","&ograve;":"","&oacute":"","&oacute;":"","&ocirc":"","&ocirc;":"","&otilde":"","&otilde;":"","&ouml":"","&ouml;":"","&divide":"","&divide;":"","&oslash":"","&oslash;":"","&ugrave":"","&ugrave;":"","&uacute":"","&uacute;":"","&ucirc":"","&ucirc;":"","&uuml":"","&uuml;":"","&yacute":"","&yacute;":"","&thorn":"","&thorn;":"","&yuml":"","&yuml;":"","&quot":'"',"&quot;":'"',"&amp":"&","&amp;":"&","&lt":"<","&lt;":"<","&gt":">","&gt;":">","&OElig;":"","&oelig;":"","&Scaron;":"","&scaron;":"","&Yuml;":"","&circ;":"","&tilde;":"","&ensp;":"","&emsp;":"","&thinsp;":"","&zwnj;":"","&zwj;":"","&lrm;":"","&rlm;":"","&ndash;":"","&mdash;":"","&lsquo;":"","&rsquo;":"","&sbquo;":"","&ldquo;":"","&rdquo;":"","&bdquo;":"","&dagger;":"","&Dagger;":"","&permil;":"","&lsaquo;":"","&rsaquo;":"","&euro;":"","&fnof;":"","&Alpha;":"","&Beta;":"","&Gamma;":"","&Delta;":"","&Epsilon;":"","&Zeta;":"","&Eta;":"","&Theta;":"","&Iota;":"","&Kappa;":"","&Lambda;":"","&Mu;":"","&Nu;":"","&Xi;":"","&Omicron;":"","&Pi;":"","&Rho;":"","&Sigma;":"","&Tau;":"","&Upsilon;":"","&Phi;":"","&Chi;":"","&Psi;":"","&Omega;":"","&alpha;":"","&beta;":"","&gamma;":"","&delta;":"","&epsilon;":"","&zeta;":"","&eta;":"","&theta;":"","&iota;":"","&kappa;":"","&lambda;":"","&mu;":"","&nu;":"","&xi;":"","&omicron;":"","&pi;":"","&rho;":"","&sigmaf;":"","&sigma;":"","&tau;":"","&upsilon;":"","&phi;":"","&chi;":"","&psi;":"","&omega;":"","&thetasym;":"","&upsih;":"","&piv;":"","&bull;":"","&hellip;":"","&prime;":"","&Prime;":"","&oline;":"","&frasl;":"","&weierp;":"","&image;":"","&real;":"","&trade;":"","&alefsym;":"","&larr;":"","&uarr;":"","&rarr;":"","&darr;":"","&harr;":"","&crarr;":"","&lArr;":"","&uArr;":"","&rArr;":"","&dArr;":"","&hArr;":"","&forall;":"","&part;":"","&exist;":"","&empty;":"","&nabla;":"","&isin;":"","&notin;":"","&ni;":"","&prod;":"","&sum;":"","&minus;":"","&lowast;":"","&radic;":"","&prop;":"","&infin;":"","&ang;":"","&and;":"","&or;":"","&cap;":"","&cup;":"","&int;":"","&there4;":"","&sim;":"","&cong;":"","&asymp;":"","&ne;":"","&equiv;":"","&le;":"","&ge;":"","&sub;":"","&sup;":"","&nsub;":"","&sube;":"","&supe;":"","&oplus;":"","&otimes;":"","&perp;":"","&sdot;":"","&lceil;":"","&rceil;":"","&lfloor;":"","&rfloor;":"","&lang;":"","&rang;":"","&loz;":"","&spades;":"","&clubs;":"","&hearts;":"","&diams;":""},characters:{"'":"&apos;","":"&nbsp;","":"&iexcl;","":"&cent;","":"&pound;","":"&curren;","":"&yen;","":"&brvbar;","":"&sect;","":"&uml;","":"&copy;","":"&ordf;","":"&laquo;","":"&not;","":"&shy;","":"&reg;","":"&macr;","":"&deg;","":"&plusmn;","":"&sup2;","":"&sup3;","":"&acute;","":"&micro;","":"&para;","":"&middot;","":"&cedil;","":"&sup1;","":"&ordm;","":"&raquo;","":"&frac14;","":"&frac12;","":"&frac34;","":"&iquest;","":"&Agrave;","":"&Aacute;","":"&Acirc;","":"&Atilde;","":"&Auml;","":"&Aring;","":"&AElig;","":"&Ccedil;","":"&Egrave;","":"&Eacute;","":"&Ecirc;","":"&Euml;","":"&Igrave;","":"&Iacute;","":"&Icirc;","":"&Iuml;","":"&ETH;","":"&Ntilde;","":"&Ograve;","":"&Oacute;","":"&Ocirc;","":"&Otilde;","":"&Ouml;","":"&times;","":"&Oslash;","":"&Ugrave;","":"&Uacute;","":"&Ucirc;","":"&Uuml;","":"&Yacute;","":"&THORN;","":"&szlig;","":"&agrave;","":"&aacute;","":"&acirc;","":"&atilde;","":"&auml;","":"&aring;","":"&aelig;","":"&ccedil;","":"&egrave;","":"&eacute;","":"&ecirc;","":"&euml;","":"&igrave;","":"&iacute;","":"&icirc;","":"&iuml;","":"&eth;","":"&ntilde;","":"&ograve;","":"&oacute;","":"&ocirc;","":"&otilde;","":"&ouml;","":"&divide;","":"&oslash;","":"&ugrave;","":"&uacute;","":"&ucirc;","":"&uuml;","":"&yacute;","":"&thorn;","":"&yuml;",'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;","":"&OElig;","":"&oelig;","":"&Scaron;","":"&scaron;","":"&Yuml;","":"&circ;","":"&tilde;","":"&ensp;","":"&emsp;","":"&thinsp;","":"&zwnj;","":"&zwj;","":"&lrm;","":"&rlm;","":"&ndash;","":"&mdash;","":"&lsquo;","":"&rsquo;","":"&sbquo;","":"&ldquo;","":"&rdquo;","":"&bdquo;","":"&dagger;","":"&Dagger;","":"&permil;","":"&lsaquo;","":"&rsaquo;","":"&euro;","":"&fnof;","":"&Alpha;","":"&Beta;","":"&Gamma;","":"&Delta;","":"&Epsilon;","":"&Zeta;","":"&Eta;","":"&Theta;","":"&Iota;","":"&Kappa;","":"&Lambda;","":"&Mu;","":"&Nu;","":"&Xi;","":"&Omicron;","":"&Pi;","":"&Rho;","":"&Sigma;","":"&Tau;","":"&Upsilon;","":"&Phi;","":"&Chi;","":"&Psi;","":"&Omega;","":"&alpha;","":"&beta;","":"&gamma;","":"&delta;","":"&epsilon;","":"&zeta;","":"&eta;","":"&theta;","":"&iota;","":"&kappa;","":"&lambda;","":"&mu;","":"&nu;","":"&xi;","":"&omicron;","":"&pi;","":"&rho;","":"&sigmaf;","":"&sigma;","":"&tau;","":"&upsilon;","":"&phi;","":"&chi;","":"&psi;","":"&omega;","":"&thetasym;","":"&upsih;","":"&piv;","":"&bull;","":"&hellip;","":"&prime;","":"&Prime;","":"&oline;","":"&frasl;","":"&weierp;","":"&image;","":"&real;","":"&trade;","":"&alefsym;","":"&larr;","":"&uarr;","":"&rarr;","":"&darr;","":"&harr;","":"&crarr;","":"&lArr;","":"&uArr;","":"&rArr;","":"&dArr;","":"&hArr;","":"&forall;","":"&part;","":"&exist;","":"&empty;","":"&nabla;","":"&isin;","":"&notin;","":"&ni;","":"&prod;","":"&sum;","":"&minus;","":"&lowast;","":"&radic;","":"&prop;","":"&infin;","":"&ang;","":"&and;","":"&or;","":"&cap;","":"&cup;","":"&int;","":"&there4;","":"&sim;","":"&cong;","":"&asymp;","":"&ne;","":"&equiv;","":"&le;","":"&ge;","":"&sub;","":"&sup;","":"&nsub;","":"&sube;","":"&supe;","":"&oplus;","":"&otimes;","":"&perp;","":"&sdot;","":"&lceil;","":"&rceil;","":"&lfloor;","":"&rfloor;","":"&lang;","":"&rang;","":"&loz;","":"&spades;","":"&clubs;","":"&hearts;","":"&diams;"}},html5:{entities:{"&AElig":"","&AElig;":"","&AMP":"&","&AMP;":"&","&Aacute":"","&Aacute;":"","&Abreve;":"","&Acirc":"","&Acirc;":"","&Acy;":"","&Afr;":"","&Agrave":"","&Agrave;":"","&Alpha;":"","&Amacr;":"","&And;":"","&Aogon;":"","&Aopf;":"","&ApplyFunction;":"","&Aring":"","&Aring;":"","&Ascr;":"","&Assign;":"","&Atilde":"","&Atilde;":"","&Auml":"","&Auml;":"","&Backslash;":"","&Barv;":"","&Barwed;":"","&Bcy;":"","&Because;":"","&Bernoullis;":"","&Beta;":"","&Bfr;":"","&Bopf;":"","&Breve;":"","&Bscr;":"","&Bumpeq;":"","&CHcy;":"","&COPY":"","&COPY;":"","&Cacute;":"","&Cap;":"","&CapitalDifferentialD;":"","&Cayleys;":"","&Ccaron;":"","&Ccedil":"","&Ccedil;":"","&Ccirc;":"","&Cconint;":"","&Cdot;":"","&Cedilla;":"","&CenterDot;":"","&Cfr;":"","&Chi;":"","&CircleDot;":"","&CircleMinus;":"","&CirclePlus;":"","&CircleTimes;":"","&ClockwiseContourIntegral;":"","&CloseCurlyDoubleQuote;":"","&CloseCurlyQuote;":"","&Colon;":"","&Colone;":"","&Congruent;":"","&Conint;":"","&ContourIntegral;":"","&Copf;":"","&Coproduct;":"","&CounterClockwiseContourIntegral;":"","&Cross;":"","&Cscr;":"","&Cup;":"","&CupCap;":"","&DD;":"","&DDotrahd;":"","&DJcy;":"","&DScy;":"","&DZcy;":"","&Dagger;":"","&Darr;":"","&Dashv;":"","&Dcaron;":"","&Dcy;":"","&Del;":"","&Delta;":"","&Dfr;":"","&DiacriticalAcute;":"","&DiacriticalDot;":"","&DiacriticalDoubleAcute;":"","&DiacriticalGrave;":"`","&DiacriticalTilde;":"","&Diamond;":"","&DifferentialD;":"","&Dopf;":"","&Dot;":"","&DotDot;":"","&DotEqual;":"","&DoubleContourIntegral;":"","&DoubleDot;":"","&DoubleDownArrow;":"","&DoubleLeftArrow;":"","&DoubleLeftRightArrow;":"","&DoubleLeftTee;":"","&DoubleLongLeftArrow;":"","&DoubleLongLeftRightArrow;":"","&DoubleLongRightArrow;":"","&DoubleRightArrow;":"","&DoubleRightTee;":"","&DoubleUpArrow;":"","&DoubleUpDownArrow;":"","&DoubleVerticalBar;":"","&DownArrow;":"","&DownArrowBar;":"","&DownArrowUpArrow;":"","&DownBreve;":"","&DownLeftRightVector;":"","&DownLeftTeeVector;":"","&DownLeftVector;":"","&DownLeftVectorBar;":"","&DownRightTeeVector;":"","&DownRightVector;":"","&DownRightVectorBar;":"","&DownTee;":"","&DownTeeArrow;":"","&Downarrow;":"","&Dscr;":"","&Dstrok;":"","&ENG;":"","&ETH":"","&ETH;":"","&Eacute":"","&Eacute;":"","&Ecaron;":"","&Ecirc":"","&Ecirc;":"","&Ecy;":"","&Edot;":"","&Efr;":"","&Egrave":"","&Egrave;":"","&Element;":"","&Emacr;":"","&EmptySmallSquare;":"","&EmptyVerySmallSquare;":"","&Eogon;":"","&Eopf;":"","&Epsilon;":"","&Equal;":"","&EqualTilde;":"","&Equilibrium;":"","&Escr;":"","&Esim;":"","&Eta;":"","&Euml":"","&Euml;":"","&Exists;":"","&ExponentialE;":"","&Fcy;":"","&Ffr;":"","&FilledSmallSquare;":"","&FilledVerySmallSquare;":"","&Fopf;":"","&ForAll;":"","&Fouriertrf;":"","&Fscr;":"","&GJcy;":"","&GT":">","&GT;":">","&Gamma;":"","&Gammad;":"","&Gbreve;":"","&Gcedil;":"","&Gcirc;":"","&Gcy;":"","&Gdot;":"","&Gfr;":"","&Gg;":"","&Gopf;":"","&GreaterEqual;":"","&GreaterEqualLess;":"","&GreaterFullEqual;":"","&GreaterGreater;":"","&GreaterLess;":"","&GreaterSlantEqual;":"","&GreaterTilde;":"","&Gscr;":"","&Gt;":"","&HARDcy;":"","&Hacek;":"","&Hat;":"^","&Hcirc;":"","&Hfr;":"","&HilbertSpace;":"","&Hopf;":"","&HorizontalLine;":"","&Hscr;":"","&Hstrok;":"","&HumpDownHump;":"","&HumpEqual;":"","&IEcy;":"","&IJlig;":"","&IOcy;":"","&Iacute":"","&Iacute;":"","&Icirc":"","&Icirc;":"","&Icy;":"","&Idot;":"","&Ifr;":"","&Igrave":"","&Igrave;":"","&Im;":"","&Imacr;":"","&ImaginaryI;":"","&Implies;":"","&Int;":"","&Integral;":"","&Intersection;":"","&InvisibleComma;":"","&InvisibleTimes;":"","&Iogon;":"","&Iopf;":"","&Iota;":"","&Iscr;":"","&Itilde;":"","&Iukcy;":"","&Iuml":"","&Iuml;":"","&Jcirc;":"","&Jcy;":"","&Jfr;":"","&Jopf;":"","&Jscr;":"","&Jsercy;":"","&Jukcy;":"","&KHcy;":"","&KJcy;":"","&Kappa;":"","&Kcedil;":"","&Kcy;":"","&Kfr;":"","&Kopf;":"","&Kscr;":"","&LJcy;":"","&LT":"<","&LT;":"<","&Lacute;":"","&Lambda;":"","&Lang;":"","&Laplacetrf;":"","&Larr;":"","&Lcaron;":"","&Lcedil;":"","&Lcy;":"","&LeftAngleBracket;":"","&LeftArrow;":"","&LeftArrowBar;":"","&LeftArrowRightArrow;":"","&LeftCeiling;":"","&LeftDoubleBracket;":"","&LeftDownTeeVector;":"","&LeftDownVector;":"","&LeftDownVectorBar;":"","&LeftFloor;":"","&LeftRightArrow;":"","&LeftRightVector;":"","&LeftTee;":"","&LeftTeeArrow;":"","&LeftTeeVector;":"","&LeftTriangle;":"","&LeftTriangleBar;":"","&LeftTriangleEqual;":"","&LeftUpDownVector;":"","&LeftUpTeeVector;":"","&LeftUpVector;":"","&LeftUpVectorBar;":"","&LeftVector;":"","&LeftVectorBar;":"","&Leftarrow;":"","&Leftrightarrow;":"","&LessEqualGreater;":"","&LessFullEqual;":"","&LessGreater;":"","&LessLess;":"","&LessSlantEqual;":"","&LessTilde;":"","&Lfr;":"","&Ll;":"","&Lleftarrow;":"","&Lmidot;":"","&LongLeftArrow;":"","&LongLeftRightArrow;":"","&LongRightArrow;":"","&Longleftarrow;":"","&Longleftrightarrow;":"","&Longrightarrow;":"","&Lopf;":"","&LowerLeftArrow;":"","&LowerRightArrow;":"","&Lscr;":"","&Lsh;":"","&Lstrok;":"","&Lt;":"","&Map;":"","&Mcy;":"","&MediumSpace;":"","&Mellintrf;":"","&Mfr;":"","&MinusPlus;":"","&Mopf;":"","&Mscr;":"","&Mu;":"","&NJcy;":"","&Nacute;":"","&Ncaron;":"","&Ncedil;":"","&Ncy;":"","&NegativeMediumSpace;":"","&NegativeThickSpace;":"","&NegativeThinSpace;":"","&NegativeVeryThinSpace;":"","&NestedGreaterGreater;":"","&NestedLessLess;":"","&NewLine;":"\n","&Nfr;":"","&NoBreak;":"","&NonBreakingSpace;":"","&Nopf;":"","&Not;":"","&NotCongruent;":"","&NotCupCap;":"","&NotDoubleVerticalBar;":"","&NotElement;":"","&NotEqual;":"","&NotEqualTilde;":"","&NotExists;":"","&NotGreater;":"","&NotGreaterEqual;":"","&NotGreaterFullEqual;":"","&NotGreaterGreater;":"","&NotGreaterLess;":"","&NotGreaterSlantEqual;":"","&NotGreaterTilde;":"","&NotHumpDownHump;":"","&NotHumpEqual;":"","&NotLeftTriangle;":"","&NotLeftTriangleBar;":"","&NotLeftTriangleEqual;":"","&NotLess;":"","&NotLessEqual;":"","&NotLessGreater;":"","&NotLessLess;":"","&NotLessSlantEqual;":"","&NotLessTilde;":"","&NotNestedGreaterGreater;":"","&NotNestedLessLess;":"","&NotPrecedes;":"","&NotPrecedesEqual;":"","&NotPrecedesSlantEqual;":"","&NotReverseElement;":"","&NotRightTriangle;":"","&NotRightTriangleBar;":"","&NotRightTriangleEqual;":"","&NotSquareSubset;":"","&NotSquareSubsetEqual;":"","&NotSquareSuperset;":"","&NotSquareSupersetEqual;":"","&NotSubset;":"","&NotSubsetEqual;":"","&NotSucceeds;":"","&NotSucceedsEqual;":"","&NotSucceedsSlantEqual;":"","&NotSucceedsTilde;":"","&NotSuperset;":"","&NotSupersetEqual;":"","&NotTilde;":"","&NotTildeEqual;":"","&NotTildeFullEqual;":"","&NotTildeTilde;":"","&NotVerticalBar;":"","&Nscr;":"","&Ntilde":"","&Ntilde;":"","&Nu;":"","&OElig;":"","&Oacute":"","&Oacute;":"","&Ocirc":"","&Ocirc;":"","&Ocy;":"","&Odblac;":"","&Ofr;":"","&Ograve":"","&Ograve;":"","&Omacr;":"","&Omega;":"","&Omicron;":"","&Oopf;":"","&OpenCurlyDoubleQuote;":"","&OpenCurlyQuote;":"","&Or;":"","&Oscr;":"","&Oslash":"","&Oslash;":"","&Otilde":"","&Otilde;":"","&Otimes;":"","&Ouml":"","&Ouml;":"","&OverBar;":"","&OverBrace;":"","&OverBracket;":"","&OverParenthesis;":"","&PartialD;":"","&Pcy;":"","&Pfr;":"","&Phi;":"","&Pi;":"","&PlusMinus;":"","&Poincareplane;":"","&Popf;":"","&Pr;":"","&Precedes;":"","&PrecedesEqual;":"","&PrecedesSlantEqual;":"","&PrecedesTilde;":"","&Prime;":"","&Product;":"","&Proportion;":"","&Proportional;":"","&Pscr;":"","&Psi;":"","&QUOT":'"',"&QUOT;":'"',"&Qfr;":"","&Qopf;":"","&Qscr;":"","&RBarr;":"","&REG":"","&REG;":"","&Racute;":"","&Rang;":"","&Rarr;":"","&Rarrtl;":"","&Rcaron;":"","&Rcedil;":"","&Rcy;":"","&Re;":"","&ReverseElement;":"","&ReverseEquilibrium;":"","&ReverseUpEquilibrium;":"","&Rfr;":"","&Rho;":"","&RightAngleBracket;":"","&RightArrow;":"","&RightArrowBar;":"","&RightArrowLeftArrow;":"","&RightCeiling;":"","&RightDoubleBracket;":"","&RightDownTeeVector;":"","&RightDownVector;":"","&RightDownVectorBar;":"","&RightFloor;":"","&RightTee;":"","&RightTeeArrow;":"","&RightTeeVector;":"","&RightTriangle;":"","&RightTriangleBar;":"","&RightTriangleEqual;":"","&RightUpDownVector;":"","&RightUpTeeVector;":"","&RightUpVector;":"","&RightUpVectorBar;":"","&RightVector;":"","&RightVectorBar;":"","&Rightarrow;":"","&Ropf;":"","&RoundImplies;":"","&Rrightarrow;":"","&Rscr;":"","&Rsh;":"","&RuleDelayed;":"","&SHCHcy;":"","&SHcy;":"","&SOFTcy;":"","&Sacute;":"","&Sc;":"","&Scaron;":"","&Scedil;":"","&Scirc;":"","&Scy;":"","&Sfr;":"","&ShortDownArrow;":"","&ShortLeftArrow;":"","&ShortRightArrow;":"","&ShortUpArrow;":"","&Sigma;":"","&SmallCircle;":"","&Sopf;":"","&Sqrt;":"","&Square;":"","&SquareIntersection;":"","&SquareSubset;":"","&SquareSubsetEqual;":"","&SquareSuperset;":"","&SquareSupersetEqual;":"","&SquareUnion;":"","&Sscr;":"","&Star;":"","&Sub;":"","&Subset;":"","&SubsetEqual;":"","&Succeeds;":"","&SucceedsEqual;":"","&SucceedsSlantEqual;":"","&SucceedsTilde;":"","&SuchThat;":"","&Sum;":"","&Sup;":"","&Superset;":"","&SupersetEqual;":"","&Supset;":"","&THORN":"","&THORN;":"","&TRADE;":"","&TSHcy;":"","&TScy;":"","&Tab;":"\t","&Tau;":"","&Tcaron;":"","&Tcedil;":"","&Tcy;":"","&Tfr;":"","&Therefore;":"","&Theta;":"","&ThickSpace;":"","&ThinSpace;":"","&Tilde;":"","&TildeEqual;":"","&TildeFullEqual;":"","&TildeTilde;":"","&Topf;":"","&TripleDot;":"","&Tscr;":"","&Tstrok;":"","&Uacute":"","&Uacute;":"","&Uarr;":"","&Uarrocir;":"","&Ubrcy;":"","&Ubreve;":"","&Ucirc":"","&Ucirc;":"","&Ucy;":"","&Udblac;":"","&Ufr;":"","&Ugrave":"","&Ugrave;":"","&Umacr;":"","&UnderBar;":"_","&UnderBrace;":"","&UnderBracket;":"","&UnderParenthesis;":"","&Union;":"","&UnionPlus;":"","&Uogon;":"","&Uopf;":"","&UpArrow;":"","&UpArrowBar;":"","&UpArrowDownArrow;":"","&UpDownArrow;":"","&UpEquilibrium;":"","&UpTee;":"","&UpTeeArrow;":"","&Uparrow;":"","&Updownarrow;":"","&UpperLeftArrow;":"","&UpperRightArrow;":"","&Upsi;":"","&Upsilon;":"","&Uring;":"","&Uscr;":"","&Utilde;":"","&Uuml":"","&Uuml;":"","&VDash;":"","&Vbar;":"","&Vcy;":"","&Vdash;":"","&Vdashl;":"","&Vee;":"","&Verbar;":"","&Vert;":"","&VerticalBar;":"","&VerticalLine;":"|","&VerticalSeparator;":"","&VerticalTilde;":"","&VeryThinSpace;":"","&Vfr;":"","&Vopf;":"","&Vscr;":"","&Vvdash;":"","&Wcirc;":"","&Wedge;":"","&Wfr;":"","&Wopf;":"","&Wscr;":"","&Xfr;":"","&Xi;":"","&Xopf;":"","&Xscr;":"","&YAcy;":"","&YIcy;":"","&YUcy;":"","&Yacute":"","&Yacute;":"","&Ycirc;":"","&Ycy;":"","&Yfr;":"","&Yopf;":"","&Yscr;":"","&Yuml;":"","&ZHcy;":"","&Zacute;":"","&Zcaron;":"","&Zcy;":"","&Zdot;":"","&ZeroWidthSpace;":"","&Zeta;":"","&Zfr;":"","&Zopf;":"","&Zscr;":"","&aacute":"","&aacute;":"","&abreve;":"","&ac;":"","&acE;":"","&acd;":"","&acirc":"","&acirc;":"","&acute":"","&acute;":"","&acy;":"","&aelig":"","&aelig;":"","&af;":"","&afr;":"","&agrave":"","&agrave;":"","&alefsym;":"","&aleph;":"","&alpha;":"","&amacr;":"","&amalg;":"","&amp":"&","&amp;":"&","&and;":"","&andand;":"","&andd;":"","&andslope;":"","&andv;":"","&ang;":"","&ange;":"","&angle;":"","&angmsd;":"","&angmsdaa;":"","&angmsdab;":"","&angmsdac;":"","&angmsdad;":"","&angmsdae;":"","&angmsdaf;":"","&angmsdag;":"","&angmsdah;":"","&angrt;":"","&angrtvb;":"","&angrtvbd;":"","&angsph;":"","&angst;":"","&angzarr;":"","&aogon;":"","&aopf;":"","&ap;":"","&apE;":"","&apacir;":"","&ape;":"","&apid;":"","&apos;":"'","&approx;":"","&approxeq;":"","&aring":"","&aring;":"","&ascr;":"","&ast;":"*","&asymp;":"","&asympeq;":"","&atilde":"","&atilde;":"","&auml":"","&auml;":"","&awconint;":"","&awint;":"","&bNot;":"","&backcong;":"","&backepsilon;":"","&backprime;":"","&backsim;":"","&backsimeq;":"","&barvee;":"","&barwed;":"","&barwedge;":"","&bbrk;":"","&bbrktbrk;":"","&bcong;":"","&bcy;":"","&bdquo;":"","&becaus;":"","&because;":"","&bemptyv;":"","&bepsi;":"","&bernou;":"","&beta;":"","&beth;":"","&between;":"","&bfr;":"","&bigcap;":"","&bigcirc;":"","&bigcup;":"","&bigodot;":"","&bigoplus;":"","&bigotimes;":"","&bigsqcup;":"","&bigstar;":"","&bigtriangledown;":"","&bigtriangleup;":"","&biguplus;":"","&bigvee;":"","&bigwedge;":"","&bkarow;":"","&blacklozenge;":"","&blacksquare;":"","&blacktriangle;":"","&blacktriangledown;":"","&blacktriangleleft;":"","&blacktriangleright;":"","&blank;":"","&blk12;":"","&blk14;":"","&blk34;":"","&block;":"","&bne;":"=","&bnequiv;":"","&bnot;":"","&bopf;":"","&bot;":"","&bottom;":"","&bowtie;":"","&boxDL;":"","&boxDR;":"","&boxDl;":"","&boxDr;":"","&boxH;":"","&boxHD;":"","&boxHU;":"","&boxHd;":"","&boxHu;":"","&boxUL;":"","&boxUR;":"","&boxUl;":"","&boxUr;":"","&boxV;":"","&boxVH;":"","&boxVL;":"","&boxVR;":"","&boxVh;":"","&boxVl;":"","&boxVr;":"","&boxbox;":"","&boxdL;":"","&boxdR;":"","&boxdl;":"","&boxdr;":"","&boxh;":"","&boxhD;":"","&boxhU;":"","&boxhd;":"","&boxhu;":"","&boxminus;":"","&boxplus;":"","&boxtimes;":"","&boxuL;":"","&boxuR;":"","&boxul;":"","&boxur;":"","&boxv;":"","&boxvH;":"","&boxvL;":"","&boxvR;":"","&boxvh;":"","&boxvl;":"","&boxvr;":"","&bprime;":"","&breve;":"","&brvbar":"","&brvbar;":"","&bscr;":"","&bsemi;":"","&bsim;":"","&bsime;":"","&bsol;":"\\","&bsolb;":"","&bsolhsub;":"","&bull;":"","&bullet;":"","&bump;":"","&bumpE;":"","&bumpe;":"","&bumpeq;":"","&cacute;":"","&cap;":"","&capand;":"","&capbrcup;":"","&capcap;":"","&capcup;":"","&capdot;":"","&caps;":"","&caret;":"","&caron;":"","&ccaps;":"","&ccaron;":"","&ccedil":"","&ccedil;":"","&ccirc;":"","&ccups;":"","&ccupssm;":"","&cdot;":"","&cedil":"","&cedil;":"","&cemptyv;":"","&cent":"","&cent;":"","&centerdot;":"","&cfr;":"","&chcy;":"","&check;":"","&checkmark;":"","&chi;":"","&cir;":"","&cirE;":"","&circ;":"","&circeq;":"","&circlearrowleft;":"","&circlearrowright;":"","&circledR;":"","&circledS;":"","&circledast;":"","&circledcirc;":"","&circleddash;":"","&cire;":"","&cirfnint;":"","&cirmid;":"","&cirscir;":"","&clubs;":"","&clubsuit;":"","&colon;":":","&colone;":"","&coloneq;":"","&comma;":",","&commat;":"@","&comp;":"","&compfn;":"","&complement;":"","&complexes;":"","&cong;":"","&congdot;":"","&conint;":"","&copf;":"","&coprod;":"","&copy":"","&copy;":"","&copysr;":"","&crarr;":"","&cross;":"","&cscr;":"","&csub;":"","&csube;":"","&csup;":"","&csupe;":"","&ctdot;":"","&cudarrl;":"","&cudarrr;":"","&cuepr;":"","&cuesc;":"","&cularr;":"","&cularrp;":"","&cup;":"","&cupbrcap;":"","&cupcap;":"","&cupcup;":"","&cupdot;":"","&cupor;":"","&cups;":"","&curarr;":"","&curarrm;":"","&curlyeqprec;":"","&curlyeqsucc;":"","&curlyvee;":"","&curlywedge;":"","&curren":"","&curren;":"","&curvearrowleft;":"","&curvearrowright;":"","&cuvee;":"","&cuwed;":"","&cwconint;":"","&cwint;":"","&cylcty;":"","&dArr;":"","&dHar;":"","&dagger;":"","&daleth;":"","&darr;":"","&dash;":"","&dashv;":"","&dbkarow;":"","&dblac;":"","&dcaron;":"","&dcy;":"","&dd;":"","&ddagger;":"","&ddarr;":"","&ddotseq;":"","&deg":"","&deg;":"","&delta;":"","&demptyv;":"","&dfisht;":"","&dfr;":"","&dharl;":"","&dharr;":"","&diam;":"","&diamond;":"","&diamondsuit;":"","&diams;":"","&die;":"","&digamma;":"","&disin;":"","&div;":"","&divide":"","&divide;":"","&divideontimes;":"","&divonx;":"","&djcy;":"","&dlcorn;":"","&dlcrop;":"","&dollar;":"$","&dopf;":"","&dot;":"","&doteq;":"","&doteqdot;":"","&dotminus;":"","&dotplus;":"","&dotsquare;":"","&doublebarwedge;":"","&downarrow;":"","&downdownarrows;":"","&downharpoonleft;":"","&downharpoonright;":"","&drbkarow;":"","&drcorn;":"","&drcrop;":"","&dscr;":"","&dscy;":"","&dsol;":"","&dstrok;":"","&dtdot;":"","&dtri;":"","&dtrif;":"","&duarr;":"","&duhar;":"","&dwangle;":"","&dzcy;":"","&dzigrarr;":"","&eDDot;":"","&eDot;":"","&eacute":"","&eacute;":"","&easter;":"","&ecaron;":"","&ecir;":"","&ecirc":"","&ecirc;":"","&ecolon;":"","&ecy;":"","&edot;":"","&ee;":"","&efDot;":"","&efr;":"","&eg;":"","&egrave":"","&egrave;":"","&egs;":"","&egsdot;":"","&el;":"","&elinters;":"","&ell;":"","&els;":"","&elsdot;":"","&emacr;":"","&empty;":"","&emptyset;":"","&emptyv;":"","&emsp13;":"","&emsp14;":"","&emsp;":"","&eng;":"","&ensp;":"","&eogon;":"","&eopf;":"","&epar;":"","&eparsl;":"","&eplus;":"","&epsi;":"","&epsilon;":"","&epsiv;":"","&eqcirc;":"","&eqcolon;":"","&eqsim;":"","&eqslantgtr;":"","&eqslantless;":"","&equals;":"=","&equest;":"","&equiv;":"","&equivDD;":"","&eqvparsl;":"","&erDot;":"","&erarr;":"","&escr;":"","&esdot;":"","&esim;":"","&eta;":"","&eth":"","&eth;":"","&euml":"","&euml;":"","&euro;":"","&excl;":"!","&exist;":"","&expectation;":"","&exponentiale;":"","&fallingdotseq;":"","&fcy;":"","&female;":"","&ffilig;":"","&fflig;":"","&ffllig;":"","&ffr;":"","&filig;":"","&fjlig;":"fj","&flat;":"","&fllig;":"","&fltns;":"","&fnof;":"","&fopf;":"","&forall;":"","&fork;":"","&forkv;":"","&fpartint;":"","&frac12":"","&frac12;":"","&frac13;":"","&frac14":"","&frac14;":"","&frac15;":"","&frac16;":"","&frac18;":"","&frac23;":"","&frac25;":"","&frac34":"","&frac34;":"","&frac35;":"","&frac38;":"","&frac45;":"","&frac56;":"","&frac58;":"","&frac78;":"","&frasl;":"","&frown;":"","&fscr;":"","&gE;":"","&gEl;":"","&gacute;":"","&gamma;":"","&gammad;":"","&gap;":"","&gbreve;":"","&gcirc;":"","&gcy;":"","&gdot;":"","&ge;":"","&gel;":"","&geq;":"","&geqq;":"","&geqslant;":"","&ges;":"","&gescc;":"","&gesdot;":"","&gesdoto;":"","&gesdotol;":"","&gesl;":"","&gesles;":"","&gfr;":"","&gg;":"","&ggg;":"","&gimel;":"","&gjcy;":"","&gl;":"","&glE;":"","&gla;":"","&glj;":"","&gnE;":"","&gnap;":"","&gnapprox;":"","&gne;":"","&gneq;":"","&gneqq;":"","&gnsim;":"","&gopf;":"","&grave;":"`","&gscr;":"","&gsim;":"","&gsime;":"","&gsiml;":"","&gt":">","&gt;":">","&gtcc;":"","&gtcir;":"","&gtdot;":"","&gtlPar;":"","&gtquest;":"","&gtrapprox;":"","&gtrarr;":"","&gtrdot;":"","&gtreqless;":"","&gtreqqless;":"","&gtrless;":"","&gtrsim;":"","&gvertneqq;":"","&gvnE;":"","&hArr;":"","&hairsp;":"","&half;":"","&hamilt;":"","&hardcy;":"","&harr;":"","&harrcir;":"","&harrw;":"","&hbar;":"","&hcirc;":"","&hearts;":"","&heartsuit;":"","&hellip;":"","&hercon;":"","&hfr;":"","&hksearow;":"","&hkswarow;":"","&hoarr;":"","&homtht;":"","&hookleftarrow;":"","&hookrightarrow;":"","&hopf;":"","&horbar;":"","&hscr;":"","&hslash;":"","&hstrok;":"","&hybull;":"","&hyphen;":"","&iacute":"","&iacute;":"","&ic;":"","&icirc":"","&icirc;":"","&icy;":"","&iecy;":"","&iexcl":"","&iexcl;":"","&iff;":"","&ifr;":"","&igrave":"","&igrave;":"","&ii;":"","&iiiint;":"","&iiint;":"","&iinfin;":"","&iiota;":"","&ijlig;":"","&imacr;":"","&image;":"","&imagline;":"","&imagpart;":"","&imath;":"","&imof;":"","&imped;":"","&in;":"","&incare;":"","&infin;":"","&infintie;":"","&inodot;":"","&int;":"","&intcal;":"","&integers;":"","&intercal;":"","&intlarhk;":"","&intprod;":"","&iocy;":"","&iogon;":"","&iopf;":"","&iota;":"","&iprod;":"","&iquest":"","&iquest;":"","&iscr;":"","&isin;":"","&isinE;":"","&isindot;":"","&isins;":"","&isinsv;":"","&isinv;":"","&it;":"","&itilde;":"","&iukcy;":"","&iuml":"","&iuml;":"","&jcirc;":"","&jcy;":"","&jfr;":"","&jmath;":"","&jopf;":"","&jscr;":"","&jsercy;":"","&jukcy;":"","&kappa;":"","&kappav;":"","&kcedil;":"","&kcy;":"","&kfr;":"","&kgreen;":"","&khcy;":"","&kjcy;":"","&kopf;":"","&kscr;":"","&lAarr;":"","&lArr;":"","&lAtail;":"","&lBarr;":"","&lE;":"","&lEg;":"","&lHar;":"","&lacute;":"","&laemptyv;":"","&lagran;":"","&lambda;":"","&lang;":"","&langd;":"","&langle;":"","&lap;":"","&laquo":"","&laquo;":"","&larr;":"","&larrb;":"","&larrbfs;":"","&larrfs;":"","&larrhk;":"","&larrlp;":"","&larrpl;":"","&larrsim;":"","&larrtl;":"","&lat;":"","&latail;":"","&late;":"","&lates;":"","&lbarr;":"","&lbbrk;":"","&lbrace;":"{","&lbrack;":"[","&lbrke;":"","&lbrksld;":"","&lbrkslu;":"","&lcaron;":"","&lcedil;":"","&lceil;":"","&lcub;":"{","&lcy;":"","&ldca;":"","&ldquo;":"","&ldquor;":"","&ldrdhar;":"","&ldrushar;":"","&ldsh;":"","&le;":"","&leftarrow;":"","&leftarrowtail;":"","&leftharpoondown;":"","&leftharpoonup;":"","&leftleftarrows;":"","&leftrightarrow;":"","&leftrightarrows;":"","&leftrightharpoons;":"","&leftrightsquigarrow;":"","&leftthreetimes;":"","&leg;":"","&leq;":"","&leqq;":"","&leqslant;":"","&les;":"","&lescc;":"","&lesdot;":"","&lesdoto;":"","&lesdotor;":"","&lesg;":"","&lesges;":"","&lessapprox;":"","&lessdot;":"","&lesseqgtr;":"","&lesseqqgtr;":"","&lessgtr;":"","&lesssim;":"","&lfisht;":"","&lfloor;":"","&lfr;":"","&lg;":"","&lgE;":"","&lhard;":"","&lharu;":"","&lharul;":"","&lhblk;":"","&ljcy;":"","&ll;":"","&llarr;":"","&llcorner;":"","&llhard;":"","&lltri;":"","&lmidot;":"","&lmoust;":"","&lmoustache;":"","&lnE;":"","&lnap;":"","&lnapprox;":"","&lne;":"","&lneq;":"","&lneqq;":"","&lnsim;":"","&loang;":"","&loarr;":"","&lobrk;":"","&longleftarrow;":"","&longleftrightarrow;":"","&longmapsto;":"","&longrightarrow;":"","&looparrowleft;":"","&looparrowright;":"","&lopar;":"","&lopf;":"","&loplus;":"","&lotimes;":"","&lowast;":"","&lowbar;":"_","&loz;":"","&lozenge;":"","&lozf;":"","&lpar;":"(","&lparlt;":"","&lrarr;":"","&lrcorner;":"","&lrhar;":"","&lrhard;":"","&lrm;":"","&lrtri;":"","&lsaquo;":"","&lscr;":"","&lsh;":"","&lsim;":"","&lsime;":"","&lsimg;":"","&lsqb;":"[","&lsquo;":"","&lsquor;":"","&lstrok;":"","&lt":"<","&lt;":"<","&ltcc;":"","&ltcir;":"","&ltdot;":"","&lthree;":"","&ltimes;":"","&ltlarr;":"","&ltquest;":"","&ltrPar;":"","&ltri;":"","&ltrie;":"","&ltrif;":"","&lurdshar;":"","&luruhar;":"","&lvertneqq;":"","&lvnE;":"","&mDDot;":"","&macr":"","&macr;":"","&male;":"","&malt;":"","&maltese;":"","&map;":"","&mapsto;":"","&mapstodown;":"","&mapstoleft;":"","&mapstoup;":"","&marker;":"","&mcomma;":"","&mcy;":"","&mdash;":"","&measuredangle;":"","&mfr;":"","&mho;":"","&micro":"","&micro;":"","&mid;":"","&midast;":"*","&midcir;":"","&middot":"","&middot;":"","&minus;":"","&minusb;":"","&minusd;":"","&minusdu;":"","&mlcp;":"","&mldr;":"","&mnplus;":"","&models;":"","&mopf;":"","&mp;":"","&mscr;":"","&mstpos;":"","&mu;":"","&multimap;":"","&mumap;":"","&nGg;":"","&nGt;":"","&nGtv;":"","&nLeftarrow;":"","&nLeftrightarrow;":"","&nLl;":"","&nLt;":"","&nLtv;":"","&nRightarrow;":"","&nVDash;":"","&nVdash;":"","&nabla;":"","&nacute;":"","&nang;":"","&nap;":"","&napE;":"","&napid;":"","&napos;":"","&napprox;":"","&natur;":"","&natural;":"","&naturals;":"","&nbsp":"","&nbsp;":"","&nbump;":"","&nbumpe;":"","&ncap;":"","&ncaron;":"","&ncedil;":"","&ncong;":"","&ncongdot;":"","&ncup;":"","&ncy;":"","&ndash;":"","&ne;":"","&neArr;":"","&nearhk;":"","&nearr;":"","&nearrow;":"","&nedot;":"","&nequiv;":"","&nesear;":"","&nesim;":"","&nexist;":"","&nexists;":"","&nfr;":"","&ngE;":"","&nge;":"","&ngeq;":"","&ngeqq;":"","&ngeqslant;":"","&nges;":"","&ngsim;":"","&ngt;":"","&ngtr;":"","&nhArr;":"","&nharr;":"","&nhpar;":"","&ni;":"","&nis;":"","&nisd;":"","&niv;":"","&njcy;":"","&nlArr;":"","&nlE;":"","&nlarr;":"","&nldr;":"","&nle;":"","&nleftarrow;":"","&nleftrightarrow;":"","&nleq;":"","&nleqq;":"","&nleqslant;":"","&nles;":"","&nless;":"","&nlsim;":"","&nlt;":"","&nltri;":"","&nltrie;":"","&nmid;":"","&nopf;":"","&not":"","&not;":"","&notin;":"","&notinE;":"","&notindot;":"","&notinva;":"","&notinvb;":"","&notinvc;":"","&notni;":"","&notniva;":"","&notnivb;":"","&notnivc;":"","&npar;":"","&nparallel;":"","&nparsl;":"","&npart;":"","&npolint;":"","&npr;":"","&nprcue;":"","&npre;":"","&nprec;":"","&npreceq;":"","&nrArr;":"","&nrarr;":"","&nrarrc;":"","&nrarrw;":"","&nrightarrow;":"","&nrtri;":"","&nrtrie;":"","&nsc;":"","&nsccue;":"","&nsce;":"","&nscr;":"","&nshortmid;":"","&nshortparallel;":"","&nsim;":"","&nsime;":"","&nsimeq;":"","&nsmid;":"","&nspar;":"","&nsqsube;":"","&nsqsupe;":"","&nsub;":"","&nsubE;":"","&nsube;":"","&nsubset;":"","&nsubseteq;":"","&nsubseteqq;":"","&nsucc;":"","&nsucceq;":"","&nsup;":"","&nsupE;":"","&nsupe;":"","&nsupset;":"","&nsupseteq;":"","&nsupseteqq;":"","&ntgl;":"","&ntilde":"","&ntilde;":"","&ntlg;":"","&ntriangleleft;":"","&ntrianglelefteq;":"","&ntriangleright;":"","&ntrianglerighteq;":"","&nu;":"","&num;":"#","&numero;":"","&numsp;":"","&nvDash;":"","&nvHarr;":"","&nvap;":"","&nvdash;":"","&nvge;":"","&nvgt;":">","&nvinfin;":"","&nvlArr;":"","&nvle;":"","&nvlt;":"<","&nvltrie;":"","&nvrArr;":"","&nvrtrie;":"","&nvsim;":"","&nwArr;":"","&nwarhk;":"","&nwarr;":"","&nwarrow;":"","&nwnear;":"","&oS;":"","&oacute":"","&oacute;":"","&oast;":"","&ocir;":"","&ocirc":"","&ocirc;":"","&ocy;":"","&odash;":"","&odblac;":"","&odiv;":"","&odot;":"","&odsold;":"","&oelig;":"","&ofcir;":"","&ofr;":"","&ogon;":"","&ograve":"","&ograve;":"","&ogt;":"","&ohbar;":"","&ohm;":"","&oint;":"","&olarr;":"","&olcir;":"","&olcross;":"","&oline;":"","&olt;":"","&omacr;":"","&omega;":"","&omicron;":"","&omid;":"","&ominus;":"","&oopf;":"","&opar;":"","&operp;":"","&oplus;":"","&or;":"","&orarr;":"","&ord;":"","&order;":"","&orderof;":"","&ordf":"","&ordf;":"","&ordm":"","&ordm;":"","&origof;":"","&oror;":"","&orslope;":"","&orv;":"","&oscr;":"","&oslash":"","&oslash;":"","&osol;":"","&otilde":"","&otilde;":"","&otimes;":"","&otimesas;":"","&ouml":"","&ouml;":"","&ovbar;":"","&par;":"","&para":"","&para;":"","&parallel;":"","&parsim;":"","&parsl;":"","&part;":"","&pcy;":"","&percnt;":"%","&period;":".","&permil;":"","&perp;":"","&pertenk;":"","&pfr;":"","&phi;":"","&phiv;":"","&phmmat;":"","&phone;":"","&pi;":"","&pitchfork;":"","&piv;":"","&planck;":"","&planckh;":"","&plankv;":"","&plus;":"+","&plusacir;":"","&plusb;":"","&pluscir;":"","&plusdo;":"","&plusdu;":"","&pluse;":"","&plusmn":"","&plusmn;":"","&plussim;":"","&plustwo;":"","&pm;":"","&pointint;":"","&popf;":"","&pound":"","&pound;":"","&pr;":"","&prE;":"","&prap;":"","&prcue;":"","&pre;":"","&prec;":"","&precapprox;":"","&preccurlyeq;":"","&preceq;":"","&precnapprox;":"","&precneqq;":"","&precnsim;":"","&precsim;":"","&prime;":"","&primes;":"","&prnE;":"","&prnap;":"","&prnsim;":"","&prod;":"","&profalar;":"","&profline;":"","&profsurf;":"","&prop;":"","&propto;":"","&prsim;":"","&prurel;":"","&pscr;":"","&psi;":"","&puncsp;":"","&qfr;":"","&qint;":"","&qopf;":"","&qprime;":"","&qscr;":"","&quaternions;":"","&quatint;":"","&quest;":"?","&questeq;":"","&quot":'"',"&quot;":'"',"&rAarr;":"","&rArr;":"","&rAtail;":"","&rBarr;":"","&rHar;":"","&race;":"","&racute;":"","&radic;":"","&raemptyv;":"","&rang;":"","&rangd;":"","&range;":"","&rangle;":"","&raquo":"","&raquo;":"","&rarr;":"","&rarrap;":"","&rarrb;":"","&rarrbfs;":"","&rarrc;":"","&rarrfs;":"","&rarrhk;":"","&rarrlp;":"","&rarrpl;":"","&rarrsim;":"","&rarrtl;":"","&rarrw;":"","&ratail;":"","&ratio;":"","&rationals;":"","&rbarr;":"","&rbbrk;":"","&rbrace;":"}","&rbrack;":"]","&rbrke;":"","&rbrksld;":"","&rbrkslu;":"","&rcaron;":"","&rcedil;":"","&rceil;":"","&rcub;":"}","&rcy;":"","&rdca;":"","&rdldhar;":"","&rdquo;":"","&rdquor;":"","&rdsh;":"","&real;":"","&realine;":"","&realpart;":"","&reals;":"","&rect;":"","&reg":"","&reg;":"","&rfisht;":"","&rfloor;":"","&rfr;":"","&rhard;":"","&rharu;":"","&rharul;":"","&rho;":"","&rhov;":"","&rightarrow;":"","&rightarrowtail;":"","&rightharpoondown;":"","&rightharpoonup;":"","&rightleftarrows;":"","&rightleftharpoons;":"","&rightrightarrows;":"","&rightsquigarrow;":"","&rightthreetimes;":"","&ring;":"","&risingdotseq;":"","&rlarr;":"","&rlhar;":"","&rlm;":"","&rmoust;":"","&rmoustache;":"","&rnmid;":"","&roang;":"","&roarr;":"","&robrk;":"","&ropar;":"","&ropf;":"","&roplus;":"","&rotimes;":"","&rpar;":")","&rpargt;":"","&rppolint;":"","&rrarr;":"","&rsaquo;":"","&rscr;":"","&rsh;":"","&rsqb;":"]","&rsquo;":"","&rsquor;":"","&rthree;":"","&rtimes;":"","&rtri;":"","&rtrie;":"","&rtrif;":"","&rtriltri;":"","&ruluhar;":"","&rx;":"","&sacute;":"","&sbquo;":"","&sc;":"","&scE;":"","&scap;":"","&scaron;":"","&sccue;":"","&sce;":"","&scedil;":"","&scirc;":"","&scnE;":"","&scnap;":"","&scnsim;":"","&scpolint;":"","&scsim;":"","&scy;":"","&sdot;":"","&sdotb;":"","&sdote;":"","&seArr;":"","&searhk;":"","&searr;":"","&searrow;":"","&sect":"","&sect;":"","&semi;":";","&seswar;":"","&setminus;":"","&setmn;":"","&sext;":"","&sfr;":"","&sfrown;":"","&sharp;":"","&shchcy;":"","&shcy;":"","&shortmid;":"","&shortparallel;":"","&shy":"","&shy;":"","&sigma;":"","&sigmaf;":"","&sigmav;":"","&sim;":"","&simdot;":"","&sime;":"","&simeq;":"","&simg;":"","&simgE;":"","&siml;":"","&simlE;":"","&simne;":"","&simplus;":"","&simrarr;":"","&slarr;":"","&smallsetminus;":"","&smashp;":"","&smeparsl;":"","&smid;":"","&smile;":"","&smt;":"","&smte;":"","&smtes;":"","&softcy;":"","&sol;":"/","&solb;":"","&solbar;":"","&sopf;":"","&spades;":"","&spadesuit;":"","&spar;":"","&sqcap;":"","&sqcaps;":"","&sqcup;":"","&sqcups;":"","&sqsub;":"","&sqsube;":"","&sqsubset;":"","&sqsubseteq;":"","&sqsup;":"","&sqsupe;":"","&sqsupset;":"","&sqsupseteq;":"","&squ;":"","&square;":"","&squarf;":"","&squf;":"","&srarr;":"","&sscr;":"","&ssetmn;":"","&ssmile;":"","&sstarf;":"","&star;":"","&starf;":"","&straightepsilon;":"","&straightphi;":"","&strns;":"","&sub;":"","&subE;":"","&subdot;":"","&sube;":"","&subedot;":"","&submult;":"","&subnE;":"","&subne;":"","&subplus;":"","&subrarr;":"","&subset;":"","&subseteq;":"","&subseteqq;":"","&subsetneq;":"","&subsetneqq;":"","&subsim;":"","&subsub;":"","&subsup;":"","&succ;":"","&succapprox;":"","&succcurlyeq;":"","&succeq;":"","&succnapprox;":"","&succneqq;":"","&succnsim;":"","&succsim;":"","&sum;":"","&sung;":"","&sup1":"","&sup1;":"","&sup2":"","&sup2;":"","&sup3":"","&sup3;":"","&sup;":"","&supE;":"","&supdot;":"","&supdsub;":"","&supe;":"","&supedot;":"","&suphsol;":"","&suphsub;":"","&suplarr;":"","&supmult;":"","&supnE;":"","&supne;":"","&supplus;":"","&supset;":"","&supseteq;":"","&supseteqq;":"","&supsetneq;":"","&supsetneqq;":"","&supsim;":"","&supsub;":"","&supsup;":"","&swArr;":"","&swarhk;":"","&swarr;":"","&swarrow;":"","&swnwar;":"","&szlig":"","&szlig;":"","&target;":"","&tau;":"","&tbrk;":"","&tcaron;":"","&tcedil;":"","&tcy;":"","&tdot;":"","&telrec;":"","&tfr;":"","&there4;":"","&therefore;":"","&theta;":"","&thetasym;":"","&thetav;":"","&thickapprox;":"","&thicksim;":"","&thinsp;":"","&thkap;":"","&thksim;":"","&thorn":"","&thorn;":"","&tilde;":"","&times":"","&times;":"","&timesb;":"","&timesbar;":"","&timesd;":"","&tint;":"","&toea;":"","&top;":"","&topbot;":"","&topcir;":"","&topf;":"","&topfork;":"","&tosa;":"","&tprime;":"","&trade;":"","&triangle;":"","&triangledown;":"","&triangleleft;":"","&trianglelefteq;":"","&triangleq;":"","&triangleright;":"","&trianglerighteq;":"","&tridot;":"","&trie;":"","&triminus;":"","&triplus;":"","&trisb;":"","&tritime;":"","&trpezium;":"","&tscr;":"","&tscy;":"","&tshcy;":"","&tstrok;":"","&twixt;":"","&twoheadleftarrow;":"","&twoheadrightarrow;":"","&uArr;":"","&uHar;":"","&uacute":"","&uacute;":"","&uarr;":"","&ubrcy;":"","&ubreve;":"","&ucirc":"","&ucirc;":"","&ucy;":"","&udarr;":"","&udblac;":"","&udhar;":"","&ufisht;":"","&ufr;":"","&ugrave":"","&ugrave;":"","&uharl;":"","&uharr;":"","&uhblk;":"","&ulcorn;":"","&ulcorner;":"","&ulcrop;":"","&ultri;":"","&umacr;":"","&uml":"","&uml;":"","&uogon;":"","&uopf;":"","&uparrow;":"","&updownarrow;":"","&upharpoonleft;":"","&upharpoonright;":"","&uplus;":"","&upsi;":"","&upsih;":"","&upsilon;":"","&upuparrows;":"","&urcorn;":"","&urcorner;":"","&urcrop;":"","&uring;":"","&urtri;":"","&uscr;":"","&utdot;":"","&utilde;":"","&utri;":"","&utrif;":"","&uuarr;":"","&uuml":"","&uuml;":"","&uwangle;":"","&vArr;":"","&vBar;":"","&vBarv;":"","&vDash;":"","&vangrt;":"","&varepsilon;":"","&varkappa;":"","&varnothing;":"","&varphi;":"","&varpi;":"","&varpropto;":"","&varr;":"","&varrho;":"","&varsigma;":"","&varsubsetneq;":"","&varsubsetneqq;":"","&varsupsetneq;":"","&varsupsetneqq;":"","&vartheta;":"","&vartriangleleft;":"","&vartriangleright;":"","&vcy;":"","&vdash;":"","&vee;":"","&veebar;":"","&veeeq;":"","&vellip;":"","&verbar;":"|","&vert;":"|","&vfr;":"","&vltri;":"","&vnsub;":"","&vnsup;":"","&vopf;":"","&vprop;":"","&vrtri;":"","&vscr;":"","&vsubnE;":"","&vsubne;":"","&vsupnE;":"","&vsupne;":"","&vzigzag;":"","&wcirc;":"","&wedbar;":"","&wedge;":"","&wedgeq;":"","&weierp;":"","&wfr;":"","&wopf;":"","&wp;":"","&wr;":"","&wreath;":"","&wscr;":"","&xcap;":"","&xcirc;":"","&xcup;":"","&xdtri;":"","&xfr;":"","&xhArr;":"","&xharr;":"","&xi;":"","&xlArr;":"","&xlarr;":"","&xmap;":"","&xnis;":"","&xodot;":"","&xopf;":"","&xoplus;":"","&xotime;":"","&xrArr;":"","&xrarr;":"","&xscr;":"","&xsqcup;":"","&xuplus;":"","&xutri;":"","&xvee;":"","&xwedge;":"","&yacute":"","&yacute;":"","&yacy;":"","&ycirc;":"","&ycy;":"","&yen":"","&yen;":"","&yfr;":"","&yicy;":"","&yopf;":"","&yscr;":"","&yucy;":"","&yuml":"","&yuml;":"","&zacute;":"","&zcaron;":"","&zcy;":"","&zdot;":"","&zeetrf;":"","&zeta;":"","&zfr;":"","&zhcy;":"","&zigrarr;":"","&zopf;":"","&zscr;":"","&zwj;":"","&zwnj;":""},characters:{"":"&AElig;","&":"&amp;","":"&Aacute;","":"&Abreve;","":"&Acirc;","":"&Acy;","":"&Afr;","":"&Agrave;","":"&Alpha;","":"&Amacr;","":"&And;","":"&Aogon;","":"&Aopf;","":"&af;","":"&angst;","":"&Ascr;","":"&coloneq;","":"&Atilde;","":"&Auml;","":"&ssetmn;","":"&Barv;","":"&doublebarwedge;","":"&Bcy;","":"&because;","":"&bernou;","":"&Beta;","":"&Bfr;","":"&Bopf;","":"&breve;","":"&bump;","":"&CHcy;","":"&copy;","":"&Cacute;","":"&Cap;","":"&DD;","":"&Cfr;","":"&Ccaron;","":"&Ccedil;","":"&Ccirc;","":"&Cconint;","":"&Cdot;","":"&cedil;","":"&middot;","":"&Chi;","":"&odot;","":"&ominus;","":"&oplus;","":"&otimes;","":"&cwconint;","":"&rdquor;","":"&rsquor;","":"&Proportion;","":"&Colone;","":"&equiv;","":"&DoubleContourIntegral;","":"&oint;","":"&complexes;","":"&coprod;","":"&awconint;","":"&Cross;","":"&Cscr;","":"&Cup;","":"&asympeq;","":"&DDotrahd;","":"&DJcy;","":"&DScy;","":"&DZcy;","":"&ddagger;","":"&Darr;","":"&DoubleLeftTee;","":"&Dcaron;","":"&Dcy;","":"&nabla;","":"&Delta;","":"&Dfr;","":"&acute;","":"&dot;","":"&dblac;","`":"&grave;","":"&tilde;","":"&diamond;","":"&dd;","":"&Dopf;","":"&uml;","":"&DotDot;","":"&esdot;","":"&dArr;","":"&lArr;","":"&iff;","":"&xlArr;","":"&xhArr;","":"&xrArr;","":"&rArr;","":"&vDash;","":"&uArr;","":"&vArr;","":"&spar;","":"&downarrow;","":"&DownArrowBar;","":"&duarr;","":"&DownBreve;","":"&DownLeftRightVector;","":"&DownLeftTeeVector;","":"&lhard;","":"&DownLeftVectorBar;","":"&DownRightTeeVector;","":"&rightharpoondown;","":"&DownRightVectorBar;","":"&top;","":"&mapstodown;","":"&Dscr;","":"&Dstrok;","":"&ENG;","":"&ETH;","":"&Eacute;","":"&Ecaron;","":"&Ecirc;","":"&Ecy;","":"&Edot;","":"&Efr;","":"&Egrave;","":"&isinv;","":"&Emacr;","":"&EmptySmallSquare;","":"&EmptyVerySmallSquare;","":"&Eogon;","":"&Eopf;","":"&Epsilon;","":"&Equal;","":"&esim;","":"&rlhar;","":"&expectation;","":"&Esim;","":"&Eta;","":"&Euml;","":"&exist;","":"&exponentiale;","":"&Fcy;","":"&Ffr;","":"&FilledSmallSquare;","":"&squf;","":"&Fopf;","":"&forall;","":"&Fscr;","":"&GJcy;",">":"&gt;","":"&Gamma;","":"&Gammad;","":"&Gbreve;","":"&Gcedil;","":"&Gcirc;","":"&Gcy;","":"&Gdot;","":"&Gfr;","":"&ggg;","":"&Gopf;","":"&geq;","":"&gtreqless;","":"&geqq;","":"&GreaterGreater;","":"&gtrless;","":"&ges;","":"&gtrsim;","":"&Gscr;","":"&gg;","":"&HARDcy;","":"&caron;","^":"&Hat;","":"&Hcirc;","":"&Poincareplane;","":"&hamilt;","":"&quaternions;","":"&boxh;","":"&Hstrok;","":"&bumpeq;","":"&IEcy;","":"&IJlig;","":"&IOcy;","":"&Iacute;","":"&Icirc;","":"&Icy;","":"&Idot;","":"&imagpart;","":"&Igrave;","":"&Imacr;","":"&ii;","":"&Int;","":"&int;","":"&xcap;","":"&ic;","":"&it;","":"&Iogon;","":"&Iopf;","":"&Iota;","":"&imagline;","":"&Itilde;","":"&Iukcy;","":"&Iuml;","":"&Jcirc;","":"&Jcy;","":"&Jfr;","":"&Jopf;","":"&Jscr;","":"&Jsercy;","":"&Jukcy;","":"&KHcy;","":"&KJcy;","":"&Kappa;","":"&Kcedil;","":"&Kcy;","":"&Kfr;","":"&Kopf;","":"&Kscr;","":"&LJcy;","<":"&lt;","":"&Lacute;","":"&Lambda;","":"&Lang;","":"&lagran;","":"&twoheadleftarrow;","":"&Lcaron;","":"&Lcedil;","":"&Lcy;","":"&langle;","":"&slarr;","":"&larrb;","":"&lrarr;","":"&lceil;","":"&lobrk;","":"&LeftDownTeeVector;","":"&downharpoonleft;","":"&LeftDownVectorBar;","":"&lfloor;","":"&leftrightarrow;","":"&LeftRightVector;","":"&dashv;","":"&mapstoleft;","":"&LeftTeeVector;","":"&vltri;","":"&LeftTriangleBar;","":"&trianglelefteq;","":"&LeftUpDownVector;","":"&LeftUpTeeVector;","":"&upharpoonleft;","":"&LeftUpVectorBar;","":"&lharu;","":"&LeftVectorBar;","":"&lesseqgtr;","":"&leqq;","":"&lg;","":"&LessLess;","":"&les;","":"&lsim;","":"&Lfr;","":"&Ll;","":"&lAarr;","":"&Lmidot;","":"&xlarr;","":"&xharr;","":"&xrarr;","":"&Lopf;","":"&swarrow;","":"&searrow;","":"&lsh;","":"&Lstrok;","":"&ll;","":"&Map;","":"&Mcy;","":"&MediumSpace;","":"&phmmat;","":"&Mfr;","":"&mp;","":"&Mopf;","":"&Mu;","":"&NJcy;","":"&Nacute;","":"&Ncaron;","":"&Ncedil;","":"&Ncy;","":"&ZeroWidthSpace;","\n":"&NewLine;","":"&Nfr;","":"&NoBreak;","":"&nbsp;","":"&naturals;","":"&Not;","":"&nequiv;","":"&NotCupCap;","":"&nspar;","":"&notinva;","":"&ne;","":"&nesim;","":"&nexists;","":"&ngtr;","":"&ngeq;","":"&ngeqq;","":"&nGtv;","":"&ntgl;","":"&nges;","":"&ngsim;","":"&nbump;","":"&nbumpe;","":"&ntriangleleft;","":"&NotLeftTriangleBar;","":"&ntrianglelefteq;","":"&nlt;","":"&nleq;","":"&ntlg;","":"&nLtv;","":"&nles;","":"&nlsim;","":"&NotNestedGreaterGreater;","":"&NotNestedLessLess;","":"&nprec;","":"&npreceq;","":"&nprcue;","":"&notniva;","":"&ntriangleright;","":"&NotRightTriangleBar;","":"&ntrianglerighteq;","":"&NotSquareSubset;","":"&nsqsube;","":"&NotSquareSuperset;","":"&nsqsupe;","":"&vnsub;","":"&nsubseteq;","":"&nsucc;","":"&nsucceq;","":"&nsccue;","":"&NotSucceedsTilde;","":"&vnsup;","":"&nsupseteq;","":"&nsim;","":"&nsimeq;","":"&ncong;","":"&napprox;","":"&nsmid;","":"&Nscr;","":"&Ntilde;","":"&Nu;","":"&OElig;","":"&Oacute;","":"&Ocirc;","":"&Ocy;","":"&Odblac;","":"&Ofr;","":"&Ograve;","":"&Omacr;","":"&ohm;","":"&Omicron;","":"&Oopf;","":"&ldquo;","":"&lsquo;","":"&Or;","":"&Oscr;","":"&Oslash;","":"&Otilde;","":"&Otimes;","":"&Ouml;","":"&oline;","":"&OverBrace;","":"&tbrk;","":"&OverParenthesis;","":"&part;","":"&Pcy;","":"&Pfr;","":"&Phi;","":"&Pi;","":"&pm;","":"&primes;","":"&Pr;","":"&prec;","":"&preceq;","":"&preccurlyeq;","":"&prsim;","":"&Prime;","":"&prod;","":"&vprop;","":"&Pscr;","":"&Psi;",'"':"&quot;","":"&Qfr;","":"&rationals;","":"&Qscr;","":"&drbkarow;","":"&reg;","":"&Racute;","":"&Rang;","":"&twoheadrightarrow;","":"&Rarrtl;","":"&Rcaron;","":"&Rcedil;","":"&Rcy;","":"&realpart;","":"&niv;","":"&lrhar;","":"&duhar;","":"&Rho;","":"&rangle;","":"&srarr;","":"&rarrb;","":"&rlarr;","":"&rceil;","":"&robrk;","":"&RightDownTeeVector;","":"&downharpoonright;","":"&RightDownVectorBar;","":"&rfloor;","":"&vdash;","":"&mapsto;","":"&RightTeeVector;","":"&vrtri;","":"&RightTriangleBar;","":"&trianglerighteq;","":"&RightUpDownVector;","":"&RightUpTeeVector;","":"&upharpoonright;","":"&RightUpVectorBar;","":"&rightharpoonup;","":"&RightVectorBar;","":"&reals;","":"&RoundImplies;","":"&rAarr;","":"&realine;","":"&rsh;","":"&RuleDelayed;","":"&SHCHcy;","":"&SHcy;","":"&SOFTcy;","":"&Sacute;","":"&Sc;","":"&Scaron;","":"&Scedil;","":"&Scirc;","":"&Scy;","":"&Sfr;","":"&uparrow;","":"&Sigma;","":"&compfn;","":"&Sopf;","":"&radic;","":"&square;","":"&sqcap;","":"&sqsubset;","":"&sqsubseteq;","":"&sqsupset;","":"&sqsupseteq;","":"&sqcup;","":"&Sscr;","":"&sstarf;","":"&Subset;","":"&subseteq;","":"&succ;","":"&succeq;","":"&succcurlyeq;","":"&succsim;","":"&sum;","":"&Supset;","":"&supset;","":"&supseteq;","":"&THORN;","":"&trade;","":"&TSHcy;","":"&TScy;","\t":"&Tab;","":"&Tau;","":"&Tcaron;","":"&Tcedil;","":"&Tcy;","":"&Tfr;","":"&therefore;","":"&Theta;","":"&ThickSpace;","":"&thinsp;","":"&thksim;","":"&simeq;","":"&cong;","":"&thkap;","":"&Topf;","":"&tdot;","":"&Tscr;","":"&Tstrok;","":"&Uacute;","":"&Uarr;","":"&Uarrocir;","":"&Ubrcy;","":"&Ubreve;","":"&Ucirc;","":"&Ucy;","":"&Udblac;","":"&Ufr;","":"&Ugrave;","":"&Umacr;",_:"&lowbar;","":"&UnderBrace;","":"&bbrk;","":"&UnderParenthesis;","":"&xcup;","":"&uplus;","":"&Uogon;","":"&Uopf;","":"&UpArrowBar;","":"&udarr;","":"&varr;","":"&udhar;","":"&perp;","":"&mapstoup;","":"&nwarrow;","":"&nearrow;","":"&upsih;","":"&Upsilon;","":"&Uring;","":"&Uscr;","":"&Utilde;","":"&Uuml;","":"&VDash;","":"&Vbar;","":"&Vcy;","":"&Vdash;","":"&Vdashl;","":"&xvee;","":"&Vert;","":"&smid;","|":"&vert;","":"&VerticalSeparator;","":"&wreath;","":"&hairsp;","":"&Vfr;","":"&Vopf;","":"&Vscr;","":"&Vvdash;","":"&Wcirc;","":"&xwedge;","":"&Wfr;","":"&Wopf;","":"&Wscr;","":"&Xfr;","":"&Xi;","":"&Xopf;","":"&Xscr;","":"&YAcy;","":"&YIcy;","":"&YUcy;","":"&Yacute;","":"&Ycirc;","":"&Ycy;","":"&Yfr;","":"&Yopf;","":"&Yscr;","":"&Yuml;","":"&ZHcy;","":"&Zacute;","":"&Zcaron;","":"&Zcy;","":"&Zdot;","":"&Zeta;","":"&zeetrf;","":"&integers;","":"&Zscr;","":"&aacute;","":"&abreve;","":"&mstpos;","":"&acE;","":"&acd;","":"&acirc;","":"&acy;","":"&aelig;","":"&afr;","":"&agrave;","":"&aleph;","":"&alpha;","":"&amacr;","":"&amalg;","":"&wedge;","":"&andand;","":"&andd;","":"&andslope;","":"&andv;","":"&angle;","":"&ange;","":"&measuredangle;","":"&angmsdaa;","":"&angmsdab;","":"&angmsdac;","":"&angmsdad;","":"&angmsdae;","":"&angmsdaf;","":"&angmsdag;","":"&angmsdah;","":"&angrt;","":"&angrtvb;","":"&angrtvbd;","":"&angsph;","":"&angzarr;","":"&aogon;","":"&aopf;","":"&apE;","":"&apacir;","":"&approxeq;","":"&apid;","'":"&apos;","":"&aring;","":"&ascr;","*":"&midast;","":"&atilde;","":"&auml;","":"&awint;","":"&bNot;","":"&bcong;","":"&bepsi;","":"&bprime;","":"&bsim;","":"&bsime;","":"&barvee;","":"&barwedge;","":"&bbrktbrk;","":"&bcy;","":"&ldquor;","":"&bemptyv;","":"&beta;","":"&beth;","":"&twixt;","":"&bfr;","":"&xcirc;","":"&xodot;","":"&xoplus;","":"&xotime;","":"&xsqcup;","":"&starf;","":"&xdtri;","":"&xutri;","":"&xuplus;","":"&rbarr;","":"&lozf;","":"&utrif;","":"&dtrif;","":"&ltrif;","":"&rtrif;","":"&blank;","":"&blk12;","":"&blk14;","":"&blk34;","":"&block;","=":"&bne;","":"&bnequiv;","":"&bnot;","":"&bopf;","":"&bowtie;","":"&boxDL;","":"&boxDR;","":"&boxDl;","":"&boxDr;","":"&boxH;","":"&boxHD;","":"&boxHU;","":"&boxHd;","":"&boxHu;","":"&boxUL;","":"&boxUR;","":"&boxUl;","":"&boxUr;","":"&boxV;","":"&boxVH;","":"&boxVL;","":"&boxVR;","":"&boxVh;","":"&boxVl;","":"&boxVr;","":"&boxbox;","":"&boxdL;","":"&boxdR;","":"&boxdl;","":"&boxdr;","":"&boxhD;","":"&boxhU;","":"&boxhd;","":"&boxhu;","":"&minusb;","":"&plusb;","":"&timesb;","":"&boxuL;","":"&boxuR;","":"&boxul;","":"&boxur;","":"&boxv;","":"&boxvH;","":"&boxvL;","":"&boxvR;","":"&boxvh;","":"&boxvl;","":"&boxvr;","":"&brvbar;","":"&bscr;","":"&bsemi;","\\":"&bsol;","":"&bsolb;","":"&bsolhsub;","":"&bullet;","":"&bumpE;","":"&cacute;","":"&cap;","":"&capand;","":"&capbrcup;","":"&capcap;","":"&capcup;","":"&capdot;","":"&caps;","":"&caret;","":"&ccaps;","":"&ccaron;","":"&ccedil;","":"&ccirc;","":"&ccups;","":"&ccupssm;","":"&cdot;","":"&cemptyv;","":"&cent;","":"&cfr;","":"&chcy;","":"&checkmark;","":"&chi;","":"&cir;","":"&cirE;","":"&circ;","":"&cire;","":"&olarr;","":"&orarr;","":"&oS;","":"&oast;","":"&ocir;","":"&odash;","":"&cirfnint;","":"&cirmid;","":"&cirscir;","":"&clubsuit;",":":"&colon;",",":"&comma;","@":"&commat;","":"&complement;","":"&congdot;","":"&copf;","":"&copysr;","":"&crarr;","":"&cross;","":"&cscr;","":"&csub;","":"&csube;","":"&csup;","":"&csupe;","":"&ctdot;","":"&cudarrl;","":"&cudarrr;","":"&curlyeqprec;","":"&curlyeqsucc;","":"&curvearrowleft;","":"&cularrp;","":"&cup;","":"&cupbrcap;","":"&cupcap;","":"&cupcup;","":"&cupdot;","":"&cupor;","":"&cups;","":"&curvearrowright;","":"&curarrm;","":"&cuvee;","":"&cuwed;","":"&curren;","":"&cwint;","":"&cylcty;","":"&dHar;","":"&dagger;","":"&daleth;","":"&hyphen;","":"&rBarr;","":"&dcaron;","":"&dcy;","":"&downdownarrows;","":"&eDDot;","":"&deg;","":"&delta;","":"&demptyv;","":"&dfisht;","":"&dfr;","":"&diams;","":"&gammad;","":"&disin;","":"&divide;","":"&divonx;","":"&djcy;","":"&llcorner;","":"&dlcrop;",$:"&dollar;","":"&dopf;","":"&eDot;","":"&minusd;","":"&plusdo;","":"&sdotb;","":"&lrcorner;","":"&drcrop;","":"&dscr;","":"&dscy;","":"&dsol;","":"&dstrok;","":"&dtdot;","":"&triangledown;","":"&dwangle;","":"&dzcy;","":"&dzigrarr;","":"&eacute;","":"&easter;","":"&ecaron;","":"&eqcirc;","":"&ecirc;","":"&eqcolon;","":"&ecy;","":"&edot;","":"&fallingdotseq;","":"&efr;","":"&eg;","":"&egrave;","":"&eqslantgtr;","":"&egsdot;","":"&el;","":"&elinters;","":"&ell;","":"&eqslantless;","":"&elsdot;","":"&emacr;","":"&varnothing;","":"&emsp13;","":"&emsp14;","":"&emsp;","":"&eng;","":"&ensp;","":"&eogon;","":"&eopf;","":"&epar;","":"&eparsl;","":"&eplus;","":"&epsilon;","":"&varepsilon;","=":"&equals;","":"&questeq;","":"&equivDD;","":"&eqvparsl;","":"&risingdotseq;","":"&erarr;","":"&escr;","":"&eta;","":"&eth;","":"&euml;","":"&euro;","!":"&excl;","":"&fcy;","":"&female;","":"&ffilig;","":"&fflig;","":"&ffllig;","":"&ffr;","":"&filig;",fj:"&fjlig;","":"&flat;","":"&fllig;","":"&fltns;","":"&fnof;","":"&fopf;","":"&pitchfork;","":"&forkv;","":"&fpartint;","":"&half;","":"&frac13;","":"&frac14;","":"&frac15;","":"&frac16;","":"&frac18;","":"&frac23;","":"&frac25;","":"&frac34;","":"&frac35;","":"&frac38;","":"&frac45;","":"&frac56;","":"&frac58;","":"&frac78;","":"&frasl;","":"&sfrown;","":"&fscr;","":"&gtreqqless;","":"&gacute;","":"&gamma;","":"&gtrapprox;","":"&gbreve;","":"&gcirc;","":"&gcy;","":"&gdot;","":"&gescc;","":"&gesdot;","":"&gesdoto;","":"&gesdotol;","":"&gesl;","":"&gesles;","":"&gfr;","":"&gimel;","":"&gjcy;","":"&glE;","":"&gla;","":"&glj;","":"&gneqq;","":"&gnapprox;","":"&gneq;","":"&gnsim;","":"&gopf;","":"&gscr;","":"&gsime;","":"&gsiml;","":"&gtcc;","":"&gtcir;","":"&gtrdot;","":"&gtlPar;","":"&gtquest;","":"&gtrarr;","":"&gvnE;","":"&hardcy;","":"&harrcir;","":"&leftrightsquigarrow;","":"&plankv;","":"&hcirc;","":"&heartsuit;","":"&mldr;","":"&hercon;","":"&hfr;","":"&searhk;","":"&swarhk;","":"&hoarr;","":"&homtht;","":"&larrhk;","":"&rarrhk;","":"&hopf;","":"&horbar;","":"&hscr;","":"&hstrok;","":"&hybull;","":"&iacute;","":"&icirc;","":"&icy;","":"&iecy;","":"&iexcl;","":"&ifr;","":"&igrave;","":"&qint;","":"&tint;","":"&iinfin;","":"&iiota;","":"&ijlig;","":"&imacr;","":"&inodot;","":"&imof;","":"&imped;","":"&incare;","":"&infin;","":"&infintie;","":"&intercal;","":"&intlarhk;","":"&iprod;","":"&iocy;","":"&iogon;","":"&iopf;","":"&iota;","":"&iquest;","":"&iscr;","":"&isinE;","":"&isindot;","":"&isins;","":"&isinsv;","":"&itilde;","":"&iukcy;","":"&iuml;","":"&jcirc;","":"&jcy;","":"&jfr;","":"&jmath;","":"&jopf;","":"&jscr;","":"&jsercy;","":"&jukcy;","":"&kappa;","":"&varkappa;","":"&kcedil;","":"&kcy;","":"&kfr;","":"&kgreen;","":"&khcy;","":"&kjcy;","":"&kopf;","":"&kscr;","":"&lAtail;","":"&lBarr;","":"&lesseqqgtr;","":"&lHar;","":"&lacute;","":"&laemptyv;","":"&lambda;","":"&langd;","":"&lessapprox;","":"&laquo;","":"&larrbfs;","":"&larrfs;","":"&looparrowleft;","":"&larrpl;","":"&larrsim;","":"&leftarrowtail;","":"&lat;","":"&latail;","":"&late;","":"&lates;","":"&lbarr;","":"&lbbrk;","{":"&lcub;","[":"&lsqb;","":"&lbrke;","":"&lbrksld;","":"&lbrkslu;","":"&lcaron;","":"&lcedil;","":"&lcy;","":"&ldca;","":"&ldrdhar;","":"&ldrushar;","":"&ldsh;","":"&leq;","":"&llarr;","":"&lthree;","":"&lescc;","":"&lesdot;","":"&lesdoto;","":"&lesdotor;","":"&lesg;","":"&lesges;","":"&ltdot;","":"&lfisht;","":"&lfr;","":"&lgE;","":"&lharul;","":"&lhblk;","":"&ljcy;","":"&llhard;","":"&lltri;","":"&lmidot;","":"&lmoustache;","":"&lneqq;","":"&lnapprox;","":"&lneq;","":"&lnsim;","":"&loang;","":"&loarr;","":"&xmap;","":"&rarrlp;","":"&lopar;","":"&lopf;","":"&loplus;","":"&lotimes;","":"&lowast;","":"&lozenge;","(":"&lpar;","":"&lparlt;","":"&lrhard;","":"&lrm;","":"&lrtri;","":"&lsaquo;","":"&lscr;","":"&lsime;","":"&lsimg;","":"&sbquo;","":"&lstrok;","":"&ltcc;","":"&ltcir;","":"&ltimes;","":"&ltlarr;","":"&ltquest;","":"&ltrPar;","":"&triangleleft;","":"&lurdshar;","":"&luruhar;","":"&lvnE;","":"&mDDot;","":"&strns;","":"&male;","":"&maltese;","":"&marker;","":"&mcomma;","":"&mcy;","":"&mdash;","":"&mfr;","":"&mho;","":"&micro;","":"&midcir;","":"&minus;","":"&minusdu;","":"&mlcp;","":"&models;","":"&mopf;","":"&mscr;","":"&mu;","":"&mumap;","":"&nGg;","":"&nGt;","":"&nlArr;","":"&nhArr;","":"&nLl;","":"&nLt;","":"&nrArr;","":"&nVDash;","":"&nVdash;","":"&nacute;","":"&nang;","":"&napE;","":"&napid;","":"&napos;","":"&natural;","":"&ncap;","":"&ncaron;","":"&ncedil;","":"&ncongdot;","":"&ncup;","":"&ncy;","":"&ndash;","":"&neArr;","":"&nearhk;","":"&nedot;","":"&toea;","":"&nfr;","":"&nleftrightarrow;","":"&nhpar;","":"&nis;","":"&nisd;","":"&njcy;","":"&nleqq;","":"&nleftarrow;","":"&nldr;","":"&nopf;","":"&not;","":"&notinE;","":"&notindot;","":"&notinvb;","":"&notinvc;","":"&notnivb;","":"&notnivc;","":"&nparsl;","":"&npart;","":"&npolint;","":"&nrightarrow;","":"&nrarrc;","":"&nrarrw;","":"&nscr;","":"&nsub;","":"&nsubseteqq;","":"&nsup;","":"&nsupseteqq;","":"&ntilde;","":"&nu;","#":"&num;","":"&numero;","":"&numsp;","":"&nvDash;","":"&nvHarr;","":"&nvap;","":"&nvdash;","":"&nvge;",">":"&nvgt;","":"&nvinfin;","":"&nvlArr;","":"&nvle;","<":"&nvlt;","":"&nvltrie;","":"&nvrArr;","":"&nvrtrie;","":"&nvsim;","":"&nwArr;","":"&nwarhk;","":"&nwnear;","":"&oacute;","":"&ocirc;","":"&ocy;","":"&odblac;","":"&odiv;","":"&odsold;","":"&oelig;","":"&ofcir;","":"&ofr;","":"&ogon;","":"&ograve;","":"&ogt;","":"&ohbar;","":"&olcir;","":"&olcross;","":"&olt;","":"&omacr;","":"&omega;","":"&omicron;","":"&omid;","":"&oopf;","":"&opar;","":"&operp;","":"&vee;","":"&ord;","":"&oscr;","":"&ordf;","":"&ordm;","":"&origof;","":"&oror;","":"&orslope;","":"&orv;","":"&oslash;","":"&osol;","":"&otilde;","":"&otimesas;","":"&ouml;","":"&ovbar;","":"&para;","":"&parsim;","":"&parsl;","":"&pcy;","%":"&percnt;",".":"&period;","":"&permil;","":"&pertenk;","":"&pfr;","":"&phi;","":"&varphi;","":"&phone;","":"&pi;","":"&varpi;","":"&planckh;","+":"&plus;","":"&plusacir;","":"&pluscir;","":"&plusdu;","":"&pluse;","":"&plussim;","":"&plustwo;","":"&pointint;","":"&popf;","":"&pound;","":"&prE;","":"&precapprox;","":"&prnap;","":"&prnE;","":"&prnsim;","":"&prime;","":"&profalar;","":"&profline;","":"&profsurf;","":"&prurel;","":"&pscr;","":"&psi;","":"&puncsp;","":"&qfr;","":"&qopf;","":"&qprime;","":"&qscr;","":"&quatint;","?":"&quest;","":"&rAtail;","":"&rHar;","":"&race;","":"&racute;","":"&raemptyv;","":"&rangd;","":"&range;","":"&raquo;","":"&rarrap;","":"&rarrbfs;","":"&rarrc;","":"&rarrfs;","":"&rarrpl;","":"&rarrsim;","":"&rightarrowtail;","":"&rightsquigarrow;","":"&ratail;","":"&ratio;","":"&rbbrk;","}":"&rcub;","]":"&rsqb;","":"&rbrke;","":"&rbrksld;","":"&rbrkslu;","":"&rcaron;","":"&rcedil;","":"&rcy;","":"&rdca;","":"&rdldhar;","":"&rdsh;","":"&rect;","":"&rfisht;","":"&rfr;","":"&rharul;","":"&rho;","":"&varrho;","":"&rrarr;","":"&rthree;","":"&ring;","":"&rlm;","":"&rmoustache;","":"&rnmid;","":"&roang;","":"&roarr;","":"&ropar;","":"&ropf;","":"&roplus;","":"&rotimes;",")":"&rpar;","":"&rpargt;","":"&rppolint;","":"&rsaquo;","":"&rscr;","":"&rtimes;","":"&triangleright;","":"&rtriltri;","":"&ruluhar;","":"&rx;","":"&sacute;","":"&scE;","":"&succapprox;","":"&scaron;","":"&scedil;","":"&scirc;","":"&succneqq;","":"&succnapprox;","":"&succnsim;","":"&scpolint;","":"&scy;","":"&sdot;","":"&sdote;","":"&seArr;","":"&sect;",";":"&semi;","":"&tosa;","":"&sext;","":"&sfr;","":"&sharp;","":"&shchcy;","":"&shcy;","":"&shy;","":"&sigma;","":"&varsigma;","":"&simdot;","":"&simg;","":"&simgE;","":"&siml;","":"&simlE;","":"&simne;","":"&simplus;","":"&simrarr;","":"&smashp;","":"&smeparsl;","":"&ssmile;","":"&smt;","":"&smte;","":"&smtes;","":"&softcy;","/":"&sol;","":"&solb;","":"&solbar;","":"&sopf;","":"&spadesuit;","":"&sqcaps;","":"&sqcups;","":"&sscr;","":"&star;","":"&subset;","":"&subseteqq;","":"&subdot;","":"&subedot;","":"&submult;","":"&subsetneqq;","":"&subsetneq;","":"&subplus;","":"&subrarr;","":"&subsim;","":"&subsub;","":"&subsup;","":"&sung;","":"&sup1;","":"&sup2;","":"&sup3;","":"&supseteqq;","":"&supdot;","":"&supdsub;","":"&supedot;","":"&suphsol;","":"&suphsub;","":"&suplarr;","":"&supmult;","":"&supsetneqq;","":"&supsetneq;","":"&supplus;","":"&supsim;","":"&supsub;","":"&supsup;","":"&swArr;","":"&swnwar;","":"&szlig;","":"&target;","":"&tau;","":"&tcaron;","":"&tcedil;","":"&tcy;","":"&telrec;","":"&tfr;","":"&theta;","":"&vartheta;","":"&thorn;","":"&times;","":"&timesbar;","":"&timesd;","":"&topbot;","":"&topcir;","":"&topf;","":"&topfork;","":"&tprime;","":"&utri;","":"&trie;","":"&tridot;","":"&triminus;","":"&triplus;","":"&trisb;","":"&tritime;","":"&trpezium;","":"&tscr;","":"&tscy;","":"&tshcy;","":"&tstrok;","":"&uHar;","":"&uacute;","":"&ubrcy;","":"&ubreve;","":"&ucirc;","":"&ucy;","":"&udblac;","":"&ufisht;","":"&ufr;","":"&ugrave;","":"&uhblk;","":"&ulcorner;","":"&ulcrop;","":"&ultri;","":"&umacr;","":"&uogon;","":"&uopf;","":"&upsilon;","":"&uuarr;","":"&urcorner;","":"&urcrop;","":"&uring;","":"&urtri;","":"&uscr;","":"&utdot;","":"&utilde;","":"&uuml;","":"&uwangle;","":"&vBar;","":"&vBarv;","":"&vangrt;","":"&vsubne;","":"&vsubnE;","":"&vsupne;","":"&vsupnE;","":"&vcy;","":"&veebar;","":"&veeeq;","":"&vellip;","":"&vfr;","":"&vopf;","":"&vscr;","":"&vzigzag;","":"&wcirc;","":"&wedbar;","":"&wedgeq;","":"&wp;","":"&wfr;","":"&wopf;","":"&wscr;","":"&xfr;","":"&xi;","":"&xnis;","":"&xopf;","":"&xscr;","":"&yacute;","":"&yacy;","":"&ycirc;","":"&ycy;","":"&yen;","":"&yfr;","":"&yicy;","":"&yopf;","":"&yscr;","":"&yucy;","":"&yuml;","":"&zacute;","":"&zcaron;","":"&zcy;","":"&zdot;","":"&zeta;","":"&zfr;","":"&zhcy;","":"&zigrarr;","":"&zopf;","":"&zscr;","":"&zwj;","":"&zwnj;"}}}},92642:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numericUnicodeMap={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},59726:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCodePoint=String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)},t.getCodePoint=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536},t.highSurrogateFrom=55296,t.highSurrogateTo=56319},33042:function(e,t,r){var n;!function(){"use strict";var i=function e(t){var r,n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),i={use_static:!1};function a(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function o(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}function l(e,t){o(e,t,(function(){throw new f("The "+t+" method cannot be invoked on an Immutable data structure.")}))}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(i.use_static=Boolean(t.use_static));var s="__immutable_invariants_hold";function c(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,s)))}function d(e,t){return e===t||e!=e&&t!=t}function u(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var p=["setPrototypeOf"],m=p.concat(["push","pop","sort","splice","shift","unshift","reverse"]),h=["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]),g=p.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function f(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function b(e,t){for(var r in o(e,s,!0),t)t.hasOwnProperty(r)&&l(e,t[r]);return Object.freeze(e),e}function v(e,t){var r=e[t];o(e,t,(function(){return U(r.apply(e,arguments))}))}function y(e,t,r){var n=r&&r.deep;if(e in this&&(n&&this[e]!==t&&u(t)&&u(this[e])&&(t=U.merge(this[e],t,{deep:!0,mode:"replace"})),d(this[e],t)))return this;var i=k.call(this);return i[e]=U(t),E(i)}f.prototype=new Error,f.prototype.constructor=Error;var w=U([]);function _(e,t,r){var n=e[0];if(1===e.length)return y.call(this,n,t,r);var i,a=e.slice(1),o=this[n];if("object"==typeof o&&null!==o)i=U.setIn(o,a,t);else{var l=a[0];i=""!==l&&isFinite(l)?_.call(w,a,t):L.call(D,a,t)}if(n in this&&o===i)return this;var s=k.call(this);return s[n]=i,E(s)}function E(e){for(var t in h){if(h.hasOwnProperty(t))v(e,h[t])}i.use_static||(o(e,"flatMap",x),o(e,"asObject",I),o(e,"asMutable",k),o(e,"set",y),o(e,"setIn",_),o(e,"update",V),o(e,"updateIn",j),o(e,"getIn",q));for(var r=0,n=e.length;r<n;r++)e[r]=U(e[r]);return b(e,m)}function C(){return new Date(this.getTime())}function x(e){if(0===arguments.length)return this;var t,r=[],n=this.length;for(t=0;t<n;t++){var i=e(this[t],t,this);Array.isArray(i)?r.push.apply(r,i):r.push(i)}return E(r)}function S(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=a(this);for(var n in this)this.hasOwnProperty(n)&&!1===e(this[n],n)&&(r[n]=this[n]);return H(r)}function k(e){var t,r,n=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)n.push(M(this[t]));else for(t=0,r=this.length;t<r;t++)n.push(this[t]);return n}function I(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},n=this.length;for(t=0;t<n;t++){var i=e(this[t],t,this),a=i[0],o=i[1];r[a]=o}return H(r)}function M(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,s)||e instanceof Date?e:U.asMutable(e,{deep:!0})}function A(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function F(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,n,i=Array.isArray(e),o=t&&t.deep,l=t&&t.mode||"merge",s=t&&t.merger;function c(e,n,i){var l,c=U(n[i]),p=s&&s(e[i],c,t),m=e[i];void 0===r&&void 0===p&&e.hasOwnProperty(i)&&d(c,m)||(d(m,l=void 0!==p?p:o&&u(m)&&u(c)?U.merge(m,c,t):c)&&e.hasOwnProperty(i)||(void 0===r&&(r=A(e,a(e))),r[i]=l))}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(void 0===r&&(r=A(e,a(e))),delete r[n])}if(i)for(var m=0,h=e.length;m<h;m++){var g=e[m];for(n in g)g.hasOwnProperty(n)&&c(void 0!==r?r:this,g,n)}else{for(n in e)Object.getOwnPropertyDescriptor(e,n)&&c(this,e,n);"replace"===l&&p(this,e)}return void 0===r?this:H(r)}function N(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return U.merge(this,e,{deep:r,mode:"replace"})}var T,O,P,D=U({});function L(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=e[0];if(1===e.length)return R.call(this,n,t,r);var i,o=e.slice(1),l=this[n];if(i=this.hasOwnProperty(n)&&"object"==typeof l&&null!==l?U.setIn(l,o,t):L.call(D,o,t),this.hasOwnProperty(n)&&l===i)return this;var s=A(this,a(this));return s[n]=i,H(s)}function R(e,t,r){var n=r&&r.deep;if(this.hasOwnProperty(e)&&(n&&this[e]!==t&&u(t)&&u(this[e])&&(t=U.merge(this[e],t,{deep:!0,mode:"replace"})),d(this[e],t)))return this;var i=A(this,a(this));return i[e]=U(t),H(i)}function V(e,t){var r=Array.prototype.slice.call(arguments,2),n=this[e];return U.set(this,e,t.apply(n,[n].concat(r)))}function B(e,t){for(var r=0,n=t.length;null!=e&&r<n;r++)e=e[t[r]];return r&&r==n?e:void 0}function j(e,t){var r=Array.prototype.slice.call(arguments,2),n=B(this,e);return U.setIn(this,e,t.apply(n,[n].concat(r)))}function q(e,t){var r=B(this,e);return void 0===r?t:r}function W(e){var t,r=a(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=M(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function G(){return{}}function H(e){return i.use_static||(o(e,"merge",F),o(e,"replace",N),o(e,"without",S),o(e,"asMutable",W),o(e,"set",R),o(e,"setIn",L),o(e,"update",V),o(e,"updateIn",j),o(e,"getIn",q)),b(e,p)}function U(e,t,r){if(c(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===n)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(U);if(Array.isArray(e))return E(e.slice());if(e instanceof Date)return a=new Date(e.getTime()),i.use_static||o(a,"asMutable",C),b(a,g);var a,l=t&&t.prototype,s=(l&&l!==Object.prototype?function(){return Object.create(l)}:G)();if(null==r&&(r=64),r<=0)throw new f("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var d in r-=1,e)Object.getOwnPropertyDescriptor(e,d)&&(s[d]=U(e[d],void 0,r));return H(s)}function $(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function z(e,t){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?t.apply(n,r):e.apply(n,r)}}return U.from=U,U.isImmutable=c,U.ImmutableError=f,U.merge=$(F),U.replace=$(N),U.without=$(S),U.asMutable=(T=W,O=k,P=C,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?O.apply(t,e):t instanceof Date?P.apply(t,e):T.apply(t,e)}),U.set=z(R,y),U.setIn=z(L,_),U.update=$(V),U.updateIn=$(j),U.getIn=$(q),U.flatMap=$(x),U.asObject=$(I),i.use_static||(U.static=e({use_static:!0})),Object.freeze(U),U}();void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},79762:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});var n=r(92819),i=r(88763);e=r.hmd(e);const a=({layerModules:t,filterKeyword:r})=>{const a=(0,i.select)("divi/edit-post"),o={},l={},s={};let c=!0,d={};return Object.values(t).forEach((s=>{let d=s.moduleName;if("module"===r&&(d=s.moduleCategory),r===d&&"hidden"!==s.visibility){const r=a.getAncestorModules(s.id,"top-to-bottom"),d=s.id;o[d]={id:d,visibility:"visible",matched:!0,adminLabel:s.adminLabel,expand:!0,moduleName:s.moduleName,moduleCategory:s.moduleCategory},t=Object.fromEntries(Object.entries(t).filter((([e])=>e!==d))),0!==r.length&&Object.values(r).forEach((r=>{if("root"===r.id)return;const a=r.id,o=(0,i.select)("divi/module-library").getModule(r.name),s=(0,n.get)(e,["props","attrs","adminLabel","desktop","value"],o?.title);l[a]={id:a,visibility:"transparent",matched:!1,adminLabel:s,expand:!0,moduleName:r.name,moduleCategory:o.category},t=Object.fromEntries(Object.entries(t).filter((([e])=>e!==a)))})),c=!1}})),Object.values(t).forEach((e=>{const t=e.id;s[t]={id:t,visibility:"hidden",matched:!1,adminLabel:e.adminLabel,expand:e.expand,moduleName:e.moduleName,moduleCategory:e.moduleCategory}})),d={...o,...l,...s},{isFilterEmpty:c,updatedModules:d}}},92819:function(e){"use strict";e.exports=window.lodash},88763:function(e){"use strict";e.exports=window.divi.data},93967:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=o(e,a(r)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=o(t,r));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var n={};!function(){"use strict";r.r(n),r.d(n,{FIELDS_WITH_INTERNAL_DYNAMIC_CONTENT:function(){return G},ModalLibraryComponent:function(){return am},addGlobalParentAttr:function(){return Jr},addLoadLayoutModalTab:function(){return y},applyFilterComponentProps:function(){return de},calculateDynamicModalHeight:function(){return w},createAdditionalButtons:function(){return ce},createCornerChipClickHandler:function(){return C},createCornerSpecificChangeHandler:function(){return Q},createDefaultBorderRadiusObject:function(){return A},createDynamicContentProps:function(){return x},createFieldResetHandler:function(){return ee},createResetHandler:function(){return te},createScopeOptions:function(){return _},generateFieldKey:function(){return W},generateFieldProps:function(){return I},getCornerValue:function(){return J},getFieldDefaultValue:function(){return re},handleFieldChange:function(){return N},hasCornerDynamicContent:function(){return X},modalLibraryMap:function(){return Iu},normalizeFieldValue:function(){return q},registerModalLibraryStore:function(){return rm},registerModals:function(){return lm},saveModuleAsGlobal:function(){return Yr},useAIResultHandler:function(){return ue}});var e={};r.r(e),r.d(e,{addModal:function(){return Au},close:function(){return Fu},expand:function(){return Nu},handleAIResult:function(){return Wu},open:function(){return Tu},openGroup:function(){return Ou},openGroupTab:function(){return Pu},openTab:function(){return Du},removeModal:function(){return Lu},setAIActiveField:function(){return qu},setAttributes:function(){return Ru},setBodySiblingHeight:function(){return Vu},setDimension:function(){return Bu},setDraggingState:function(){return ju},setIsModalClosing:function(){return Gu},setIsResizing:function(){return Hu},setLastOpenedGroups:function(){return tp},setLastOpenedTab:function(){return ep},setLayersViewActiveModuleId:function(){return Uu},setLayersViewExpandAll:function(){return $u},setLayersViewFilter:function(){return zu},setLayersViewModule:function(){return Ku},setLayersViewSearch:function(){return Zu},setOffset:function(){return Ju},setPanelSize:function(){return Yu},setSidebarPosition:function(){return Xu},setTimestamp:function(){return Qu}});var t={};r.r(t),r.d(t,{cacheAllAttributeMaps:function(){return Cp},getAIActiveField:function(){return xp},getAIResult:function(){return Sp},getActiveModal:function(){return vp},getActiveModalNames:function(){return _p},getActiveModals:function(){return Ep},getLastOpenedGroups:function(){return em},getLastOpenedTab:function(){return Qp},getLayersView:function(){return Ip},getLayersViewActiveModuleId:function(){return Mp},getLayersViewFilterKeyword:function(){return Ap},getLayersViewFilterModule:function(){return Fp},getLayersViewModule:function(){return Np},getLayersViewSearchKeyword:function(){return Tp},getLayersViewSearchModule:function(){return Op},getLayersViewSearchResultCount:function(){return Pp},getMaximumModalDimensionMinimum:function(){return Dp},getModal:function(){return gp},getModalLabelsByNames:function(){return Lp},getModalOwner:function(){return Rp},getModalProperty:function(){return Vp},getModals:function(){return Bp},getOpenGroupTab:function(){return jp},isAnySectionSelfExpanded:function(){return qp},isGroupOpen:function(){return Wp},isLayersViewFilterActive:function(){return Gp},isLayersViewFilterReset:function(){return Hp},isLayersViewFilterResultEmpty:function(){return Up},isLayersViewSearchActive:function(){return $p},isLayersViewSearchResultEmpty:function(){return zp},isModalActive:function(){return Kp},isModalClosing:function(){return Zp},isModalDragging:function(){return Jp},isModuleEdited:function(){return Xp},shouldSkipAIResult:function(){return kp}});var i=window.vendor.wp.hooks,a=window.vendor.wp.i18n,o=window.vendor.React,l=r.n(o),s=r(92819),c=window.divi.cloudApp,d=r(88763),u=window.divi.errorBoundary,p=window.divi.modal,m=window.divi.uiLibrary,h=window.divi.window;const g=[{id:"premade-layouts",label:(0,a.__)("Premade Layouts","et_builder"),priority:10,context:"premade"},{id:"your-saved-layouts",label:(0,a.__)("Your Saved Layouts","et_builder"),priority:20,context:"layout"},{id:"your-existing-pages",label:(0,a.__)("Your Existing Pages","et_builder"),priority:30,context:"page"}],f=()=>{const e=(0,i.applyFilters)("divi.modalLibrary.loadLayout.tabs",[...g]);return e.sort(((e,t)=>(e.priority??10)-(t.priority??10))),e},b="divi/load-layout",v=(0,a.__)("Load Layout","et_builder"),y=e=>{const{id:t,label:r,priority:n=10}=e;if(!t||!r)return!1;const a="context"in e&&void 0!==e.context&&null!==e.context,o="component"in e&&"function"==typeof e.component;if(!a&&!o||a&&o)return!1;if(f().some((e=>t===e.id)))return!1;let l;if(a){l={id:t,label:r,priority:n,context:e.context}}else{l={contentType:"component",id:t,label:r,priority:n,component:e.component}}return(0,i.addFilter)("divi.modalLibrary.loadLayout.tabs","divi/modal-library/add-load-layout-modal-tab",(e=>(e.push(l),e))),!0},w=({topWindowHeight:e,adminBarHeight:t,pageBarHeight:r,minimumHeight:n,maximumHeight:i,framePadding:a=32})=>{let o=e-(t+r+2*a);return"number"==typeof n&&o<n&&(o=n),"number"==typeof i&&o>i&&(o=i),o},_=(e,t,r=!0)=>{const n={page:{label:(0,a.__)("Entire Page","et_builder")}};return e?(r&&(n.self={label:(0,a.__)("Current Element","et_builder"),separator:{bottom:!0}}),n.children={label:(0,a.__)("Current Element & Children","et_builder")},n.descendants={label:(0,a.__)("Current Element & Descendants","et_builder"),separator:{bottom:!0}},t&&Array.isArray(t)?(t.forEach((e=>{switch(e.name){case"divi/group":n.group={label:(0,a.__)("Parent Group","et_builder")};break;case"divi/column":case"divi/column-inner":case"divi/specialty-column":n.column={label:(0,a.__)("Parent Column","et_builder")};break;case"divi/row":case"divi/row-inner":n.row={label:(0,a.__)("Parent Row","et_builder")};break;case"divi/section":case"divi/specialty-section":case"divi/fullwidth-section":n.section={label:(0,a.__)("Parent Section","et_builder")}}})),n):n):n};var E=window.divi.styleLibrary;const C=(e,t)=>r=>{const{chipOptionPath:n}=r;if(n){e(`${t}--${n}`)}},x=(e,t)=>({onChipClick:C(e,t),getVariableLabel:e=>(0,d.select)("divi/global-data").getGlobalVariableById(e)?.label||e}),S=(e,t,r,n)=>n?.setActiveDynamicContentField&&n?.fieldKey?{...e,...x(n.setActiveDynamicContentField,n.fieldKey)}:e,k={"divi/button-options":(e,t)=>Array.isArray(t)?{...e,multipleChoices:!0}:e,"divi/code":e=>e,"divi/upload":(e,t,r)=>({...e,onReset:()=>r(""),syncImageData:!1}),"divi/select-mask":(e,t,r)=>{const n=t||e?.defaultValue||"layer-blob",i={...E.backgroundDefaultAttr,mask:{...E.backgroundDefaultAttr.mask,style:n,enabled:"on"}};return{...e,hasPreview:!1,hasManager:!1,backgroundAttr:i,onReset:()=>r(e?.defaultValue||"layer-blob")}},"divi/select-pattern":(e,t,r)=>{const n=t||e?.defaultValue||"polka-dots",i={...E.backgroundDefaultAttr,pattern:{...E.backgroundDefaultAttr.pattern,style:n,enabled:"on"}};return{...e,hasPreview:!1,hasManager:!1,backgroundAttr:i,onReset:()=>r(e?.defaultValue||"polka-dots")}},"divi/border-radius":(e,t,r,n)=>n?.setActiveDynamicContentField&&n?.fieldKey?{...e,...x(n.setActiveDynamicContentField,n.fieldKey)}:e,"divi/spacing":(e,t,r,n)=>n?.setActiveDynamicContentField&&n?.fieldKey?{...e,...x(n.setActiveDynamicContentField,n.fieldKey)}:e,"divi/transform-translate":S,"divi/transform-scale":S,"divi/transform-rotate":S,"divi/transform-origin":S,"divi/transform-skew":S,"divi/gradient":(e,t)=>{const r=Array.isArray(t)?t:E.backgroundDefaultAttr.gradient.stops;return{...e,backgroundAttrs:{...E.backgroundDefaultAttr,gradient:{...E.backgroundDefaultAttr.gradient,enabled:"on",stops:r}},value:r,length:E.backgroundDefaultAttr.gradient.length}},"divi/color-picker":e=>({...e,hasPreview:!1}),"divi/toggle":e=>e},I=(e,t,r,n,i)=>{const a=k[e];return a?a(t,r,n,i):t};var M=window.divi.fieldLibrary;const A=()=>M.BorderRadius.defaultProps?.defaultValue||{topLeft:"0px",topRight:"0px",bottomLeft:"0px",bottomRight:"0px",sync:"on"},F=(e,t,r)=>{if((e=>Boolean(e&&"object"==typeof e&&"name"in e&&"value"in e))(e))if(r&&"enable"!==r&&e.value&&"object"==typeof e.value&&!Array.isArray(e.value)&&"enable"in e.value){const r=Object.fromEntries(Object.entries(e.value).filter((([e])=>"enable"!==e)));t(r)}else t(e);else t(e)},N=(e,t,r,n,i)=>{if((e=>Boolean(e&&"object"==typeof e&&"event"in e))(e)){const{event:a,inputValue:o}=e;switch(t){case"divi/button-options":return void((e,t,r,n)=>{const{event:i}=e,a=i.target.dataset.name||"";if(r){const e=Array.isArray(t)?t:[];(0,s.includes)(e,a)?n(e.filter((e=>e!==a))):n([...e,a])}else n(a)})({event:a},r,i?.multipleChoices,n);case"divi/select-pattern":case"divi/select-mask":return void((e,t,r)=>{"off"===("detail"in e&&e.detail&&"object"==typeof e.detail&&"enabledValue"in e.detail?e.detail.enabledValue:null)?r(""):r("string"==typeof t?t:"")})(a,o,n);case"divi/gradient":return void((e,t,r)=>{"off"===("detail"in e&&e.detail&&"object"==typeof e.detail&&"enabledValue"in e.detail?e.detail.enabledValue:null)?r([]):t&&r(t)})(a,o,n)}}if((e=>Boolean(e&&"object"==typeof e&&"inputValue"in e))(e)){const{inputValue:i}=e;if("divi/scroll-effect"===t){let e=null;return i&&"object"==typeof i&&"name"in i&&"value"in i&&(e=i.name),void F(i,n,e)}if((e=>Boolean(e&&"object"==typeof e&&"side"in e))(i)){if("divi/border-radius"===t)return void((e,t,r)=>{const n=A(),i=t&&"object"==typeof t?t:{},a={...n,...i,sync:"sync"in i&&"string"==typeof i.sync?i.sync:n.sync};if("sync"in e&&"value"in e){const t=e.sync,n=e.value;if("on"===t)a.topLeft=n,a.topRight=n,a.bottomLeft=n,a.bottomRight=n,a.sync=t;else if("side"in e){const r=e.side;"topLeft"!==r&&"topRight"!==r&&"bottomLeft"!==r&&"bottomRight"!==r||(a[r]=n,null!=t&&(a.sync=t))}r(a)}})(i,r,n);if("divi/spacing"===t&&"syncHorizontal"in i)return void((e,t,r)=>{const{side:n,value:i}=e,a={...t&&"object"==typeof t&&!Array.isArray(t)?t:{}},o=e.syncHorizontal??"off",l=e.syncVertical??"off";"left"!==n&&"right"!==n||("on"===o?(a.left=i,a.right=i):a[n]=i),"top"!==n&&"bottom"!==n||("on"===l?(a.top=i,a.bottom=i):a[n]=i),a.syncHorizontal=o,a.syncVertical=l,r(a)})(i,r,n)}if("divi/checkboxes"===t&&Array.isArray(i))return void((e,t,r)=>{if(t&&"object"==typeof t&&!Array.isArray(t)){const n={};Object.keys(t).forEach((t=>{n[t]=e.includes(t)?"on":"off"})),r(n)}else r(e)})(i,r,n);const a=["divi/sortable-list","divi/draggable-list"];return["divi/upload","divi/icon-picker","divi/map","divi/corner-picker"].includes(t)||a.includes(t)&&Array.isArray(i)||t.startsWith("divi/transform-"),void n(i)}n(e)},T="divi/color-picker",O="divi/css-color",P="divi/toggle",D="divi/checkboxes",L="divi/range",R="divi/common-css-numeric",V=[T,O,"divi/code","divi/text","divi/textarea","divi/richtext","divi/timepicker"],B=[L,R,"divi/common-numeric-input","divi/common-numeric-spinner"],j=["divi/transform-translate","divi/transform-scale","divi/transform-rotate","divi/transform-origin","divi/transform-skew"],q=(e,t)=>{const r=null==e;if(V.includes(t))return T===t||O===t?null==e||"string"==typeof e?e:"":r||"string"!=typeof e?"":e;if(P===t)return"boolean"==typeof e?e?"on":"off":"string"==typeof e&&["on","off"].includes(e)?e:"off";if(D===t)return Array.isArray(e)?e:[];if(B.includes(t)){if("number"==typeof e)return`${e}px`;if("string"==typeof e&&""!==e)return e;if([R,L,"divi/spacing"].includes(t)&&null==e)return;return"0px"}return j.includes(t),e},W=(e,t)=>`${e.replace("-field","")}-${t}`,G=["divi/border-radius","divi/spacing","divi/transform-translate","divi/transform-scale","divi/transform-rotate","divi/transform-origin","divi/transform-skew","divi/grid-offset-rules","divi/attributes","divi/interactions"],H=e=>"object"==typeof e&&null!==e&&("topLeft"in e||"topRight"in e||"bottomLeft"in e||"bottomRight"in e),U=e=>"object"==typeof e&&null!==e&&("top"in e||"right"in e||"bottom"in e||"left"in e),$=e=>"object"==typeof e&&null!==e&&("x"in e||"y"in e||"z"in e),z=e=>["topLeft","topRight","bottomLeft","bottomRight"].includes(e),K=e=>["top","right","bottom","left"].includes(e),Z=e=>["x","y","z"].includes(e),J=(e,t)=>H(e)&&z(t)||U(e)&&K(t)?e[t]||"":$(e)&&Z(t)&&e[t]||"";var Y=window.divi.moduleUtils;const X=(e,t)=>!!["divi/border-radius","divi/spacing"].includes(t)&&("object"==typeof e&&null!==e&&("divi/border-radius"===t&&H(e)?Object.values(e).some((e=>"string"==typeof e&&(0,Y.isDynamicData)(e))):!("divi/spacing"!==t||!(e=>"object"==typeof e&&null!==e&&("top"in e||"right"in e||"bottom"in e||"left"in e))(e))&&Object.values(e).some((e=>"string"==typeof e&&(0,Y.isDynamicData)(e))))),Q=(e,t,r,n)=>i=>{if(null==i.inputValue||!n)return;const a=z(n),o=K(n),l=Z(n);if(!a&&!o&&!l)return;const s=J(e,n);if(i.inputValue!==s){if(a){const r=A(),a=H(e)?e:r,o={...r,...a,[n]:i.inputValue,sync:"sync"in a?a.sync:r.sync};t(o)}if(o){const r={...U(e)?e:{top:"",right:"",bottom:"",left:"",syncHorizontal:"off",syncVertical:"off"},[n]:i.inputValue};t(r)}if(l){const r={...$(e)?e:{x:"",y:"",z:""},[n]:i.inputValue};t(r)}r(null)}},ee=(e,t,r)=>()=>{r&&r(null),t(null)},te=(e,t)=>ee(e,t),re=(e,t,r)=>{if(!t)return r;if(null!=r){if("object"!=typeof r)return r;{const e=(0,s.get)(r,t);if(void 0!==e)return e}}const n=[{pattern:"animation",defaultAttr:E.animationDefaultAttr},{pattern:"background",defaultAttr:E.backgroundDefaultAttr},{pattern:"border",defaultAttr:E.borderDefaultAttr},{pattern:"boxShadow",defaultAttr:E.boxShadowDefaultAttr},{pattern:"dividers",defaultAttr:E.dividersDefaultAttr},{pattern:"filters",defaultAttr:E.filtersDefaultAttr},{pattern:"fontHeader",defaultAttr:E.fontHeaderDefaultAttr},{pattern:"fontList",defaultAttr:E.fontListDefaultAttr},{pattern:"fontOrderedList",defaultAttr:E.fontOrderedListDefaultAttr},{pattern:"fontBorder",defaultAttr:E.fontBorderDefaultAttr},{pattern:"font",defaultAttr:E.fontDefaultAttr},{pattern:"layout",defaultAttr:E.layoutDefaultAttr},{pattern:"overflow",defaultAttr:E.overflowDefaultAttr},{pattern:"position",defaultAttr:E.positionDefaultAttr},{pattern:"sizing",defaultAttr:E.sizingDefaultAttr},{pattern:"spacing",defaultAttr:E.spacingDefaultAttr},{pattern:"textShadow",defaultAttr:E.textShadowDefaultAttr},{pattern:"text",defaultAttr:E.textDefaultAttr}].find((t=>e.includes(t.pattern)))?.defaultAttr;if(n){const e=(0,s.get)(n,t);if(void 0!==e)return e}return r};var ne=window.divi.contextLibrary,ie=window.divi.iconLibrary,ae=window.divi.module;const oe=({componentName:e,label:t,value:r,sourceFieldInfo:n,fieldKey:i,customActiveAIField:a=null,isInspectorModal:s=!1})=>{const[c,u]=(0,o.useState)(!1),p=(0,d.useSelect)((e=>n?.moduleId?e("divi/edit-post").getModuleName(n.moduleId):""),[n?.moduleId]),m={moduleId:n?.moduleId||"",moduleName:p||""};return l().createElement(ne.moduleContext.Provider,{value:m},l().createElement(ae.AIQuickActionWrapper,{componentName:e,label:t,value:r,attrName:n?.attrName||"",attrSubName:n?.subName,showAiMenu:c,setShowAiMenu:u,customActiveAIField:a||i,isInspectorModal:s}))},le=({corner:e,value:t,onChange:r,setActiveDynamicContentField:n,dynamicContentType:i})=>{const[a,s]=(0,o.useState)(!0),c=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(!a){const e=setTimeout((()=>{n(null)}));return()=>clearTimeout(e)}return()=>{}}),[a,n]);return l().createElement(ae.DynamicContentUI,{isOptionsActive:a,setOptions:()=>{s(!1)},initialValue:J(t,e),onChange:Q(t,r,n,e),dynamicContentSettings:{type:i},cssProperty:"all",additionalDCProps:{data:{},chipOptionPath:e},fieldRef:c})},se=({value:e,onChange:t,setActiveDynamicContentField:r,dynamicContentType:n,sourceFieldInfo:i})=>{const a="string"==typeof e?e:"",s=((e,t,r)=>n=>{const{inputValue:i}=n;null!=i&&i!==r&&(e(i),t?.(null))})(t,r,e),[c,u]=(0,o.useState)(!0),p=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(!c){const e=setTimeout((()=>{r(null)}));return()=>clearTimeout(e)}return()=>{}}),[c,r]);const m=(0,d.useSelect)((e=>i?.moduleId?e("divi/edit-post").getModuleName(i.moduleId):""),[i?.moduleId]),h={moduleId:i?.moduleId||"",moduleName:m||""},{dynamicContentFetchData:g}=(0,ae.useGetDynamicContentOptions)();return(0,o.useEffect)((()=>{g()}),[g]),l().createElement(ne.moduleContext.Provider,{value:h},l().createElement(ae.DynamicContentUI,{isOptionsActive:c,setOptions:()=>{u(!1)},initialValue:a,onChange:s,dynamicContentSettings:{type:n},cssProperty:"all",additionalDCProps:{data:{}},fieldRef:p}))},ce=({sourceFieldInfo:e,activeDynamicContentField:t,setActiveDynamicContentField:r,value:n,onChange:i,isDiviAIEnabled:a,fieldKey:s,customActiveAIField:c})=>()=>{if(!e)return null;const d=e?.dynamicContentType||null,u=t===s,p=t?.startsWith(`${s}--`);if(p){const e=t?.split("--")[1];return e?l().createElement(le,{key:"corner-dynamic-content",corner:e,value:n,onChange:i,setActiveDynamicContentField:r,dynamicContentType:d}):null}if(u)return l().createElement(se,{key:"standard-dynamic-content",value:n,onChange:i,setActiveDynamicContentField:r,dynamicContentType:d,sourceFieldInfo:e});const m=[];d&&!G.includes(e.fieldComponent.name)&&m.push(((e,t)=>l().createElement("button",{key:"dynamic-content",type:"button",className:"et-vb-field-button et-vb-field-dynamic-content-button",onClick:()=>t(e),"aria-label":"Dynamic Content Button"},l().createElement(ie.IconSvg,{name:"divi/dynamic-content",viewBox:"0 0 16 16",size:8})))(s,r));const h="divi/upload"===e.fieldComponent.name&&"video"===e.fieldComponent.props?.dataType,g=s.startsWith("inspector-"),f=h?null:(0,Y.determineAIContentType)(e.fieldComponent.name,e.attrName,e.subName,{isInspectorModal:g});if(a&&f){const t=((e,t,r,n,i,a)=>e?l().createElement(oe,{key:"ai",componentName:e.fieldComponent.name,label:"field",value:r,sourceFieldInfo:e,fieldKey:t,customActiveAIField:i,isInspectorModal:a}):null)(e,s,"string"==typeof n?n:"",0,c,g);t&&m.push(t)}return m.length>0?l().createElement(o.Fragment,null,m):null},de=({baseProps:e,filterComponentProps:t,moduleAttributes:r,fieldProps:n,appBreakpoint:i="desktop",appState:a="value"})=>{if(!t)return e;try{const o=t({isActivePreset:!1,isActiveOptionGroupPreset:!1,attrs:r,attr:r,appState:a,appBaseBreakpoint:"desktop",appBreakpoint:i,appBreakpointNames:["desktop","tablet","phone"],lastClipboardItem:{},setRightClickOptions:()=>{},label:"",description:"",attrName:"",...n,...e});return o&&"object"==typeof o?{...e,...o}:e}catch(t){return e}},ue=e=>{const t=(0,d.useSelect)((e=>e("divi/modal-library").getAIResult())),r=(0,o.useRef)(new Set);(0,o.useEffect)((()=>{if(!t?.fieldType||!t?.value)return;const n=`${t.fieldType}-${t.value}`;if(r.current.has(n))return;if(r.current.add(n),r.current.size>10){const e=Array.from(r.current);r.current.clear(),e.slice(-5).forEach((e=>r.current.add(e)))}if(!Array.isArray(e)){const r=e[t.fieldType];return void(r&&r(t.value))}const i=e.find((e=>"function"==typeof e.pattern?e.pattern(t.fieldType):e.pattern instanceof RegExp?e.pattern.test(t.fieldType):e.pattern===t.fieldType));i&&i.handler(t.value,t.fieldType)}),[t,e])};var pe=r(93967),me=r.n(pe),he=window.divi.constantLibrary;const ge=({value:e,onChange:t,fieldInfo:r,name:n,setActiveDynamicContentField:i,activeDynamicContentField:c,fieldKey:d,excludeDefaultValue:u=!1,modalContext:p})=>{const m=d||`field-${r?.attrName||"unknown"}`,{fieldComponentName:h,FieldComponent:g,hasInternalDynamicContent:f,dynamicContentSettings:b}=(({fieldInfo:e})=>(0,o.useMemo)((()=>{const t=e?.fieldComponent?.name||"divi/text";return{fieldComponentName:t,FieldComponent:(0,M.getFieldComponent)(t)||M.Text,hasInternalDynamicContent:G.includes(t),dynamicContentSettings:e?.features?.dynamicContent||!1}}),[e]))({fieldInfo:r}),v=(0,o.useCallback)((n=>{N(n,r?.fieldComponent?.name||"divi/text",e,t,r?.fieldComponent?.props||{})}),[t,r,e]),{handleDynamicContentToggle:y}=(({setActiveDynamicContentField:e,activeDynamicContentField:t,fieldKey:r})=>{const n=t===r,i=(0,o.useCallback)((()=>{e&&e(n?null:r)}),[n,e,r]);return{isOptionsActive:n,handleDynamicContentToggle:i}})({setActiveDynamicContentField:i,activeDynamicContentField:c,fieldKey:m}),{fieldProps:w}=(({fieldInfo:e,name:t,value:r,handleChange:n,onChange:i,fieldComponentName:l,setActiveDynamicContentField:c,fieldKey:d,excludeDefaultValue:u,modalContext:p})=>({fieldProps:(0,o.useMemo)((()=>{if(!e)return{name:t,value:"",onChange:n,readonly:!0,defaultValue:(0,a.__)("No field selected","et_builder"),showPlaceholderOnEmpty:!0};const o=u?(0,s.omit)(e.fieldComponent.props,"defaultValue"):e.fieldComponent.props,m={...o,name:t,value:q(r,e.fieldComponent.name),onChange:n,showPlaceholderOnEmpty:!0,...o.placeholder&&{placeholder:o.placeholder},...null!=e.defaultValue&&!("divi/select-font"===l&&""===e.defaultValue)&&!u&&{defaultValue:e.defaultValue},...["divi/grid-offset-rules","divi/attributes","divi/interactions"].includes(l)&&p&&(()=>{const e="parentOnChange"in p;return{modalContext:{...p,...e&&{parentOnChange:i}}}})()},h=I(e.fieldComponent.name,m,r,i,{setActiveDynamicContentField:c,fieldKey:d});return e.filterComponentProps?de({baseProps:h,filterComponentProps:e.filterComponentProps,moduleAttributes:{},fieldProps:null,appBreakpoint:"desktop",appState:"value"}):h}),[e,t,r,n,i,l,c,d,u,p])}))({fieldInfo:r,name:n,value:e,handleChange:v,onChange:t,fieldComponentName:h,setActiveDynamicContentField:i,fieldKey:m,excludeDefaultValue:u,modalContext:p}),_=g,E=(0,o.useMemo)((()=>l().createElement(_,w)),[_,w]);if(!r)return E;if(f)return E;if(b){const t=!0===b?{type:"text"}:b;return l().createElement(ae.DynamicContentWrapper,{settings:t,value:e,defaultValue:r.defaultValue?String(r.defaultValue):"",onChange:v,handleDynamicContentToggle:y},[l().cloneElement(E,{key:`field-${n}`})])}return E};ge.displayName="DynamicFieldRenderer";const fe=(e,t)=>{if("add-from-library"!==t&&"your-saved-layouts"!==t)return null;return[{name:"library-import",label:"",tooltipId:"library-import",tooltipText:(0,a.__)("Import","et_builder"),iconName:"divi/portability",iconSize:12,iconColor:"#326BFF",visible:!0,onButtonClick:e=>{e.preventDefault(),e.stopPropagation();const t=window.ETCloudApp?.getActiveFolderName?.()||"",r=(0,a.__)("My Library","et_builder")===t||""===t?"My":`${t}'s`;(0,d.dispatch)("divi/modal-library").open({name:"divi/portability",tab:"import",attributes:{layoutContent:null,isCloudAppAction:!0,isCloudEnabled:!!h.topWindow.jQuery(".et-cloud-app-status-on").length,showTabs:!1,itemName:"",sharedCloudName:r,afterPortabilityClose:()=>{(0,d.dispatch)("divi/modal-library").close({name:"divi/portability"}),(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/portability",tab:"export",attributes:{isCloudAppAction:!1,showTabs:!0}}),window.ETCloudApp?.emitSignal?.({signal:"finishDownload",data:{}})}}})}}]};var be=window.divi.tooltip;const ve=({moduleName:e})=>{const t=`et-vb-legacy-badge-tooltip-${e.replace(/\//g,"-")}`;return l().createElement("span",{className:"et-vb-legacy-badge","data-tooltip-id":t},(0,a.__)("Legacy","et_builder"),l().createElement(be.TooltipContainer,{id:t,windowLocation:"top",position:"top-center"},(0,a.__)("This legacy module is running in backward compatibility mode. Legacy modules require a reload when editing and cause slower loading times on the front end.","et_builder")))},ye=e=>{const{moduleCount:t={},moduleFilter:r,moduleFolderList:n,selectedOption:i,onFilterOptionChange:o,onFilterOptionKeyDown:c,onOptionMouseEnter:d,onOptionMouseLeave:u,onOptionClick:p,themeBuilderLayout:m="postContent"}=e,{name:g}=i||{},f=l().createElement(M.Text,{name:"filter-option",className:"et-vb-module-picker-filter-option",onChange:o,onKeyDown:c,value:r,autofocus:!0,showPlaceholderOnEmpty:!0,defaultValue:(0,a.__)("Search for a module"),autocomplete:"off",renderBefore:()=>l().createElement(ie.IconSvg,{name:"divi/search",size:8,viewBox:"2 2 16 16"})}),b=(0,s.values)(n).map((e=>{const r=(0,s.get)(e,"moduleIcon",(0,s.get)(e,"icon","")),n="path"in e?e?.path:"",i=""!==n?`${n}/${e.name}`:e.name,a=Boolean(!(0,s.has)(e,"path")&&i.startsWith("divi/shortcode-module/")),o=me()({"et-vb-module-picker-option":!0,"et-vb-module-picker-option--folder":(0,s.has)(e,"path"),"et-vb-module-picker-option--selected":i===g,"et-vb-module-picker-option--legacy":a});if("appearance"in e){const{appearance:r}=e;if(r?.themeBuilderLayouts&&!(0,s.includes)(r?.themeBuilderLayouts,m))return null;if("number"==typeof r.multiple||!1===r.multiple){const e="number"==typeof r.multiple?r.multiple:1;let n=t?.[i]?.[m]??0;if("multipleAliases"in r&&(0,s.forEach)(r.multipleAliases,(e=>{n+=t?.[e]?.[m]??0})),n>=e)return null}}return l().createElement("button",{type:"button",key:`module-picker-option-${i}`,className:o,value:i,onClick:h.handleOnClickFallback,onMouseEnter:d,onMouseLeave:u,onMouseDown:p},(c=r,l().createElement(ie.IconSvg,{name:c,size:16,viewBox:"0 0 16 16",fallbackName:"divi/module-wc-stock"})),e.title,a&&l().createElement(ve,{moduleName:i}));var c}));return l().createElement("div",{className:"et-vb-module-picker-options"},f,b)},we=({selectedOption:e,onOptionClick:t,onOptionMouseEnter:r,onOptionMouseLeave:n})=>{const{name:i,position:a}=e||{},o=(0,s.map)(he.columnSpecialty,(e=>{const o=`${e.structure}--${e.position}`;return l().createElement("button",{type:"button",key:`et-vb-specialty-section-picker-option--${o}`,className:me()({"et-vb-specialty-section-picker-option":!0,"et-vb-specialty-section-picker-option--selected":e.structure===i&&e.position===a}),value:e.structure,"data-position":e.position,onClick:h.handleOnClickFallback,onMouseEnter:r,onMouseLeave:n,onMouseDown:t},l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon"},l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-label"},e.structure),((e,t)=>{const r=e.split(","),n=t.split(","),i=r.length;return l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon"},r.map(((t,r)=>{const a="0"===n[r],o=me()({"et-vb-specialty-section-picker-option-pseudo-icon-part":!0,"et-vb-specialty-section-picker-option-pseudo-icon-part--column-single":a,"et-vb-specialty-section-picker-option-pseudo-icon-part--column-has-row":!a}),s=`et-vb-specialty-section-picker-pseudo-icon-part--${e}-${r}`,[c,d]=t.split("_"),u=`calc(${parseInt(c)/parseInt(d)*100}% - ((5px * ${i-1}) / ${i}))`;return l().createElement("span",{className:o,"data-column-type":t,key:s,style:{width:u}},a?null:l().createElement("span",{className:o,"data-column-type":t,key:s},l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-part--row-inner"},l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-part--column-inner","data-column-type":"4_4"})),l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-part--row-inner"},l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-part--column-inner","data-column-type":"1_2"}),l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-part--column-inner","data-column-type":"1_2"}))))})))})(e.structure,e.position)))}));return l().createElement("div",{className:"et-vb-specialty-section-picker-options"},o)};const _e=/[\r\n%#()<>?[\\\]^`{|}]/g,Ee=new Map;function Ce({name:e,svgDefinition:t,fillColor:r="",strokeColor:n="",escape:i=!1}){const a=`${e}|${r}|${n}|${i}`;if(Ee.has(a))return Ee.get(a);let o=function(e,t,r){const{viewBox:n,elements:i}=e,a=i.map((e=>"path"===e.type?`<path d="${e.d}" fill="${t}" />`:"rect"===e.type?e.isFill?`<rect x="${e.x}" y="${e.y}" width="${e.width}" height="${e.height}" fill="${t}" class="et-vb-svg-nofill" />`:`<rect x="${e.x}" y="${e.y}" width="${e.width}" height="${e.height}" fill="none" stroke="${r}" class="et-vb-svg-nofill" />`:""));return`<svg width="${n.split(" ")[2]}" height="${n.split(" ")[3]}" viewBox="${n}" xmlns="http://www.w3.org/2000/svg">${a.join("")}</svg>`}(t,r,n);return i&&(o=((e,t="double")=>(e=(e=(e="double"===t?e.replace(/"/g,"'"):e.replace(/'/g,'"')).replace(/>\s+</g,"><")).replace(/\s{2,}/g," ")).replace(_e,encodeURIComponent))(o,"double")),Ee.set(a,o),o}const xe={"equal-columns_1":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:78,height:16,isFill:!0}]},"equal-columns_2":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:37,height:16,isFill:!0},{type:"rect",x:47,y:6,width:37,height:16,isFill:!0}]},"equal-columns_3":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:23.3333,height:16,isFill:!0},{type:"rect",x:33.333,y:6,width:23.3333,height:16,isFill:!0},{type:"rect",x:60.667,y:6,width:23.3333,height:16,isFill:!0}]},"equal-columns_4":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:16.5,height:16,isFill:!0},{type:"rect",x:26.5,y:6,width:16.5,height:16,isFill:!0},{type:"rect",x:47,y:6,width:16.5,height:16,isFill:!0},{type:"rect",x:67.5,y:6,width:16.5,height:16,isFill:!0}]},"equal-columns_5":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:12.4,height:16,isFill:!0},{type:"rect",x:22.4004,y:6,width:12.4,height:16,isFill:!0},{type:"rect",x:38.7998,y:6,width:12.4,height:16,isFill:!0},{type:"rect",x:55.2002,y:6,width:12.4,height:16,isFill:!0},{type:"rect",x:71.5996,y:6,width:12.4,height:16,isFill:!0}]},"equal-columns_6":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:9.66667,height:16,isFill:!0},{type:"rect",x:19.667,y:6,width:9.66667,height:16,isFill:!0},{type:"rect",x:33.333,y:6,width:9.66667,height:16,isFill:!0},{type:"rect",x:47,y:6,width:9.66667,height:16,isFill:!0},{type:"rect",x:60.667,y:6,width:9.66667,height:16,isFill:!0},{type:"rect",x:74.333,y:6,width:9.66667,height:16,isFill:!0}]},"equal-columns_7":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:7.71429,height:16,isFill:!0},{type:"rect",x:17.7139,y:6,width:7.71429,height:16,isFill:!0},{type:"rect",x:29.4287,y:6,width:7.71429,height:16,isFill:!0},{type:"rect",x:41.1426,y:6,width:7.71429,height:16,isFill:!0},{type:"rect",x:52.8574,y:6,width:7.71429,height:16,isFill:!0},{type:"rect",x:64.5713,y:6,width:7.71429,height:16,isFill:!0},{type:"rect",x:76.2861,y:6,width:7.71429,height:16,isFill:!0}]},"equal-columns_8":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:6.25,height:16,isFill:!0},{type:"rect",x:16.25,y:6,width:6.25,height:16,isFill:!0},{type:"rect",x:26.5,y:6,width:6.25,height:16,isFill:!0},{type:"rect",x:36.75,y:6,width:6.25,height:16,isFill:!0},{type:"rect",x:47,y:6,width:6.25,height:16,isFill:!0},{type:"rect",x:57.25,y:6,width:6.25,height:16,isFill:!0},{type:"rect",x:67.5,y:6,width:6.25,height:16,isFill:!0},{type:"rect",x:77.75,y:6,width:6.25,height:16,isFill:!0}]},"offset-columns_1":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:45,height:16,isFill:!0},{type:"rect",x:55,y:6,width:29,height:16,isFill:!0}]},"offset-columns_2":{viewBox:"0 0 90 28",elements:[{type:"rect",x:39,y:6,width:45,height:16,isFill:!0},{type:"rect",x:6,y:6,width:29,height:16,isFill:!0}]},"offset-columns_3":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:37,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0},{type:"rect",x:47,y:6,width:17,height:16,isFill:!0}]},"offset-columns_4":{viewBox:"0 0 90 28",elements:[{type:"rect",x:47,y:6,width:37,height:16,isFill:!0},{type:"rect",x:27,y:6,width:16,height:16,isFill:!0},{type:"rect",x:6,y:6,width:17,height:16,isFill:!0}]},"offset-columns_5":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:51,height:16,isFill:!0},{type:"rect",x:61,y:6,width:23,height:16,isFill:!0}]},"offset-columns_6":{viewBox:"0 0 90 28",elements:[{type:"rect",x:33,y:6,width:51,height:16,isFill:!0},{type:"rect",x:6,y:6,width:23,height:16,isFill:!0}]},"offset-columns_7":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:37,height:16,isFill:!0},{type:"rect",x:47,y:6,width:10,height:16,isFill:!0},{type:"rect",x:61,y:6,width:9,height:16,isFill:!0},{type:"rect",x:74,y:6,width:10,height:16,isFill:!0}]},"offset-columns_8":{viewBox:"0 0 90 28",elements:[{type:"rect",x:47,y:6,width:37,height:16,isFill:!0},{type:"rect",x:6,y:6,width:10,height:16,isFill:!0},{type:"rect",x:20,y:6,width:9,height:16,isFill:!0},{type:"rect",x:33,y:6,width:10,height:16,isFill:!0}]},"offset-columns_9":{viewBox:"0 0 90 28",elements:[{type:"rect",x:6,y:6,width:58,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0}]},"offset-columns_10":{viewBox:"0 0 90 28",elements:[{type:"rect",x:27,y:6,width:57,height:16,isFill:!0},{type:"rect",x:6,y:6,width:17,height:16,isFill:!0}]},"offset-columns_11":{viewBox:"0 0 90 28",elements:[{type:"rect",x:27,y:6,width:37,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0},{type:"rect",x:6,y:6,width:17,height:16,isFill:!0}]},"offset-columns_12":{viewBox:"0 0 90 28",elements:[{type:"rect",x:22,y:6,width:46,height:16,isFill:!0},{type:"rect",x:6,y:6,width:12,height:16,isFill:!0},{type:"rect",x:72,y:6,width:12,height:16,isFill:!0}]},"multi-row-grids_1":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:78,height:16,isFill:!0},{type:"rect",x:6,y:26,width:78,height:16,isFill:!0}]},"multi-row-grids_2":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:37,height:16,isFill:!0},{type:"rect",x:47,y:6,width:37,height:16,isFill:!0},{type:"rect",x:6,y:26,width:37,height:16,isFill:!0},{type:"rect",x:47,y:26,width:37,height:16,isFill:!0}]},"multi-row-grids_3":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:58,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0},{type:"rect",x:6,y:26,width:58,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:16,isFill:!0}]},"multi-row-grids_4":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:17,height:16,isFill:!0},{type:"rect",x:27,y:6,width:57,height:16,isFill:!0},{type:"rect",x:6,y:26,width:17,height:16,isFill:!0},{type:"rect",x:27,y:26,width:57,height:16,isFill:!0}]},"multi-row-grids_5":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:23,height:16,isFill:!0},{type:"rect",x:33,y:6,width:24,height:16,isFill:!0},{type:"rect",x:61,y:6,width:23,height:16,isFill:!0},{type:"rect",x:6,y:26,width:23,height:16,isFill:!0},{type:"rect",x:33,y:26,width:24,height:16,isFill:!0},{type:"rect",x:61,y:26,width:23,height:16,isFill:!0}]},"multi-row-grids_6":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:17,height:16,isFill:!0},{type:"rect",x:27,y:6,width:16,height:16,isFill:!0},{type:"rect",x:47,y:6,width:17,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0},{type:"rect",x:6,y:26,width:17,height:16,isFill:!0},{type:"rect",x:27,y:26,width:16,height:16,isFill:!0},{type:"rect",x:47,y:26,width:17,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:16,isFill:!0}]},"multi-row-grids_7":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:12,height:16,isFill:!0},{type:"rect",x:22,y:6,width:46,height:16,isFill:!0},{type:"rect",x:72,y:6,width:12,height:16,isFill:!0},{type:"rect",x:6,y:26,width:12,height:16,isFill:!0},{type:"rect",x:22,y:26,width:46,height:16,isFill:!0},{type:"rect",x:72,y:26,width:12,height:16,isFill:!0}]},"multi-row-grids_8":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:46,height:16,isFill:!0},{type:"rect",x:56,y:6,width:12,height:16,isFill:!0},{type:"rect",x:72,y:6,width:12,height:16,isFill:!0},{type:"rect",x:6,y:26,width:46,height:16,isFill:!0},{type:"rect",x:56,y:26,width:12,height:16,isFill:!0},{type:"rect",x:72,y:26,width:12,height:16,isFill:!0}]},"multi-row-grids_9":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:12,height:16,isFill:!0},{type:"rect",x:22,y:6,width:13,height:16,isFill:!0},{type:"rect",x:39,y:6,width:12,height:16,isFill:!0},{type:"rect",x:55,y:6,width:13,height:16,isFill:!0},{type:"rect",x:72,y:6,width:12,height:16,isFill:!0},{type:"rect",x:6,y:26,width:12,height:16,isFill:!0},{type:"rect",x:22,y:26,width:13,height:16,isFill:!0},{type:"rect",x:39,y:26,width:12,height:16,isFill:!0},{type:"rect",x:55,y:26,width:13,height:16,isFill:!0},{type:"rect",x:72,y:26,width:12,height:16,isFill:!0}]},"multi-row-grids_10":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:10,height:16,isFill:!0},{type:"rect",x:20,y:6,width:9,height:16,isFill:!0},{type:"rect",x:33,y:6,width:10,height:16,isFill:!0},{type:"rect",x:47,y:6,width:10,height:16,isFill:!0},{type:"rect",x:61,y:6,width:9,height:16,isFill:!0},{type:"rect",x:74,y:6,width:10,height:16,isFill:!0},{type:"rect",x:6,y:26,width:10,height:16,isFill:!0},{type:"rect",x:20,y:26,width:9,height:16,isFill:!0},{type:"rect",x:33,y:26,width:10,height:16,isFill:!0},{type:"rect",x:47,y:26,width:10,height:16,isFill:!0},{type:"rect",x:61,y:26,width:9,height:16,isFill:!0},{type:"rect",x:74,y:26,width:10,height:16,isFill:!0}]},"multi-row-grids_11":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:23,height:16,isFill:!0},{type:"rect",x:33,y:6,width:51,height:16,isFill:!0},{type:"rect",x:6,y:26,width:51,height:16,isFill:!0},{type:"rect",x:61,y:26,width:23,height:16,isFill:!0}]},"multi-row-grids_12":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:51,height:16,isFill:!0},{type:"rect",x:61,y:6,width:23,height:16,isFill:!0},{type:"rect",x:6,y:26,width:23,height:16,isFill:!0},{type:"rect",x:33,y:26,width:51,height:16,isFill:!0}]},"multi-column-grids_1":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:58,height:16,isFill:!0},{type:"rect",x:6,y:26,width:27,height:16,isFill:!0},{type:"rect",x:37,y:26,width:27,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:36,isFill:!0}]},"multi-column-grids_2":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:17,height:36,isFill:!0},{type:"rect",x:27,y:6,width:57,height:16,isFill:!0},{type:"rect",x:27,y:26,width:27,height:16,isFill:!0},{type:"rect",x:58,y:26,width:26,height:16,isFill:!0}]},"multi-column-grids_3":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:37,height:16,isFill:!0},{type:"rect",x:6,y:26,width:17,height:16,isFill:!0},{type:"rect",x:27,y:26,width:16,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:36,isFill:!0},{type:"rect",x:47,y:6,width:17,height:36,isFill:!0}]},"multi-column-grids_4":{viewBox:"0 0 90 48",elements:[{type:"rect",x:47,y:6,width:37,height:16,isFill:!0},{type:"rect",x:47,y:26,width:17,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:16,isFill:!0},{type:"rect",x:27,y:6,width:16,height:36,isFill:!0},{type:"rect",x:6,y:6,width:17,height:36,isFill:!0}]},"multi-column-grids_5":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:51,height:16,isFill:!0},{type:"rect",x:6,y:26,width:23,height:16,isFill:!0},{type:"rect",x:33,y:26,width:24,height:16,isFill:!0},{type:"rect",x:61,y:6,width:23,height:36,isFill:!0}]},"multi-column-grids_6":{viewBox:"0 0 90 48",elements:[{type:"rect",x:33,y:6,width:51,height:16,isFill:!0},{type:"rect",x:33,y:26,width:24,height:16,isFill:!0},{type:"rect",x:61,y:26,width:23,height:16,isFill:!0},{type:"rect",x:6,y:6,width:23,height:36,isFill:!0}]},"multi-column-grids_7":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:46,height:16,isFill:!0},{type:"rect",x:6,y:26,width:21,height:16,isFill:!0},{type:"rect",x:31,y:26,width:21,height:16,isFill:!0},{type:"rect",x:72,y:6,width:12,height:36,isFill:!0},{type:"rect",x:56,y:6,width:12,height:36,isFill:!0}]},"multi-column-grids_8":{viewBox:"0 0 90 48",elements:[{type:"rect",x:38,y:6,width:46,height:16,isFill:!0},{type:"rect",x:38,y:26,width:21,height:16,isFill:!0},{type:"rect",x:63,y:26,width:21,height:16,isFill:!0},{type:"rect",x:22,y:6,width:12,height:36,isFill:!0},{type:"rect",x:6,y:6,width:12,height:36,isFill:!0}]},"multi-column-grids_9":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:37,height:16,isFill:!0},{type:"rect",x:6,y:26,width:17,height:16,isFill:!0},{type:"rect",x:27,y:26,width:16,height:16,isFill:!0},{type:"rect",x:47,y:6,width:37,height:36,isFill:!0}]},"multi-column-grids_10":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:37,height:36,isFill:!0},{type:"rect",x:47,y:6,width:37,height:16,isFill:!0},{type:"rect",x:47,y:26,width:17,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:16,isFill:!0}]},"multi-column-grids_11":{viewBox:"0 0 90 48",elements:[{type:"rect",x:27,y:6,width:37,height:16,isFill:!0},{type:"rect",x:27,y:26,width:16,height:16,isFill:!0},{type:"rect",x:47,y:26,width:17,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:36,isFill:!0},{type:"rect",x:6,y:6,width:17,height:36,isFill:!0}]},"multi-column-grids_12":{viewBox:"0 0 90 48",elements:[{type:"rect",x:22,y:6,width:46,height:16,isFill:!0},{type:"rect",x:22,y:26,width:21,height:16,isFill:!0},{type:"rect",x:47,y:26,width:21,height:16,isFill:!0},{type:"rect",x:72,y:6,width:12,height:36,isFill:!0},{type:"rect",x:6,y:6,width:12,height:36,isFill:!0}]},"css-grid-grids_1":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:78,height:16,isFill:!0},{type:"rect",x:6,y:26,width:78,height:16,isFill:!0}]},"css-grid-grids_2":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:37,height:16,isFill:!0},{type:"rect",x:47,y:6,width:37,height:16,isFill:!0},{type:"rect",x:6,y:26,width:37,height:16,isFill:!0},{type:"rect",x:47,y:26,width:37,height:16,isFill:!0}]},"css-grid-grids_3":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:58,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0},{type:"rect",x:6,y:26,width:58,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:16,isFill:!0}]},"css-grid-grids_4":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:17,height:16,isFill:!0},{type:"rect",x:27,y:6,width:57,height:16,isFill:!0},{type:"rect",x:6,y:26,width:17,height:16,isFill:!0},{type:"rect",x:27,y:26,width:57,height:16,isFill:!0}]},"css-grid-grids_5":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:24,height:16,isFill:!0},{type:"rect",x:33,y:6,width:24,height:16,isFill:!0},{type:"rect",x:60,y:6,width:24,height:16,isFill:!0},{type:"rect",x:6,y:26,width:24,height:16,isFill:!0},{type:"rect",x:33,y:26,width:24,height:16,isFill:!0},{type:"rect",x:60,y:26,width:24,height:16,isFill:!0}]},"css-grid-grids_6":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:18,height:16,isFill:!0},{type:"rect",x:27,y:6,width:18,height:16,isFill:!0},{type:"rect",x:48,y:6,width:18,height:16,isFill:!0},{type:"rect",x:69,y:6,width:15,height:16,isFill:!0},{type:"rect",x:6,y:26,width:18,height:16,isFill:!0},{type:"rect",x:27,y:26,width:18,height:16,isFill:!0},{type:"rect",x:48,y:26,width:18,height:16,isFill:!0},{type:"rect",x:69,y:26,width:15,height:16,isFill:!0}]},"css-grid-grids_7":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:12,height:16,isFill:!0},{type:"rect",x:22,y:6,width:46,height:16,isFill:!0},{type:"rect",x:72,y:6,width:12,height:16,isFill:!0},{type:"rect",x:6,y:26,width:12,height:16,isFill:!0},{type:"rect",x:22,y:26,width:46,height:16,isFill:!0},{type:"rect",x:72,y:26,width:12,height:16,isFill:!0}]},"css-grid-grids_8":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:46,height:16,isFill:!0},{type:"rect",x:56,y:6,width:12,height:16,isFill:!0},{type:"rect",x:72,y:6,width:12,height:16,isFill:!0},{type:"rect",x:6,y:26,width:46,height:16,isFill:!0},{type:"rect",x:56,y:26,width:12,height:16,isFill:!0},{type:"rect",x:72,y:26,width:12,height:16,isFill:!0}]},"css-grid-grids_9":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:12,height:16,isFill:!0},{type:"rect",x:22,y:6,width:13,height:16,isFill:!0},{type:"rect",x:39,y:6,width:12,height:16,isFill:!0},{type:"rect",x:55,y:6,width:13,height:16,isFill:!0},{type:"rect",x:72,y:6,width:12,height:16,isFill:!0},{type:"rect",x:6,y:26,width:12,height:16,isFill:!0},{type:"rect",x:22,y:26,width:13,height:16,isFill:!0},{type:"rect",x:39,y:26,width:12,height:16,isFill:!0},{type:"rect",x:55,y:26,width:13,height:16,isFill:!0},{type:"rect",x:72,y:26,width:12,height:16,isFill:!0}]},"css-grid-grids_10":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:10,height:16,isFill:!0},{type:"rect",x:20,y:6,width:9,height:16,isFill:!0},{type:"rect",x:33,y:6,width:10,height:16,isFill:!0},{type:"rect",x:47,y:6,width:10,height:16,isFill:!0},{type:"rect",x:61,y:6,width:9,height:16,isFill:!0},{type:"rect",x:74,y:6,width:10,height:16,isFill:!0},{type:"rect",x:6,y:26,width:10,height:16,isFill:!0},{type:"rect",x:20,y:26,width:9,height:16,isFill:!0},{type:"rect",x:33,y:26,width:10,height:16,isFill:!0},{type:"rect",x:47,y:26,width:10,height:16,isFill:!0},{type:"rect",x:61,y:26,width:9,height:16,isFill:!0},{type:"rect",x:74,y:26,width:10,height:16,isFill:!0}]},"css-grid-grids_11":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:23,height:16,isFill:!0},{type:"rect",x:33,y:6,width:51,height:16,isFill:!0},{type:"rect",x:6,y:26,width:51,height:16,isFill:!0},{type:"rect",x:61,y:26,width:23,height:16,isFill:!0}]},"css-grid-grids_12":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:56,height:16,isFill:!0},{type:"rect",x:66,y:6,width:18,height:16,isFill:!0},{type:"rect",x:6,y:26,width:18,height:16,isFill:!0},{type:"rect",x:28,y:26,width:56,height:16,isFill:!0}]},"masonry-grids_1":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:37,height:16,isFill:!0},{type:"rect",x:47,y:6,width:17,height:36,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0},{type:"rect",x:6,y:26,width:37,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:16,isFill:!0}]},"masonry-grids_2":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:19,height:36,isFill:!0},{type:"rect",x:29,y:6,width:19,height:16,isFill:!0},{type:"rect",x:52,y:6,width:16,height:16,isFill:!0},{type:"rect",x:72,y:6,width:12,height:16,isFill:!0},{type:"rect",x:29,y:26,width:19,height:16,isFill:!0},{type:"rect",x:52,y:26,width:32,height:16,isFill:!0}]},"masonry-grids_3":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:17,height:16,isFill:!0},{type:"rect",x:47,y:6,width:17,height:36,isFill:!0},{type:"rect",x:6,y:26,width:37,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0},{type:"rect",x:27,y:6,width:16,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:16,isFill:!0}]},"masonry-grids_4":{viewBox:"0 0 90 48",elements:[{type:"rect",x:6,y:6,width:17,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:36,isFill:!0},{type:"rect",x:6,y:26,width:58,height:16,isFill:!0},{type:"rect",x:27,y:6,width:37,height:16,isFill:!0}]},"masonry-grids_5":{viewBox:"0 0 90 68",elements:[{type:"rect",x:6,y:6,width:37,height:36,isFill:!0},{type:"rect",x:6,y:46,width:58,height:16,isFill:!0},{type:"rect",x:47,y:6,width:17,height:36,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:36,isFill:!0}]},"masonry-grids_6":{viewBox:"0 0 90 68",elements:[{type:"rect",x:6,y:21,width:58,height:26,isFill:!0},{type:"rect",x:6,y:6,width:37,height:11,isFill:!0},{type:"rect",x:47,y:51,width:37,height:11,isFill:!0},{type:"rect",x:47,y:6,width:17,height:11,isFill:!0},{type:"rect",x:68,y:6,width:16,height:41,isFill:!0},{type:"rect",x:6,y:51,width:17,height:11,isFill:!0},{type:"rect",x:27,y:51,width:16,height:11,isFill:!0}]},"masonry-grids_7":{viewBox:"0 0 90 68",elements:[{type:"rect",x:6,y:6,width:17,height:16,isFill:!0},{type:"rect",x:6,y:46,width:17,height:16,isFill:!0},{type:"rect",x:27,y:46,width:37,height:16,isFill:!0},{type:"rect",x:47,y:6,width:17,height:36,isFill:!0},{type:"rect",x:6,y:26,width:37,height:16,isFill:!0},{type:"rect",x:27,y:6,width:16,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:36,isFill:!0}]},"masonry-grids_8":{viewBox:"0 0 90 68",elements:[{type:"rect",x:6,y:6,width:58,height:26,isFill:!0},{type:"rect",x:27,y:36,width:57,height:26,isFill:!0},{type:"rect",x:68,y:6,width:16,height:11,isFill:!0},{type:"rect",x:68,y:21,width:16,height:11,isFill:!0},{type:"rect",x:6,y:36,width:17,height:11,isFill:!0},{type:"rect",x:6,y:51,width:17,height:11,isFill:!0}]},"masonry-grids_9":{viewBox:"0 0 90 68",elements:[{type:"rect",width:51,height:36,x:33,y:6,isFill:!0},{type:"rect",x:6,y:46,width:23,height:16,isFill:!0},{type:"rect",x:33,y:46,width:24,height:16,isFill:!0},{type:"rect",x:61,y:46,width:23,height:16,isFill:!0},{type:"rect",x:6,y:6,width:23,height:16,isFill:!0},{type:"rect",x:6,y:26,width:23,height:16,isFill:!0}]},"masonry-grids_10":{viewBox:"0 0 90 68",elements:[{type:"rect",width:51,height:36,x:6,y:6,isFill:!0},{type:"rect",x:6,y:46,width:23,height:16,isFill:!0},{type:"rect",x:33,y:46,width:24,height:16,isFill:!0},{type:"rect",x:61,y:46,width:23,height:16,isFill:!0},{type:"rect",x:61,y:6,width:23,height:16,isFill:!0},{type:"rect",x:61,y:26,width:23,height:16,isFill:!0}]},"masonry-grids_11":{viewBox:"0 0 90 68",elements:[{type:"rect",x:6,y:6,width:37,height:36,isFill:!0},{type:"rect",x:6,y:46,width:17,height:16,isFill:!0},{type:"rect",x:27,y:46,width:16,height:16,isFill:!0},{type:"rect",x:47,y:46,width:17,height:16,isFill:!0},{type:"rect",x:68,y:46,width:16,height:16,isFill:!0},{type:"rect",x:68,y:6,width:16,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:16,isFill:!0},{type:"rect",x:47,y:6,width:17,height:16,isFill:!0},{type:"rect",x:47,y:26,width:17,height:16,isFill:!0}]},"masonry-grids_12":{viewBox:"0 0 90 68",elements:[{type:"rect",x:47,y:6,width:37,height:36,isFill:!0},{type:"rect",x:6,y:46,width:17,height:16,isFill:!0},{type:"rect",x:27,y:46,width:16,height:16,isFill:!0},{type:"rect",x:47,y:46,width:17,height:16,isFill:!0},{type:"rect",x:68,y:46,width:16,height:16,isFill:!0},{type:"rect",x:27,y:6,width:16,height:16,isFill:!0},{type:"rect",x:27,y:26,width:16,height:16,isFill:!0},{type:"rect",x:6,y:6,width:17,height:16,isFill:!0},{type:"rect",x:6,y:26,width:17,height:16,isFill:!0}]},"masonry-grids_13":{viewBox:"0 0 90 68",elements:[{type:"rect",x:6,y:6,width:17,height:11,isFill:!0},{type:"rect",x:6,y:51,width:17,height:11,isFill:!0},{type:"rect",x:27,y:36,width:16,height:11,isFill:!0},{type:"rect",x:27,y:51,width:16,height:11,isFill:!0},{type:"rect",x:47,y:6,width:17,height:26,isFill:!0},{type:"rect",x:47,y:36,width:17,height:26,isFill:!0},{type:"rect",x:6,y:21,width:17,height:26,isFill:!0},{type:"rect",x:27,y:6,width:16,height:26,isFill:!0},{type:"rect",x:68,y:21,width:16,height:26,isFill:!0},{type:"rect",x:68,y:6,width:16,height:11,isFill:!0},{type:"rect",x:68,y:51,width:16,height:11,isFill:!0}]},"masonry-grids_14":{viewBox:"0 0 90 68",elements:[{type:"rect",x:6,y:6,width:23,height:26,isFill:!0},{type:"rect",x:33,y:21,width:24,height:26,isFill:!0},{type:"rect",x:61,y:6,width:23,height:11,isFill:!0},{type:"rect",x:61,y:21,width:23,height:11,isFill:!0},{type:"rect",x:6,y:51,width:23,height:11,isFill:!0},{type:"rect",x:33,y:51,width:24,height:11,isFill:!0},{type:"rect",x:6,y:36,width:23,height:11,isFill:!0},{type:"rect",x:61,y:36,width:23,height:26,isFill:!0},{type:"rect",x:33,y:6,width:24,height:11,isFill:!0}]},"masonry-grids_15":{viewBox:"0 0 90 68",elements:[{type:"rect",x:6,y:6,width:17,height:11,isFill:!0},{type:"rect",x:6,y:36,width:17,height:11,isFill:!0},{type:"rect",x:68,y:36,width:16,height:11,isFill:!0},{type:"rect",x:27,y:36,width:16,height:26,isFill:!0},{type:"rect",x:47,y:6,width:17,height:11,isFill:!0},{type:"rect",x:6,y:21,width:17,height:11,isFill:!0},{type:"rect",x:27,y:6,width:16,height:26,isFill:!0},{type:"rect",x:68,y:6,width:16,height:26,isFill:!0},{type:"rect",x:47,y:21,width:17,height:26,isFill:!0}]},"masonry-grids_16":{viewBox:"0 0 90 68",elements:[{type:"rect",x:6,y:6,width:17,height:26,isFill:!0},{type:"rect",x:6,y:36,width:17,height:26,isFill:!0},{type:"rect",x:27,y:6,width:16,height:11,isFill:!0},{type:"rect",x:27,y:21,width:16,height:26,isFill:!0},{type:"rect",x:47,y:6,width:17,height:26,isFill:!0},{type:"rect",x:47,y:36,width:17,height:11,isFill:!0},{type:"rect",x:68,y:6,width:16,height:11,isFill:!0},{type:"rect",x:68,y:21,width:16,height:11,isFill:!0},{type:"rect",x:68,y:36,width:16,height:26,isFill:!0}]},"sidebar-grids_1":{viewBox:"0 0 90 84",elements:[{type:"rect",x:6,y:6,width:78,height:16,isFill:!0},{type:"rect",x:6,y:26,width:58,height:32,isFill:!0},{type:"rect",x:6,y:62,width:78,height:16,isFill:!0},{type:"rect",x:68,y:26,width:16,height:32,isFill:!0}]},"sidebar-grids_2":{viewBox:"0 0 90 84",elements:[{type:"rect",x:6,y:6,width:78,height:16,isFill:!0},{type:"rect",x:27,y:26,width:57,height:32,isFill:!0},{type:"rect",x:6,y:62,width:78,height:16,isFill:!0},{type:"rect",x:6,y:26,width:17,height:32,isFill:!0}]},"sidebar-grids_3":{viewBox:"0 0 90 84",elements:[{type:"rect",x:6,y:6,width:78,height:16,isFill:!0},{type:"rect",x:27,y:26,width:37,height:32,isFill:!0},{type:"rect",x:6,y:62,width:78,height:16,isFill:!0},{type:"rect",x:6,y:26,width:17,height:32,isFill:!0},{type:"rect",x:68,y:26,width:16,height:32,isFill:!0}]},"sidebar-grids_4":{viewBox:"0 0 90 84",elements:[{type:"rect",x:6,y:6,width:78,height:16,isFill:!0},{type:"rect",x:22,y:26,width:46,height:32,isFill:!0},{type:"rect",x:6,y:62,width:78,height:16,isFill:!0},{type:"rect",x:6,y:26,width:12,height:32,isFill:!0},{type:"rect",x:72,y:26,width:12,height:32,isFill:!0}]}},Se={"equal-columns":{label:(0,a.__)("Equal Columns","et_builder"),badge:(0,a.__)("Flex","et_builder"),badgeClass:"et-vb-row-picker__group-badge--flex"},"offset-columns":{label:(0,a.__)("Offset Columns","et_builder"),badge:(0,a.__)("Flex","et_builder"),badgeClass:"et-vb-row-picker__group-badge--flex"},"multi-row-grids":{label:(0,a.__)("Multi-Row","et_builder"),badge:(0,a.__)("Flex","et_builder"),badgeClass:"et-vb-row-picker__group-badge--flex"},"multi-column-grids":{label:(0,a.__)("Multi-Column","et_builder"),badge:(0,a.__)("Flex","et_builder"),badgeClass:"et-vb-row-picker__group-badge--flex"},"css-grid-grids":{label:(0,a.__)("Multi-Row","et_builder"),badge:(0,a.__)("Grid","et_builder"),badgeClass:"et-vb-row-picker__group-badge--grid"},"masonry-grids":{label:(0,a.__)("Masonry","et_builder"),badge:(0,a.__)("Grid","et_builder"),badgeClass:"et-vb-row-picker__group-badge--grid"},"sidebar-grids":{label:(0,a.__)("Sidebar","et_builder"),badge:(0,a.__)("Grid","et_builder"),badgeClass:"et-vb-row-picker__group-badge--grid"}},ke=({className:e="",onChange:t,fillColor:r="#D2D7E4",strokeColor:n="#326BFF",layoutType:i="section",excludeCategories:a=[]})=>l().createElement("div",{className:me()(["et-vb-row-picker",`et-vb-row-picker--${i}`,e])},Object.keys(he.premadeGrids).filter((e=>!a.includes(e))).map(((e,a,o)=>{const{items:s}=he.premadeGrids[e];return l().createElement("div",{key:e,className:"et-vb-row-picker__group"},l().createElement("h4",{className:"et-vb-row-picker__group-title"},(()=>{const t=Se[e]??{label:e};return t.badge?l().createElement(l().Fragment,null,l().createElement("span",{className:`et-vb-row-picker__group-badge ${t.badgeClass||""}`},t.badge),t.label):t.label})()),l().createElement("div",{className:"et-vb-row-picker__options-grid"},Object.values(s).map((e=>l().createElement("button",{key:e.name,type:"button",className:me()("et-vb-row-picker__option",`et-vb-row-picker__option--${i}`),onClick:h.handleOnClickFallback,onMouseDown:t,"aria-label":e.name,value:e.name,"data-column-layout":e.name},l().createElement("div",{className:"et-vb-row-picker__option-preview",dangerouslySetInnerHTML:{__html:Ce({name:e.name,svgDefinition:xe[e.name],fillColor:r,strokeColor:n})}}))))),a<o.length-1&&l().createElement("div",{className:"et-vb-row-picker__divider"}))}))),Ie="divi/row-picker";ke.fieldName=Ie;const Me=e=>{const{name:t,onChange:r=(()=>{}),className:n="",fillColor:i="#D2D7E4",strokeColor:a="#326BFF",layoutType:l="section",excludeCategories:s=[],columnsLength:c=0,...d}=e,u={...d,name:t,onChange:r,className:n,fillColor:i,strokeColor:a,layoutType:l,excludeCategories:s,columnsLength:c};return(0,o.createElement)(ke,u)};Me.fieldName=Ie;const Ae=({name:e,tab:t,moduleFolderList:r,moduleFolder:n,moduleFilter:i,selectedOption:g,parentModule:f,moduleCount:b,moduleType:v,onButtonClick:y,onAddRowButtonClick:_,onBackButtonClick:E,onFilterOptionChange:C,onOptionKeyDown:x,onOptionMouseEnter:S,onOptionMouseLeave:k,adminBarHeight:I,themeBuilderLayout:M,topWindowHeight:A,topWindowWidth:F,openTab:N,onCloudUseItem:T,dimension:O,loadAISectionModal:P,isDiviAIEnabled:D,isInsideRegularSection:L,availableTabs:R})=>{const[V,B]=(0,o.useState)(!0),[j,q]=(0,o.useState)((0,a.__)("Layout Details","et_builder")),[W,G]=(0,o.useState)(null),H="specialty-section"===v,U="section"===v,$="row"===v,z="row-inner"===v,K="module"===v,Z=K&&L,J=t||R[0],Y=(e,t)=>{B(e),q(t||(0,a.__)("Layout Details","et_builder"))},X=V||"add-from-library"!==J,{builderBarWidth:Q,pageBarHeight:ee,sidebarLeftWidth:te,sidebarRightWidth:re}=(0,d.useSelect)((e=>({pageBarHeight:e("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"}),builderBarWidth:e("divi/app-ui").getElementProperty({elementName:"builderBar",propertyGroup:"dimension",propertyName:"width"}),sidebarLeftWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarLeft",propertyGroup:"dimension",propertyName:"width"}),sidebarRightWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarRight",propertyGroup:"dimension",propertyName:"width"})}))),ne=e=>"add-from-library"===e?(0,a.__)("Add From Library","et_builder"):"add-nested-row"===e?(0,a.__)("New Row","et_builder"):U?(0,a.__)("New Section","et_builder"):$||z?(0,a.__)("New Row","et_builder"):(0,a.__)("New Module","et_builder"),ie=()=>{const e=O.height;if("add-from-library"===J)return A-(I+ee+64);if(K){if("root"===f?.parent)return e;return w({topWindowHeight:A,adminBarHeight:I,pageBarHeight:ee,minimumHeight:"number"==typeof e?e:null,framePadding:32})}return U||$?w({topWindowHeight:A,adminBarHeight:I,pageBarHeight:ee,maximumHeight:1300,framePadding:32}):e},ae=()=>{const e=(()=>{switch(v){case"section":case"specialty-section":return"section";case"row":case"row-inner":return"row";default:return"module"}})();if("section"===e)return l().createElement(c.CloudAppContainer,{context:"section",libraryDataTypeToFetch:["section"],onCloudPageChanged:Y,onCloudUseItem:T,backButton:W});if("row"===e){if(z){const e=(0,s.get)(f,["props","attrs","module","advanced","type","desktop","value"],"");if(e){const t=4===Number.parseInt(e)?["4_4","1_2,1_2","1_3,1_3,1_3","1_4,1_4,1_4,1_4"]:["4_4","1_2,1_2","1_3,1_3,1_3"];return l().createElement(c.CloudAppContainer,{context:"row",libraryDataTypeToFetch:["row"],permanentFilter:{property:"row_layout",value:t},onCloudPageChanged:Y,onCloudUseItem:T,backButton:W})}}return l().createElement(c.CloudAppContainer,{context:"row",libraryDataTypeToFetch:["row"],onCloudPageChanged:Y,onCloudUseItem:T,backButton:W})}let t="regular";return"fullwidth"===(0,s.get)(f,["props","attrs","module","advanced","type","desktop","value"],"regular")&&(t="fullwidth"),l().createElement(c.CloudAppContainer,{context:"module",libraryDataTypeToFetch:["module","row"],permanentFilter:{property:"width",value:t},onCloudPageChanged:Y,onCloudUseItem:T,backButton:W})},oe=e=>"add-from-library"===e?ae():"add-nested-row"===e?l().createElement(Me,{onChange:_,layoutType:"row"}):H?l().createElement(we,{selectedOption:g,onOptionClick:y,onOptionMouseEnter:S,onOptionMouseLeave:k}):U?l().createElement(l().Fragment,null,l().createElement(Me,{onChange:_,layoutType:"section"}),D&&l().createElement(m.DiviAiButton,{className:"et-vb-modal-section-ai-button et-vb-button et-vb-button--secondary",title:(0,a.__)("Generate Section With AI","et_builder"),onClick:P})):$||z?l().createElement(Me,{onChange:_,layoutType:"row"}):l().createElement(ye,{moduleCount:b,moduleFolderList:r,moduleFilter:i,selectedOption:g,onFilterOptionChange:C,onFilterOptionKeyDown:x,onOptionMouseEnter:S,onOptionMouseLeave:k,onOptionClick:y,themeBuilderLayout:M});return(0,o.useEffect)((()=>{G(V?null:[h.topWindow.document.querySelector(".et-vb-modal-header-button--back-to-parent"),h.topWindow.document.querySelector(".et-vb-modal-tab:not(.et-vb-modal-tab--active)")])}),[V]),(0,o.useEffect)((()=>{B(!0),q(ne(J))}),[J]),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--add-module",componentName:"et-vb-divi-modals--add-module"},l().createElement(p.WrapperContainer,{snappable:!1,expandable:!1,caret:!1,caretStaysOnAppWindowClickPosition:!1,modalName:e,modalActiveTab:J,dimension:{width:"add-from-library"===J?F-(Q+te+re+64):U||$?458:O.width,height:ie()}},l().createElement(p.Header,{name:X?U?(0,a.__)("Insert Section","et_builder"):$||z?(0,a.__)("Insert Row","et_builder"):Z?(0,a.__)("Insert Module Or Row","et_builder"):(0,a.__)("Insert Module","et_builder"):j,backButton:!X||""!==n,onClickBackButton:e=>{X?E(e):B(!0)},customButtons:fe(0,J)}),l().createElement(p.Tabs,null,R.map((e=>{if("add-nested-row"===e&&!Z)return null;const t=e===J;return l().createElement(p.Tab,{key:e,onClick:()=>N(e),active:t},ne(e))}))),l().createElement(p.BodyContainer,null,R.map((e=>{if("add-nested-row"===e&&!Z)return null;const t=["et-vb-modal-panel",`et-vb-modal-panel--${e}`,`et-vb-modal-panel--${v}`];return e===J&&t.push("et-vb-active"),l().createElement("div",{key:e,className:t.join(" ")},oe(e))})))))};var Fe=window.jQuery,Ne=r.n(Fe),Te=window.divi.clipboard,Oe=window.divi.keyboardShortcuts;const Pe="divi/add-module",De=["add-module","add-nested-row","add-from-library"],Le=(0,s.debounce)(((e,t)=>{requestAnimationFrame((()=>{(0,Te.waitUntilAttrsMapsReady)({id:e,attrsMapsType:"module",name:t,component:(0,Y.getSettingsComponent)(t),callback:()=>{},waitForCaching:!0}).catch((()=>{}))}))})),Re=e=>{(0,d.dispatch)("divi/modal-library").openTab({name:Pe,tabName:e})},Ve=e=>{const{owner:t}=e,[r,n]=(0,o.useState)((0,d.select)("divi/edit-post").getSpecialtySectionStatus()),[l,c]=(0,o.useState)(""),[u,p]=(0,o.useState)(""),[m,g]=(0,o.useState)(0),[f,b]=(0,o.useState)({name:"",position:""}),{adminBarHeight:v,attributes:y,bodySiblingHeight:w,folderList:_,isAddRow:E,isAddRowInner:C,isAddSection:x,isInsideRegularSection:S,loadPlaceholderContent:k,moduleCount:I,moduleList:M,parentModule:A,themeBuilderLayout:F,topWindowHeight:N,topWindowWidth:T,templateType:O,userCanAddFromLibrary:P,isDiviAIEnabled:D,builderVersion:L,parentModuleAttrs:R}=(0,d.useSelect)((e=>{const r=e("divi/edit-post").getModule(t),n=e("divi/modal-library").getModalProperty({modalName:"divi/add-module",property:"attributes"}),i="inside"===(n?.position??"after")?r:(0,d.select)("divi/edit-post").getParentModule(t),a=(0,s.get)(i,["props","attrs"])?(0,s.get)(i,["props","attrs"]).asMutable({deep:!0}):{},o=e("divi/module-library").getChildModules({moduleName:(0,s.get)(i,"name"),moduleAttrs:a,moduleFolder:l,moduleFilter:u});return{adminBarHeight:e("divi/app-ui").getElementProperty({elementName:"adminBar",propertyName:"height",propertyGroup:"dimension"}),builderVersion:e("divi/settings").getSetting(["builderVersion"]),attributes:n,bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/module",property:"bodySiblingHeight"}),folderList:""===u?e("divi/module-library").getFolders(l,a,(0,s.get)(i,"name")):{},isAddRow:(0,s.isEqual)(o,{"divi/row":e("divi/module-library").getModule("divi/row")}),isAddRowInner:(0,s.isEqual)(o,{"divi/row-inner":e("divi/module-library").getModule("divi/row-inner")}),isAddSection:(0,s.isEqual)(o,{"divi/section":e("divi/module-library").getModule("divi/section")}),isInsideRegularSection:e("divi/edit-post").isSectionOrInsideSection({moduleId:t,type:"regular"}),loadPlaceholderContent:e("divi/app-preferences").get(["module","dummyContent"]),module:r,moduleCount:e("divi/module").getModuleCount(),moduleList:o,parentModule:i,parentModuleAttrs:a,themeBuilderLayout:e("divi/settings").getSetting(["themeBuilder","layout"]),topWindowHeight:e("divi/app-ui").getWindow("height","top"),topWindowWidth:e("divi/app-ui").getWindow("width","top"),templateType:e("divi/settings").getSetting(["layout","templateType"]),userCanAddFromLibrary:e("divi/settings").checkRolePermission("divi_library")&&e("divi/settings").checkRolePermission("add_library"),isDiviAIEnabled:e("divi/settings").checkRolePermission("divi_ai")}}),[l,u,m,t]),V=(0,s.get)(y,"position","after"),B=(0,o.useMemo)((()=>Object.fromEntries(Object.entries(M).filter((([e])=>{const t=e.split("/")[1];return(0,d.select)("divi/settings").checkRolePermission(t)})))),[M]),j=(0,s.get)(A,"name"),q=j?(0,d.select)("divi/module-library").getModule(j):null,W=q?.allowAllElements??!1,G=W&&q?.childrenName?q.childrenName:[],H=q?.childrenName??[],U=!W&&Array.isArray(H)&&H.length>0,$=De.filter((e=>"add-module"===e||("add-nested-row"!==e||!U)&&!("add-from-library"===e&&(!P||U&&!E&&!C))));let z=(0,s.keyBy)((0,s.orderBy)({...B,..._},[e=>W&&(0,s.includes)(G,e.name)?0:"divi/group"===e.name?1:"divi/group-carousel"===e.name?1.5:2,"title"]),"name");const K={moduleFolder:l,moduleFilter:u,moduleName:(0,s.get)(A,"name"),moduleAttrs:R};z=(0,i.applyFilters)("divi.modalLibrary.addModule.moduleList",z,K);const Z=r?he.columnSpecialty.map((e=>`${e.structure}|${e.position}`)):E?he.columnRegular:C?"2_3"===(0,s.get)(A,["props","attrs","module","advanced","type","desktop","value"])?he.columnInnerWide:he.columnInner:Object.keys(z),J=r?"specialty-section":x?"section":E?"row":C?"row-inner":"module",X=e=>{e.preventDefault();const r=e.currentTarget?.getAttribute("data-column-layout");(0,d.dispatch)("divi/edit-post").addGrid({id:t,position:V,template:r,isAddSection:x}),(0,d.dispatch)("divi/modal-library").close({name:Pe})},Q=e=>{e.preventDefault();const r=(0,s.get)(e,"target.value",""),n=(0,d.select)("divi/edit-post").getParentModule(t).getIn(["children"]),a=r.startsWith("divi/shortcode-module/");if((0,s.has)(_,r))return void c(r);((e,t,r="after",n=!0)=>{if(t.startsWith("divi/shortcode-module/"))return void(0,i.doAction)("divi.modalLibrary.addModule.addShortcodeModule",e,t,r);const a=(0,d.select)("divi/module-library").getModule(t)?.placeholderContent??{},o=(0,d.select)("divi/settings").getSetting(["builderVersion"]),l={attrs:(0,s.merge)({},n?a:{},{builderVersion:o})};(0,d.dispatch)("divi/edit-post").addModule(e,t,l,r),(0,d.dispatch)("divi/modal-library").close({name:Pe})})(t,r,V,k);const o=(0,d.select)("divi/edit-post").getParentModule(t).getIn(["children"]),l=(0,d.select)("divi/edit-post").getModule(t).getIn(["children"]);let u=1===l.length?l[0]:t;1===(0,s.difference)(o,n).length&&(u=(0,s.difference)(o,n).join()),"divi/group"===r?(0,d.dispatch)("divi/edit-post").addModuleGroup(u):(0,d.dispatch)("divi/modal-library").open({owner:u,name:a?"divi/module-shortcode":"divi/module",tab:""})},ee=r?e=>{e.preventDefault();const r=(0,s.get)(e,"target.value",""),n=e.currentTarget.getAttribute("data-position");(0,d.dispatch)("divi/edit-post").addSpecialtySection(t,"after",r,n),(0,d.dispatch)("divi/modal-library").close({name:Pe})}:x?e=>{e.preventDefault();const r=(0,s.get)(e,"target.value","");if("specialty"===r)return void n(!0);const i=(0,s.includes)(["fullwidth","specialty"],r)?{attrs:{builderVersion:L,module:{advanced:{type:{desktop:{value:r}}}}}}:{attrs:{builderVersion:L}};(0,d.dispatch)("divi/edit-post").addModule(t,"divi/section",i,"after"),(0,d.dispatch)("divi/modal-library").close({name:Pe})}:E||C?X:Q,te=e=>{"Enter"===e.key?(()=>{if(!f.name)return;const e=f.position?`button[value="${f.name}"][data-position="${f.position}"]`:`button[value="${f.name}"]`;h.topWindow.document.querySelector(e).click()})():"Escape"===e.key?(0,d.dispatch)("divi/modal-library").close({name:Pe}):["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(e.key)&&(e=>{const t=r||E||C?3:2,n=f.position?`${f.name}|${f.position}`:f.name,i=Z.indexOf(n);let a=-1;switch(e){case"ArrowUp":a=i>=0?i-t:0;break;case"ArrowRight":a=i>=0?i+1:0;break;case"ArrowDown":a=i>=0?i+t:0;break;case"ArrowLeft":a=i>=0?i-1:0}if(a<0||a>=Z.length||!Z[a])return;const o=e=>{const[t,r=""]=e.split("|");return r?`button[value="${t}"][data-position="${r}"]`:`button[value="${t}"]`},l=((e,t)=>{for(let r=e;r>=0&&r<Z.length;r+=t){const e=Z[r];if(e&&h.topWindow.document.querySelector(o(e)))return r}return-1})(a,["ArrowRight","ArrowDown"].includes(e)?1:-1);if(-1===l)return;const[s,c=""]=Z[l].split("|");b({name:s,position:c});const d=o(Z[l]);h.topWindow.document.querySelector(d).scrollIntoView({behavior:"auto",block:"center"})})(e.key)},re=()=>{if((0,d.select)("divi/modal-library").isModalActive(Pe)){const e=(0,d.select)("divi/modal-library").getModal(Pe).tab||$[0],t=$.indexOf(e);if(-1!==t){const e=(t+1)%$.length,r=$[e];r&&Re(r)}}};return(0,o.useEffect)((()=>{const e=(({onOptionKeyDown:e,onSwitchTab:t})=>[{name:`switchTab--${Pe}`,label:(0,a.__)("Switch Tab","et_builder"),keys:["Shift","Tab"],category:"modal",action:()=>t()},{name:"optionNavigation--up",label:(0,a.__)("Option Move Up","et_builder"),keys:["ArrowUp"],category:"modal",action:()=>e({key:"ArrowUp"})},{name:"optionNavigation--right",label:(0,a.__)("Option Move Right","et_builder"),keys:["ArrowRight"],category:"modal",action:()=>e({key:"ArrowRight"})},{name:"optionNavigation--down",label:(0,a.__)("Option Move Down","et_builder"),keys:["ArrowDown"],category:"modal",action:()=>e({key:"ArrowDown"})},{name:"optionNavigation--left",label:(0,a.__)("Option Move Left","et_builder"),keys:["ArrowLeft"],category:"modal",action:()=>e({key:"ArrowLeft"})},{name:"optionNavigation--enter",label:(0,a.__)("Option Enter","et_builder"),keys:["Enter"],category:"modal",action:()=>e({key:"Enter"})}])({onOptionKeyDown:te,onSwitchTab:re});return(0,Oe.registerShortcuts)(e),()=>{(0,Oe.unregisterShortcuts)(e.map((e=>e.name)))}}),[f,r,$]),(0,o.useEffect)((()=>{const e=(0,s.head)((0,s.values)(z));b({name:"",position:null}),e&&u.length>=2&&b({name:e.name||"",position:null})}),[u]),(0,o.useEffect)((()=>()=>{(0,d.dispatch)("divi/edit-post").setSpecialtySectionStatus(!1)}),[]),(0,o.useEffect)((()=>((0,i.addAction)("divi.settings.store.settings-loaded","divi/modal-library/add-module",(()=>{g((e=>e+1))})),()=>{(0,i.removeAction)("divi.settings.store.settings-loaded","divi/modal-library/add-module")})),[]),(0,o.createElement)(Ae,{...e,moduleType:J,moduleCount:I,moduleFolderList:z,moduleFolder:l,moduleFilter:u,parentModule:A?.asMutable({deep:!0}),selectedOption:f,onButtonClick:ee,onAddRowButtonClick:X,onBackButtonClick:()=>{const e=l.lastIndexOf("/"),t=l.substring(0,e);c(t)},onFilterOptionChange:e=>{const{inputValue:t}=e;p(t)},onOptionKeyDown:te,onOptionMouseEnter:e=>{const t=e.target,r=t.value;if(b({name:r,position:t.getAttribute("data-position")}),r&&!(0,s.has)(_,r)&&!r.includes("shortcode-module")){const e=(0,Te.getComponentAttrsMapsId)({attrsMapsType:"module",moduleName:r});(0,d.select)("divi/clipboard").getComponentAttrsMaps(e)||Le(e,r)}},onOptionMouseLeave:()=>b({name:"",position:""}),adminBarHeight:v,bodySiblingHeight:w,themeBuilderLayout:F,topWindowHeight:N,topWindowWidth:T,openTab:Re,onCloudUseItem:e=>{(0,d.dispatch)("divi/cloud-app").setUseCloudModuleType({isAddRow:E,isAddRowInner:C}),(0,d.dispatch)("divi/edit-post").copyModuleFromLibrary(e,V,t),(0,d.dispatch)("divi/modal-library").close({name:Pe})},templateType:O,userCanAddFromLibrary:P,loadAISectionModal:()=>{const e={aiMode:"section",type:"section_with_ai",contextData:{page:(0,Y.stripHTML)((0,Y.getPageHTML)()),ownerId:t},additionalInfo:{field_name:"",fields:[]}};Ne()(window).trigger("et_ai_container_ready",[e,"et-ai-app"]),(0,d.dispatch)("divi/modal-library").close({name:"divi/add-module"})},isDiviAIEnabled:D,isInsideRegularSection:S,availableTabs:$})},Be={name:"divi/add-module",label:(0,a.__)("Add Module","et_builder"),component:Ve,videos:[{id:"FkQuawiGWUw",name:"An introduction to Modules"},{id:"1iqjhnHVA9Y",name:"Design Settings and Advanced Module Settings"},{id:"boNZZ0MYU0E",name:"Saving and loading from the library"}],type:"multiInstanceModal",autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal",canBeSavedOnWorkspace:!1};var je=r(19135),qe=r.n(je),We=r(63666),Ge=r.n(We),He=r(26093),Ue=r.n(He),$e=r(77785),ze=r.n($e),Ke=r(27381),Ze=r.n(Ke),Je=r(30127),Ye=r.n(Je);function Xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Qe="https://www.elegantthemes.com";let et=null;class tt extends o.PureComponent{constructor(e){super(e),Xe(this,"componentDidMount",(()=>{this.serverFramePopUp=this.loadServerFrame(),window.addEventListener("message",this.sendMessage),et=setInterval((()=>{Ze()(this,"serverFramePopUp.closed")&&(clearInterval(et),this.props.onFrameClose&&this.props.onFrameClose())}),1e3)})),Xe(this,"componentWillUnmount",(()=>{window.removeEventListener("message",this.sendMessage),clearInterval(et),et=null,this.serverFramePopUp&&this.serverFramePopUp.close()})),Xe(this,"loadServerFrame",(()=>{const{frameWidth:e,frameHeight:t}=this.props,r=this.getFrameUrl(),n=window.top.outerWidth/2+window.top.screenX-e/2,i=window.top.outerHeight/2+window.top.screenY-t/2;return Ue()(window.etServerFrameWindow)?window.open(r,"Elegantthemes",`popup, width=${e}, height=${t}, left=${n}, top=${i}, toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no`):(window.etServerFrameWindow.location.href=r,window.etServerFrameWindow)})),Xe(this,"getGenerateDomainTokenUrl",(()=>{const{isCloud:e,domain:t,queryParams:r}=this.props;let n={domain:t,is_divi_cloud:e?1:0};return r&&(n=Ye()(n,r)),n=Ne().param(n),`${Qe}/members-area/divi-cloud/token/?is_popup=1&${n}`})),Xe(this,"getFrameUrl",(()=>{const{domainToken:e,frameUrl:t}=this.props;return!qe()(e)||Ge()(e)?this.getGenerateDomainTokenUrl():t})),Xe(this,"onDomainTokenReceived",(e=>{if(!qe()(e)||Ge()(e))return;const{api:t,setDomainTokenNonce:r}=this.props;Ne().ajax({type:"POST",url:t,data:{action:"et_builder_ajax_save_domain_token",domain_token:e,nonce:r}})})),Xe(this,"sendMessage",(e=>{if(Qe!==Ze()(e,"origin",""))return;const t=Ze()(e,"data",{});if(ze()(t,"domain_token_generated")){const e=Ze()(t,"domain_token_generated");this.onDomainTokenReceived(e)}this.props.sendMessage(t)})),Xe(this,"render",(()=>null))}}var rt=tt,nt=r(93063),it=r.n(nt);class at extends o.PureComponent{_renderGraphics(){const e=this.props.svgId??"";switch(this.props.icon){case"delete":return l().createElement("g",null,l().createElement("path",{d:"M19 9h-3V8a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v1H9a1 1 0 1 0 0 2h10a1 1 0 0 0 .004-2H19zM9 20c.021.543.457.979 1 1h8c.55-.004.996-.45 1-1v-7H9v7zm2.02-4.985h2v4h-2v-4zm4 0h2v4h-2v-4z",fillRule:"evenodd"}));case"close":return l().createElement("g",null,l().createElement("path",{d:"M15.59 14l4.08-4.082a1.124 1.124 0 0 0-1.587-1.588L14 12.411 9.918 8.329A1.124 1.124 0 0 0 8.33 9.92L12.411 14l-4.082 4.082a1.124 1.124 0 0 0 1.59 1.589L14 15.589l4.082 4.082a1.124 1.124 0 0 0 1.589-1.59L15.589 14h.001z",fillRule:"evenodd"}));case"exit":return l().createElement("g",null,l().createElement("path",{d:"M19.71 16.857l-2.85-2.854 2.85-2.854c.39-.395.39-1.03 0-1.426l-1.43-1.427a1 1 0 0 0-1.42 0L14 11.15l-2.85-2.854a1.013 1.013 0 0 0-1.43 0L8.3 9.723a1 1 0 0 0 0 1.426l2.85 2.854-2.85 2.853a1 1 0 0 0 0 1.427l1.42 1.427a1.011 1.011 0 0 0 1.43 0L14 16.856l2.86 2.854a1 1 0 0 0 1.42 0l1.43-1.427c.39-.395.39-1.03 0-1.426z",fillRule:"evenodd"}));case"check":return l().createElement("g",null,l().createElement("path",{d:"M19.203 9.21a.677.677 0 0 0-.98 0l-5.71 5.9-2.85-2.95a.675.675 0 0 0-.98 0l-1.48 1.523a.737.737 0 0 0 0 1.015l4.82 4.979a.677.677 0 0 0 .98 0l7.68-7.927a.737.737 0 0 0 0-1.015l-1.48-1.525z",fillRule:"evenodd"}));case"three-dots":return l().createElement("g",null,l().createElement("path",{d:"M2.001 4.5a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z",fillRule:"evenodd"}));case"tag":return l().createElement("g",null,l().createElement("path",{d:"M14.83,5h6.6A1.57,1.57,0,0,1,23,6.57v6.59a1.45,1.45,0,0,1-.35.66l-8.83,8.83a1.2,1.2,0,0,1-1.69,0L5.35,15.87a1.2,1.2,0,0,1,0-1.7l8.82-8.82A2,2,0,0,1,14.83,5Zm4.67,5A1.5,1.5,0,1,0,18,8.5,1.5,1.5,0,0,0,19.5,10Z"}));case"pack":return l().createElement("g",null,l().createElement("rect",{x:"6",y:"12",width:"16",height:"10",rx:"1",ry:"1"}),l().createElement("path",{d:"M21 6a1 1 0 0 1 1 1v3H6V9a1 1 0 0 1 1-1h5.66C13.31 7.13 14 6 15 6z"}));case"list":return l().createElement("g",null,l().createElement("rect",{x:"6",y:"6",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"6",y:"12",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"6",y:"18",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"6",width:"10",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"12",width:"10",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"18",width:"10",height:"4",rx:"1",ry:"1"}));case"grid":return l().createElement("g",null,l().createElement("rect",{x:"6",y:"6",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"6",y:"12",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"6",y:"18",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"18",y:"6",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"18",y:"12",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"18",y:"18",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"6",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"12",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"18",width:"4",height:"4",rx:"1",ry:"1"}));case"back":return l().createElement("g",null,l().createElement("path",{d:"M20.6587 18C19.8351 15.6696 19.1124 14 16.5 14C13.8876 14 9.34155 14 9.34155 14",stroke:"var(--dark-gray)",strokeWidth:"2",strokeLinecap:"round",fill:"transparent",className:"et-vb-svg-nofill"}),l().createElement("rect",{width:"6",height:"2",rx:"1",transform:"matrix(0.707107 0.707107 0.707107 -0.707107 7.75732 14.0001)",fill:"var(--dark-gray)"}),l().createElement("rect",{width:"6",height:"2",rx:"1",transform:"matrix(-0.707107 0.707107 0.707107 0.707107 12 9.75745)",fill:"var(--dark-gray)"}));case"placeholder":return l().createElement("g",null,l().createElement("path",{d:"M1 24h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1zM25 0h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1zM1 12h30a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1zm12 12h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H13a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1zM1 0h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1z",fill:"#e7eef5"}));case"cloud":return l().createElement("g",null,l().createElement("path",{d:"M5.48,23a5.5,5.5,0,0,1-.26-11A9,9,0,0,1,23,14h.5a4.5,4.5,0,0,1,0,9Z"}));case"menu-expand":return l().createElement("g",{fillRule:"evenodd"},l().createElement("path",{d:"M14 20l-3-5h6zM14 8l3 5h-6z",fillRule:"evenodd"}));case"arrow-down-dense":return l().createElement("g",{fillRule:"evenodd"},l().createElement("path",{d:"M3.44987 3.77347L5.90448 0.672666C6.00166 0.555503 6.0272 0.385363 5.96951 0.239402C5.91182 0.0934417 5.78188 -0.000569066 5.63861 2.59252e-06H0.359701C0.217594 0.000439083 0.0889622 0.0937073 0.0311752 0.238209C-0.0266118 0.382711 -0.00278329 0.551512 0.092034 0.669326L2.54904 3.77347C2.66298 3.91748 2.82706 4 2.99946 4C3.17186 4 3.33593 3.91748 3.44987 3.77347Z"}));case"caret-solid-down":return l().createElement("g",{fillRule:"evenodd"},l().createElement("path",{d:"M14.5998 16.5293L17.8726 12.8074C18.0022 12.6668 18.0363 12.4626 17.9593 12.2874C17.8824 12.1122 17.7092 11.9993 17.5181 12H10.4796C10.2901 12.0005 10.1186 12.1125 10.0416 12.2859C9.96452 12.4594 9.99629 12.662 10.1227 12.8034L13.3987 16.5293C13.5506 16.7021 13.7694 16.8012 13.9993 16.8012C14.2291 16.8012 14.4479 16.7021 14.5998 16.5293Z"}));case"caret-solid-right":return l().createElement("g",null,l().createElement("path",{d:"M6.65873 4.25043L2.00753 0.160427C1.83179 -0.00150394 1.57658 -0.0440559 1.35764 0.0520706C1.1387 0.148197 0.997682 0.364711 0.998539 0.603427L0.998539 9.39943C0.999194 9.63621 1.1391 9.85055 1.35585 9.94683C1.5726 10.0431 1.8258 10.0034 2.00252 9.84543L6.65873 5.75143C6.87475 5.56158 6.99854 5.28819 6.99854 5.00093C6.99854 4.71366 6.87475 4.44027 6.65873 4.25043Z"}));case"heart":return l().createElement("g",null,l().createElement("path",{d:"M4,10.66A5.67,5.67,0,0,1,9.51,5Q12.92,5,14,7.37C14.72,5.79,16.21,5,18.49,5A5.67,5.67,0,0,1,24,10.65C24,14,22.87,17.31,14,23,5.13,17.31,4,14,4,10.66Z"}));case"globe":return l().createElement("g",null,l().createElement("path",{d:"M14 4C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4zm.01 18c-4.411 0-8-3.589-8-8 0-.783.118-1.539.329-2.255.258.507.628.965.995 1.38.958 1.083.883 1.267.883 1.267.577 1.658 3.275.854 3.627 2.076s1.328.859.906 2.437c-.438 1.636.683 2.553 1.491 3.083-.077.003-.153.012-.231.012zm6.406-3.228c-.025-.011-.047-.027-.072-.037-1.754-.721-2.514-2.467-3.884-2.467s-2.113.532-2.882.436-.723-.917-1.276-1.373c-.553-.457-.457-.312-1.49-.697-1.033-.385-.24-2.307.481-1.971.721.336 1.304-.324 1.52.229.216.553.695 1.298.647.577-.048-.721.189-1.431.79-1.984s.096-.649.216-1.538 2.211.505 2.211-.312.361-.721.961-1.394c.528-.591.368-.882-.217-1.465a8.04 8.04 0 0 1 3.317 2.914c-1.041.174-1.418.809-1.953 1.92-.951 1.975 1.465 3.142 2.808 3.96.08.049.157.08.234.118a7.963 7.963 0 0 1-1.411 3.084z"}));case"help":return l().createElement("g",null,l().createElement("path",{d:"M14 22a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-3.6a.8.8 0 1 0 0-1.6.8.8 0 0 0 0 1.6zm-.8-3.2a.744.744 0 0 0 .8.8.744.744 0 0 0 .8-.8c.08-.343.305-.634.616-.8a2.976 2.976 0 0 0 1.784-2.8A2.944 2.944 0 0 0 14 8.8a3.112 3.112 0 0 0-3.2 2.4c-.096.48.264.8.8.8s.704-.32.8-.8c0-.04.216-.8 1.6-.8 1.24 0 1.6.8 1.6 1.2 0 .816-.536 1.088-1.128 1.456A2.536 2.536 0 0 0 13.2 15.2z"}));case"layout-placeholder":return l().createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},l().createElement("path",{d:"M102,188 C107.522847,188 112,192.477153 112,198 L112,234 C112,239.522847 107.522847,244 102,244 L50,244 C44.4771525,244 40,239.522847 40,234 L40,198 C40,192.477153 44.4771525,188 50,188 L102,188 Z M350,188 C355.522847,188 360,192.477153 360,198 L360,234 C360,239.522847 355.522847,244 350,244 L140,244 C134.477153,244 130,239.522847 130,234 L130,198 C130,192.477153 134.477153,188 140,188 L350,188 Z M350,114 C355.522847,114 360,118.477153 360,124 L360,160 C360,165.522847 355.522847,170 350,170 L50,170 C44.4771525,170 40,165.522847 40,160 L40,124 C40,118.477153 44.4771525,114 50,114 L350,114 Z M211,40 C216.522847,40 221,44.4771525 221,50 L221,86 C221,91.5228475 216.522847,96 211,96 L50,96 C44.4771525,96 40,91.5228475 40,86 L40,50 C40,44.4771525 44.4771525,40 50,40 L211,40 Z M350,40 C355.522847,40 360,44.4771525 360,50 L360,86 C360,91.5228475 355.522847,96 350,96 L249,96 C243.477153,96 239,91.5228475 239,86 L239,50 C239,44.4771525 243.477153,40 249,40 L350,40 Z"}));case"background-image":return l().createElement("g",null,l().createElement("path",{d:"M309,78V206H91V78H309m8-16H83a8,8,0,0,0-8,8V214a8,8,0,0,0,8,8H317a8,8,0,0,0,8-8V70a8,8,0,0,0-8-8Z",fill:"#e7eef5"}),l().createElement("circle",{cx:"160",cy:"111",r:"12",fill:"#e7eef5"}),l().createElement("path",{d:"M105.37,190.83H295.63V151.08l-47.77-47.77a8,8,0,0,0-11.32,0l-65.2,65.2-15.75-15.74a8,8,0,0,0-11.24-.06Z",fill:"#e7eef5"}));case"folder-open":return l().createElement("g",null,l().createElement("path",{d:"M3.72076 6H17.6126L15.2792 13L1.38743 13L3.72076 6Z",fill:"var(--app-color)",stroke:"var(--app-color)",strokeWidth:"2"}),l().createElement("path",{d:"M7.00087 1.00001L7.00293 1C7.17604 0.999623 7.29258 1.04456 7.40366 1.12166C7.53485 1.21271 7.67711 1.36286 7.85596 1.60786L7.93916 1.72478L8.39713 2.40217L8.40492 2.4137L8.41303 2.425L8.52694 2.58378L8.82621 3.00095L9.33962 3.00087L15 3.00003V13H1V3.02273L1.00097 3.00138L1.0028 2.96112L1.00138 2.92084L1.00073 2.90238V1.02984L1.00233 1.0024L1.02999 1.00082L7.00087 1.00001Z",stroke:"var(--app-color)",strokeWidth:"2"}));case"folder-close":return l().createElement("g",null,l().createElement("mask",{id:"path-1-inside-1_0_3891",fill:"white"},l().createElement("rect",{y:"2",width:"16",height:"12",rx:"1"})),l().createElement("rect",{y:"2",width:"16",height:"12",rx:"1",fill:"var(--gray)",stroke:"var(--gray)",strokeWidth:"4",mask:"url(#path-1-inside-1_0_3891)"}),l().createElement("path",{d:"M7.00184 0.500018C5.56659 0.503188 2.56668 0.501792 1.00092 0.500763C0.724748 0.500582 0.500739 0.724357 0.500739 1.0009V2.92021C0.500739 3.21507 0.746868 3.44071 1.03311 3.41833C2.56852 3.29832 5.46237 3.06926 7.76508 2.87025C8.32065 2.82224 8.84065 2.77608 9.29826 2.73369C9.0211 2.44434 8.80329 2.11638 8.61409 1.83149C8.60153 1.81259 8.58911 1.79387 8.5768 1.77537C8.04592 0.977625 7.68891 0.4985 7.00184 0.500018Z",fill:"var(--gray)",stroke:"var(--gray)"}));case"portability":return l().createElement("g",null,l().createElement("path",{d:"M9.6 20.8c0.2 0.3 0.7 0.3 0.9 0l2.1-3.5c0.2-0.3 0-0.8-0.4-0.8H11V8c0-0.6-0.4-1-1-1C9.4 7 9 7.4 9 8v8.5H7.9c-0.4 0-0.6 0.4-0.4 0.8L9.6 20.8z",fillRule:"evenodd"}),l().createElement("path",{d:"M18.4 7.2c-0.2-0.3-0.7-0.3-0.9 0l-2.1 3.5c-0.2 0.3 0 0.8 0.4 0.8H17V20c0 0.6 0.4 1 1 1 0.6 0 1-0.4 1-1v-8.5h1.1c0.4 0 0.6-0.4 0.4-0.8L18.4 7.2z",fillRule:"evenodd"}));case"right-arrow":return l().createElement("g",null,l().createElement("rect",{width:"2.5",height:"9",rx:"1.25",transform:"matrix(-0.707107 0.707107 0.707107 0.707107 6.5 0.135986)",fill:"var(--gray)"}),l().createElement("rect",{width:"2.5",height:"9",rx:"1.25",transform:"matrix(0.707107 0.707107 0.707107 -0.707107 4.73218 11.0962)",fill:"var(--gray)"}));case"left-arrow":return l().createElement("g",null,l().createElement("rect",{x:"6.5",y:"0.135986",width:"2.5",height:"9",rx:"1.25",transform:"rotate(45 6.5 0.135986)",fill:"var(--gray)"}),l().createElement("rect",{x:"8.26782",y:"11.0962",width:"2.5",height:"9",rx:"1.25",transform:"rotate(135 8.26782 11.0962)",fill:"var(--gray)"}));case"magnifying-glass":return l().createElement("g",null,l().createElement("rect",{width:"28",height:"28",rx:"14",fill:"white"}),l().createElement("circle",{cx:"14",cy:"14",r:"5",stroke:"#32373C",strokeWidth:"2",fill:"white"}),l().createElement("rect",{x:"10.1992",y:"16.3867",width:"2",height:"3.66819",rx:"1",transform:"rotate(45 10.1992 16.3867)"}),l().createElement("rect",{x:"17",y:"13",width:"2",height:"6",rx:"1",transform:"rotate(90 17 13)"}),l().createElement("rect",{x:"15",y:"17",width:"2",height:"6",rx:"1",transform:"rotate(-180 15 17)"}));case"divi-ai-light":return l().createElement(l().Fragment,null,l().createElement("defs",null,l().createElement("linearGradient",{id:"divi-ai-light-linear-gradient",x1:"10.77",y1:"10.73",x2:"17.1",y2:"18.31",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{offset:"0",stopColor:"aqua"}),l().createElement("stop",{offset:"1",stopColor:"#5200ff"}))),l().createElement("g",null,l().createElement("path",{className:"cls-2",d:"M5,11c0-2.83,0-4.24,.88-5.12,.88-.88,2.29-.88,5.12-.88h6c2.83,0,4.24,0,5.12,.88,.88,.88,.88,2.29,.88,5.12v6c0,2.83,0,4.24-.88,5.12s-2.29,.88-5.12,.88h-6c-2.83,0-4.24,0-5.12-.88-.88-.88-.88-2.29-.88-5.12v-6Z"})),l().createElement("g",null,l().createElement("path",{className:"cls-1",d:"M16,11c0-.55,.45-1,1-1s1,.45,1,1v6c0,.55-.45,1-1,1s-1-.45-1-1v-6Zm-1.05,5.68l-2-6c-.14-.41-.52-.68-.95-.68s-.81,.28-.95,.68l-2,6c-.17,.52,.11,1.09,.63,1.26,.52,.17,1.09-.11,1.26-.63l.44-1.32h1.23l.44,1.32c.17,.52,.74,.81,1.26,.63,.52-.17,.81-.74,.63-1.26Z"})));case"divi-ai":return l().createElement(l().Fragment,null,l().createElement("defs",null,l().createElement("linearGradient",{id:"divi-ai-linear-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},l().createElement("stop",{offset:"0%",stopColor:"aqua"}),l().createElement("stop",{offset:"100%",stopColor:"#5200ff"}))),l().createElement("g",null,l().createElement("path",{d:"M22.12,5.88c-.88-.88-2.29-.88-5.12-.88h-6c-2.83,0-4.24,0-5.12,.88-.88,.88-.88,2.29-.88,5.12v6c0,2.83,0,4.24,.88,5.12s2.29,.88,5.12,.88h6c2.83,0,4.24,0,5.12-.88,.88-.88,.88-2.29,.88-5.12v-6c0-2.83,0-4.24-.88-5.12Zm-7.8,12.07c-.52,.17-1.09-.11-1.26-.63l-.44-1.32h-1.23l-.44,1.32c-.17,.52-.74,.81-1.26,.63-.52-.17-.81-.74-.63-1.26l2-6c.14-.41,.52-.68,.95-.68s.81,.28,.95,.68l2,6c.17,.52-.11,1.09-.63,1.26Zm3.68-.95c0,.55-.45,1-1,1s-1-.45-1-1v-6c0-.55,.45-1,1-1s1,.45,1,1v6Z"})));case"warning":return l().createElement(l().Fragment,null,l().createElement("rect",{width:"24",height:"24",rx:"12",fill:"#FF5C01"}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4846 5.14279C12.8248 3.99993 11.1752 3.99993 10.5154 5.14279L4.57695 15.4285C3.91713 16.5714 4.74191 17.9999 6.06157 17.9999H17.9385C19.2581 17.9999 20.0829 16.5714 19.4231 15.4285L13.4846 5.14279ZM12 8.57143C11.5266 8.57143 11.1429 8.95518 11.1429 9.42857V12.8571C11.1429 13.3305 11.5266 13.7143 12 13.7143C12.4734 13.7143 12.8571 13.3305 12.8571 12.8571V9.42857C12.8571 8.95518 12.4734 8.57143 12 8.57143ZM12 14.5714C11.5266 14.5714 11.1429 14.9552 11.1429 15.4286C11.1429 15.902 11.5266 16.2857 12 16.2857C12.4734 16.2857 12.8571 15.902 12.8571 15.4286C12.8571 14.9552 12.4734 14.5714 12 14.5714Z",fill:"white"}));case"divi-ai-code":return l().createElement(l().Fragment,null,l().createElement("rect",{x:"5",y:"5",width:"18",height:"18",rx:"3",fill:"white"}),l().createElement("path",{d:"M16 11C16 10.4477 16.4477 10 17 10C17.5523 10 18 10.4477 18 11V17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17V11Z",fill:`url(#paint0_linear_654_6159_${e})`}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 10C12.4305 10 12.8126 10.2754 12.9487 10.6838L14.9487 16.6838C15.1234 17.2077 14.8402 17.774 14.3163 17.9487C13.7923 18.1233 13.226 17.8402 13.0513 17.3162L12 14.1623L10.9487 17.3162C10.7741 17.8402 10.2077 18.1233 9.6838 17.9487C9.15986 17.774 8.8767 17.2077 9.05134 16.6838L11.0513 10.6838C11.1875 10.2754 11.5696 10 12 10Z",fill:`url(#paint1_linear_654_6159_${e})`}),l().createElement("path",{d:"M11 14H13V16H11V14Z",fill:`url(#paint2_linear_654_6159_${e})`}),l().createElement("defs",null,l().createElement("linearGradient",{id:`paint0_linear_654_6159_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#4C5563"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"})),l().createElement("linearGradient",{id:`paint1_linear_654_6159_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#4C5563"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"})),l().createElement("linearGradient",{id:`paint2_linear_654_6159_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#4C5563"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"}))));case"divi-ai-code-hover":return l().createElement(l().Fragment,null,l().createElement("rect",{width:"28",height:"28",rx:"3",fill:"white",fillOpacity:"0.16"}),l().createElement("rect",{x:"5",y:"5",width:"18",height:"18",rx:"3",fill:"white"}),l().createElement("path",{d:"M16 11C16 10.4477 16.4477 10 17 10C17.5523 10 18 10.4477 18 11V17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17V11Z",fill:`url(#paint0_linear_655_5811_${e})`}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 10C12.4305 10 12.8126 10.2754 12.9487 10.6838L14.9487 16.6838C15.1234 17.2077 14.8402 17.774 14.3163 17.9487C13.7923 18.1233 13.226 17.8402 13.0513 17.3162L12 14.1623L10.9487 17.3162C10.7741 17.8402 10.2077 18.1233 9.6838 17.9487C9.15986 17.774 8.8767 17.2077 9.05134 16.6838L11.0513 10.6838C11.1875 10.2754 11.5696 10 12 10Z",fill:`url(#paint1_linear_655_5811_${e})`}),l().createElement("path",{d:"M11 14H13V16H11V14Z",fill:`url(#paint2_linear_655_5811_${e})`}),l().createElement("defs",null,l().createElement("linearGradient",{id:`paint0_linear_655_5811_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#00FFFF"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"})),l().createElement("linearGradient",{id:`paint1_linear_655_5811_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#00FFFF"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"})),l().createElement("linearGradient",{id:`paint2_linear_655_5811_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#00FFFF"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"}))));case"divi-ai-filled":return l().createElement(l().Fragment,null,l().createElement("rect",{x:"5",y:"5",width:"18",height:"18",rx:"3",fill:"url(#divi-ai-gradient)"}),l().createElement("rect",{x:"16",y:"10",width:"2",height:"8",rx:"1",fill:"white"}),l().createElement("path",{d:"M10 17L12 11L14 17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l().createElement("rect",{x:"11",y:"14",width:"2",height:"2",fill:"white"}),l().createElement("defs",null,l().createElement("linearGradient",{id:"divi-ai-gradient",x1:"5",y1:"5",x2:"23",y2:"23",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#00FFFF"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"}))));case"save":return l().createElement("g",null,l().createElement("path",{d:"M18.95 9.051a1 1 0 1 0-1.414 1.414 5 5 0 1 1-7.07 0A1 1 0 0 0 9.05 9.051a7 7 0 1 0 9.9.001v-.001zm-5.378 8.235a.5.5 0 0 0 .857 0l2.117-3.528a.5.5 0 0 0-.429-.758H15V8a1 1 0 0 0-2 0v5h-1.117a.5.5 0 0 0-.428.758l2.117 3.528z",fillRule:"evenodd"}));case"setting":return l().createElement("g",null,l().createElement("path",{d:"M20.426 13.088l-1.383-.362a.874.874 0 0 1-.589-.514l-.043-.107a.871.871 0 0 1 .053-.779l.721-1.234a.766.766 0 0 0-.116-.917 6.682 6.682 0 0 0-.252-.253.768.768 0 0 0-.917-.116l-1.234.722a.877.877 0 0 1-.779.053l-.107-.044a.87.87 0 0 1-.513-.587l-.362-1.383a.767.767 0 0 0-.73-.567h-.358a.768.768 0 0 0-.73.567l-.362 1.383a.878.878 0 0 1-.513.589l-.107.044a.875.875 0 0 1-.778-.054l-1.234-.722a.769.769 0 0 0-.918.117c-.086.082-.17.166-.253.253a.766.766 0 0 0-.115.916l.721 1.234a.87.87 0 0 1 .053.779l-.043.106a.874.874 0 0 1-.589.514l-1.382.362a.766.766 0 0 0-.567.731v.357a.766.766 0 0 0 .567.731l1.383.362c.266.07.483.26.588.513l.043.107a.87.87 0 0 1-.053.779l-.721 1.233a.767.767 0 0 0 .115.917c.083.087.167.171.253.253a.77.77 0 0 0 .918.116l1.234-.721a.87.87 0 0 1 .779-.054l.107.044a.878.878 0 0 1 .513.589l.362 1.383a.77.77 0 0 0 .731.567h.356a.766.766 0 0 0 .73-.567l.362-1.383a.878.878 0 0 1 .515-.589l.107-.044a.875.875 0 0 1 .778.054l1.234.721c.297.17.672.123.917-.117.087-.082.171-.166.253-.253a.766.766 0 0 0 .116-.917l-.721-1.234a.874.874 0 0 1-.054-.779l.044-.107a.88.88 0 0 1 .589-.513l1.383-.362a.77.77 0 0 0 .567-.731v-.357a.772.772 0 0 0-.569-.724v-.005zm-6.43 3.9a2.986 2.986 0 1 1 2.985-2.986 3 3 0 0 1-2.985 2.987v-.001z",fillRule:"evenodd"}));case"modify":return l().createElement(l().Fragment,null,l().createElement("path",{style:{opacity:.5},d:"M7,10c0-1.1,0.9-2,2-2c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2C7.9,12,7,11.1,7,10z M16,12l-4.1,6.8L10,16l-4,6h16 L16,12z"}),l().createElement("path",{d:"M25,0.5c0.7-0.7,1.8-0.7,2.5,0c0.7,0.7,0.7,1.8,0,2.5l-1.2,1.3l-2.5-2.5L25,0.5z M21.9,3.6l2.4,2.4l-5.7,5.7 L16,12l0.2-2.6L21.9,3.6z M26,24V11.6c0-0.6-0.4-1-1-1s-1,0.4-1,1V24H4V4h12.4c0.6,0,1-0.4,1-1s-0.4-1-1-1H4C2.9,2,2,2.9,2,4v20 c0,1.1,0.9,2,2,2h20C25.1,26,26,25.1,26,24z"}));case"extend":return l().createElement(l().Fragment,null,l().createElement("path",{style:{opacity:.5},d:"M26,0H2C0.9,0,0,0.9,0,2v24c0,1.1,0.9,2,2,2h24c1.1,0,2-0.9,2-2V2C28,0.9,27.1,0,26,0z M2,2L2,2h3.3L2,5.3V2z M2,6.7L2,6.7L6.7,2h3.6L2,10.3V6.7z M26,26h-3.3l3.3-3.3V26z M26,21.3L21.3,26h-3.6l8.3-8.3V21.3z M26,6.3l-4,4v1.4l4-4v3.6l-4,4 v1.4l4-4v3.6l-4,4V21c0,0.6-0.4,1-1,1h-0.7l-4,4h-3.6l4-4h-1.4l-4,4H7.7l4-4h-1.4l-4,4H2.7l4-4c-0.4-0.1-0.6-0.4-0.7-0.7l-4,4v-3.6 l0,0l4-4v-1.4l-4,4v-3.6l0,0l4-4v-1.4l-4,4v-3.6l0,0l4-4V7c0-0.6,0.4-1,1-1h0.7l4-4h3.6l-4,4h1.4l4-4h3.6l-4,4h1.4l4-4h3.6l-4,4 c0.4,0.1,0.6,0.4,0.7,0.7l4-4V6.3z"}),l().createElement("path",{d:"M10.5,9c0.8,0,1.5,0.7,1.5,1.5S11.3,12,10.5,12S9,11.3,9,10.5S9.7,9,10.5,9z M20,19l-4.5-7l-3.1,4.8L11,15l-3,4 H20z M21,5H7C5.9,5,5,5.9,5,7v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V7C23,5.9,22.1,5,21,5z M21,21H7V7l0,0h14V21z"}));case"upscale":return l().createElement(l().Fragment,null,l().createElement("path",{style:{opacity:.5},d:"M24,26H4c-1.1,0-2-0.9-2-2V4c0-1.1,0.9-2,2-2h12.4c0.6,0,1,0.4,1,1s-0.4,1-1,1H4v20h20V11.6c0-0.6,0.4-1,1-1s1,0.4,1,1V24 C26,25.1,25.1,26,24,26z"}),l().createElement("path",{d:"M25.7,2.3C25.5,2.1,25.3,2,25,2h-4c-0.6,0-1,0.4-1,1s0.4,1,1,1h1.6l-4.1,4.1C18.3,8,18.2,8,18,8H4c-1.1,0-2,0.9-2,2v14 c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V10c0-0.2,0-0.3-0.1-0.5L24,5.4V7c0,0.6,0.4,1,1,1s1-0.4,1-1V3C26,2.7,25.9,2.5,25.7,2.3z M18,24H4V10l0,0h14V24z M7.5,12C8.3,12,9,12.7,9,13.5S8.3,15,7.5,15S6,14.3,6,13.5S6.7,12,7.5,12z M11,22h6l-4.5-7l-3.1,4.8L8,18 l-3,4h3H11z"}));case"enhance":return l().createElement(l().Fragment,null,l().createElement("path",{style:{opacity:.5},d:"M7,10c0-1.1,0.9-2,2-2c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2C7.9,12,7,11.1,7,10z M16,12l-4.1,6.8L10,16l-4,6h16 L16,12z"}),l().createElement("path",{d:"M24,26H4c-1.1,0-2-0.9-2-2V4c0-1.1,0.9-2,2-2h8.3c0.6,0,1,0.4,1,1s-0.4,1-1,1H4v20h20v-8.1c0-0.6,0.4-1,1-1 s1,0.4,1,1V24C26,25.1,25.1,26,24,26z M15.6,5.6L13,6.5l2.6,0.9l0.9,2.6l0.9-2.6L20,6.5l-2.6-0.9L16.5,3L15.6,5.6z M22.6,3.6L20,4.5 l2.6,0.9L23.5,8l0.9-2.6L27,4.5l-2.6-0.9L23.5,1L22.6,3.6z M20.6,10.6L18,11.5l2.6,0.9l0.9,2.6l0.9-2.6l2.6-0.9l-2.6-0.9L21.5,8 L20.6,10.6z"}));case"undo":return l().createElement("g",null,l().createElement("path",{d:"M14.355 7.253c-1.74.026-3.321.559-4.576 1.528L7.999 7A1 1 0 0 0 7 8v4.998c0 .552.447.999.999.999h4.995a1 1 0 0 0 .999-.999l-2.014-2.016a4.51 4.51 0 0 1 2.44-.733c2.235-.032 4.261 1.58 4.534 3.799.338 2.751-1.789 5.009-4.46 5.009-1.149 0-2.186-.462-2.978-1.182a.654.654 0 0 0-.902.026l-1.184 1.175a.674.674 0 0 0 .032.979A7.443 7.443 0 0 0 14.493 22c4.401 0 7.915-3.8 7.452-8.297-.395-3.826-3.745-6.507-7.59-6.45z",fillRule:"evenodd"}));case"redo":return l().createElement("g",null,l().createElement("path",{d:"M13.645 6.253C15.385 6.279 16.966 6.812 18.221 7.781L20.001 6C20.5529 6.00055 21 6.44811 21 7V11.998C21 12.55 20.553 12.997 20.001 12.997H15.006C14.4545 12.9964 14.0076 12.5495 14.007 11.998L16.021 9.982C15.295 9.50824 14.4479 9.25375 13.581 9.249C11.346 9.217 9.32 10.829 9.047 13.048C8.709 15.799 10.836 18.057 13.507 18.057C14.656 18.057 15.693 17.595 16.485 16.875C16.7445 16.6416 17.1414 16.6531 17.387 16.901L18.571 18.076C18.7014 18.2076 18.7719 18.3872 18.7658 18.5724C18.7598 18.7576 18.6777 18.9322 18.539 19.055C17.1639 20.3098 15.3685 21.0037 13.507 21C9.106 21 5.592 17.2 6.055 12.703C6.45 8.877 9.8 6.196 13.645 6.253Z",fillRule:"evenodd"}));case"image-edit":return l().createElement("g",null,l().createElement("rect",{width:"28",height:"28",rx:"14",fill:"white"}),l().createElement("path",{d:"M17.1348 9.45117C17.6018 8.9841 18.3591 8.9841 18.8262 9.45117C19.2932 9.91824 19.2932 10.6755 18.8262 11.1426L14.3692 15.5996C14.1739 15.7948 13.8573 15.7948 13.6621 15.5996L12.6778 14.6153C12.4825 14.42 12.4825 14.1034 12.6778 13.9082L17.1348 9.45117Z"}),l().createElement("path",{d:"M10.5408 17.5892C10.4987 17.7696 10.6606 17.9315 10.8411 17.8895L12.8749 17.4152C13.0659 17.3707 13.1336 17.1336 12.9949 16.9949L11.4353 15.4354C11.2967 15.2967 11.0596 15.3644 11.0151 15.5554L10.5408 17.5892Z"}),l().createElement("rect",{x:"19",y:"19",width:"2",height:"10",rx:"1",transform:"rotate(90 19 19)"}));case"youtube-play-button":return l().createElement("g",null,l().createElement("path",{fill:"#FF3D00",d:"M43.2,33.9c-0.4,2.1-2.1,3.7-4.2,4c-3.3,0.5-8.8,1.1-15,1.1c-6.1,0-11.6-0.6-15-1.1c-2.1-0.3-3.8-1.9-4.2-4C4.4,31.6,4,28.2,4,24c0-4.2,0.4-7.6,0.8-9.9c0.4-2.1,2.1-3.7,4.2-4C12.3,9.6,17.8,9,24,9c6.2,0,11.6,0.6,15,1.1c2.1,0.3,3.8,1.9,4.2,4c0.4,2.3,0.9,5.7,0.9,9.9C44,28.2,43.6,31.6,43.2,33.9z"}),l().createElement("path",{fill:"#FFF",d:"M20 31L20 17 32 24z"}));case"caret-solid-down":return l().createElement("g",null,l().createElement("path",{d:"M3.44987 3.77347L5.90448 0.672666C6.00166 0.555503 6.0272 0.385363 5.96951 0.239402C5.91182 0.0934417 5.78188 -0.000569066 5.63861 2.59252e-06H0.359701C0.217594 0.000439083 0.0889622 0.0937073 0.0311752 0.238209C-0.0266118 0.382711 -0.00278329 0.551512 0.092034 0.669326L2.54904 3.77347C2.66298 3.91748 2.82706 4 2.99946 4C3.17186 4 3.33593 3.91748 3.44987 3.77347Z",fill:"#32373C"}));case"dash-warning-orange":return l().createElement("g",null,l().createElement("rect",{width:"24",height:"24",rx:"12",fill:"#FF8800"}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4846 5.14279C12.8248 3.99993 11.1752 3.99993 10.5154 5.14279L4.57695 15.4285C3.91713 16.5714 4.74191 17.9999 6.06157 17.9999H17.9385C19.2581 17.9999 20.0829 16.5714 19.4231 15.4285L13.4846 5.14279ZM12 8.57143C11.5266 8.57143 11.1429 8.95518 11.1429 9.42857V12.8571C11.1429 13.3305 11.5266 13.7143 12 13.7143C12.4734 13.7143 12.8571 13.3305 12.8571 12.8571V9.42857C12.8571 8.95518 12.4734 8.57143 12 8.57143ZM12 14.5714C11.5266 14.5714 11.1429 14.9552 11.1429 15.4286C11.1429 15.902 11.5266 16.2857 12 16.2857C12.4734 16.2857 12.8571 15.902 12.8571 15.4286C12.8571 14.9552 12.4734 14.5714 12 14.5714Z",fill:"white"}));case"dash-success-green":return l().createElement("g",null,l().createElement("rect",{width:"24",height:"24",rx:"12",fill:"#0ACFA0"}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4846 5.14279C12.8248 3.99993 11.1752 3.99993 10.5154 5.14279L4.57695 15.4285C3.91713 16.5714 4.74191 17.9999 6.06157 17.9999H17.9385C19.2581 17.9999 20.0829 16.5714 19.4231 15.4285L13.4846 5.14279ZM12 8.57143C11.5266 8.57143 11.1429 8.95518 11.1429 9.42857V12.8571C11.1429 13.3305 11.5266 13.7143 12 13.7143C12.4734 13.7143 12.8571 13.3305 12.8571 12.8571V9.42857C12.8571 8.95518 12.4734 8.57143 12 8.57143ZM12 14.5714C11.5266 14.5714 11.1429 14.9552 11.1429 15.4286C11.1429 15.902 11.5266 16.2857 12 16.2857C12.4734 16.2857 12.8571 15.902 12.8571 15.4286C12.8571 14.9552 12.4734 14.5714 12 14.5714Z",fill:"white"}));case"checkmark-rounded":return l().createElement("g",null,l().createElement("rect",{width:"34",height:"34",rx:"17",fill:"#7E3BD0"}),l().createElement("path",{d:"M22.2026 12.2099C22.0748 12.0758 21.8977 12 21.7126 12C21.5274 12 21.3503 12.0758 21.2226 12.2099L15.5126 18.1099L12.6626 15.1599C12.5351 15.0253 12.3579 14.9491 12.1726 14.9491C11.9872 14.9491 11.81 15.0253 11.6826 15.1599L10.2026 16.6829C9.93248 16.9673 9.93248 17.4134 10.2026 17.6979L15.0226 22.6769C15.1503 22.8109 15.3274 22.8867 15.5126 22.8867C15.6977 22.8867 15.8748 22.8109 16.0026 22.6769L23.6826 14.7499C23.9527 14.4654 23.9527 14.0193 23.6826 13.7349L22.2026 12.2099Z",fill:"white"}));case"layers":return l().createElement("g",null,l().createElement("path",{d:"M13.4335 16.6105C13.7747 16.8451 14.2253 16.8451 14.5665 16.6105L20.8014 12.324C21.3794 11.9267 21.3794 11.0733 20.8014 10.676L14.5665 6.38949C14.2253 6.15488 13.7747 6.15488 13.4335 6.38949L7.19861 10.676C6.62064 11.0733 6.62064 11.9267 7.19861 12.324L13.4335 16.6105Z",stroke:"#7E3BD0",strokeWidth:"2"}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7555 14.5763L19.9723 16.1598L20.5536 16.9735L19.9723 16.1598L14 20.4258L8.02766 16.1598L7.44642 15.3461L8.02766 16.1598L10.2445 14.5763L8.52408 13.3474L6.86518 14.5323C5.74849 15.33 5.74848 16.9896 6.86518 17.7873L12.8375 22.0532C13.5329 22.5499 14.4671 22.5499 15.1625 22.0532L21.1348 17.7873C22.2515 16.9896 22.2515 15.33 21.1348 14.5323L19.4759 13.3474L17.7555 14.5763Z",fill:"#7E3BD0"}));case"spinner":return l().createElement("g",null,l().createElement("circle",{className:"spinner-spin",cx:"12",cy:"12",r:"0"}),l().createElement("circle",{className:"spinner-spin spinner-spin-2",cx:"12",cy:"12",r:"0"}),l().createElement("circle",{className:"spinner-spin spinner-spin-3",cx:"12",cy:"12",r:"0"}));case"delete-light":return l().createElement("g",null,l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2L10.998 2H11.002C11.5543 2.0011 12.0011 2.44972 12 3.002C11.9989 3.55429 11.5503 4.0011 10.998 4L1 4C0.447715 4 0 3.55229 0 3C0 2.44772 0.447715 2 1 2H4V1C4 0.447715 4.44772 0 5 0H7C7.55229 0 8 0.447715 8 1V2ZM2 14C1.457 13.979 1.021 13.543 1 13V6H11V13C10.996 13.55 10.55 13.996 10 14H2ZM3 8H5V12H3V8ZM9 8H7V12H9V8Z",fill:"#326BFF"}));case"pencil":return l().createElement("g",null,l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9721 0.519712C11.665 -0.173237 12.7874 -0.173237 13.4803 0.519712C14.1733 1.21266 14.1733 2.33505 13.4803 3.028L12.2708 4.29248L9.76253 1.7842L10.9721 0.519712ZM7.93037 3.6394L10.3607 6.06969L3.63395 12.7964L0 14.0001L1.20366 10.3661L7.93037 3.6394Z",fill:"#326BFF"}));case"eye":return l().createElement("g",null,l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.000102264C4.25771 -0.0182888 0.972543 2.44562 0 6.00019C0.98904 9.54379 4.26409 12 8 12C11.7359 12 15.011 9.54379 16 6.00019C15.0275 2.44562 11.7423 -0.0182888 8 0.000102264ZM8 10.033C5.36244 10.0501 2.99801 8.43638 2.091 6.00019C3.01229 3.57486 5.36779 1.96719 8 1.96719C10.6322 1.96719 12.9877 3.57486 13.909 6.00019C13.002 8.43638 10.6376 10.0501 8 10.033ZM10 6C10 7.10457 9.10457 8 8 8C6.89543 8 6 7.10457 6 6C6 4.89543 6.89543 4 8 4C9.10457 4 10 4.89543 10 6Z",fill:"#326BFF"}));case"plus":return l().createElement("g",null,l().createElement("path",{d:"M9 4H6V1C6 0.447715 5.55228 0 5 0C4.44772 0 4 0.447715 4 1V4H1C0.447715 4 0 4.44772 0 5C0 5.55228 0.447715 6 1 6H4V9C4 9.55229 4.44772 10 5 10C5.55228 10 6 9.55229 6 9V6H9C9.55229 6 10 5.55228 10 5C10 4.44772 9.55229 4 9 4Z",fill:"#32373C"}))}}render(){const{className:e,color:t,icon:r,size:n,viewBox:i,margin:a,onClick:o,elementType:s}=this.props;if(!r)return!1;let c;c=Ue()(a)||!1===a?-(n-8):a;let d={fill:t,width:2*n,minWidth:2*n,height:2*n,margin:c};const u=`et-common-icon--${r}`;let p=it()({"et-common-icon":!0},u,e);const m=this._renderGraphics();return m||(d={}),l().createElement(s,{className:p,style:Ye()(d,this.props.style),onClick:o,"data-testid":this.props["data-for"]},l().createElement("svg",{viewBox:i,preserveAspectRatio:"xMidYMid meet",shapeRendering:"geometricPrecision"},m))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(at,"defaultProps",{color:"var(--dark-gray)",size:14,viewBox:"0 0 28 28",elementType:"div"});var ot=at,lt=window?.et_common_data?.config;function st({className:e=""}){return l().createElement("div",{className:it()("et-common-app-spinner-block",e),"data-testid":"Spinner"},l().createElement("div",{className:"et-common-app-spinner-block__spinner"}))}var ct=l().memo(st);const dt={width:400,height:600},ut=(e,t)=>{const r="et-vb-settings-option-input",n=`${r} et-vb-field-input-error`;return(0,s.isEmpty)(e)?t?n:r:"on"===e?n:r},pt=({moduleType:e,saveToDiviCloud:t,hasSaveAsGlobal:r,category:n,tag:i,onSaveClick:c,onCancelClick:d,onHelpClick:h,hasSubmitError:g,topWindowHeight:f,modalDimension:b,modalOffset:v,cloudFetchInProgressStatus:y,cloudId:w,cloudLibraryOptions:_,cloudStatus:E,isUserLoggingIn:C,owner:x,selectedCloudFolderId:S,onDomainTokenGenerated:k,updateCloudStatus:I,updateSaveToDiviCloudOption:A,updateSelectedCloudFolderId:F,sectionsCount:N,rowsCount:T,modulesCount:O})=>{const[P,D]=(0,o.useState)(""),[L,R]=(0,o.useState)(""),[V,B]=(0,o.useState)(""),[j,q]=(0,o.useState)(""),[W,G]=(0,o.useState)(n?.values),[H,U]=(0,o.useState)(n?.options),[$,z]=(0,o.useState)(i?.values),[K,Z]=(0,o.useState)(i?.options),[J,Y]=(0,o.useState)(dt),[X,Q]=(0,o.useState)(""),[ee,te]=(0,o.useState)([]),re=(0,o.useRef)(null),ne=l().createElement(ot,{className:"et-cloud-category-mark",color:"#0088E1",elementType:"span",icon:"cloud",size:7,style:{marginRight:"5px"}});(0,o.useEffect)((()=>{G(n?.values)}),[n?.values]),(0,o.useEffect)((()=>{U(n?.options)}),[n?.options]),(0,o.useEffect)((()=>{z(i?.values)}),[i?.values]),(0,o.useEffect)((()=>{Z(i?.options)}),[i?.options]),(0,o.useEffect)((()=>{D("")}),[x]);const ie=(0,s.capitalize)(e),ae="layout"===e?(0,a.__)("Save To Library","et_builder"):(0,a.sprintf)((0,a.__)("Save To %1$s Library","et_builder"),ie),oe=(0,a.sprintf)((0,a.__)("Save your current %1$s to the Divi Library for later use.","et_builder"),ie),le=(0,a.sprintf)((0,a.__)("%1$s Name","et_builder"),ie),se=(0,a.__)("Login To Divi Cloud","et_builder"),ce=(0,a.__)("Sign in to your Elegant Themes account using the pop up to activate Divi Cloud.","et_builder"),de="on"===t?(0,a.__)("Save to Divi Cloud","et_builder"):(0,a.__)("Save to Library","et_builder");return(0,o.useEffect)((()=>{(()=>{let e=dt.height;const t=f-dt.height,r=f-t+50;t-50<v.top&&v.top<r&&(e="number"==typeof b.height?b.height:0),Y({...J,height:e})})()}),[f]),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modal--add-to-library",componentName:"et-vb-divi-modal--add-to-library"},l().createElement(p.WrapperContainer,{dimension:null,caretStaysOnAppWindowClickPosition:!1,modalName:"divi/add-to-library",snappable:!0,expandable:!0,draggable:!0,caret:!1,resizable:!0},l().createElement(p.Header,{name:ae,onClickCloseButton:d}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"add-to-library-container",opened:!0},"off"!==t&&""!==E?.error&&l().createElement(rt,{api:lt.api,setDomainTokenNonce:lt.nonces.saveDomainToken,domain:lt.site_domain,frameWidth:400,frameHeight:600,sendMessage:k,queryParams:{cloud_id:w},onFrameClose:(e={error:""})=>{A("off"),I(e)},isCloud:!0}),l().createElement("div",{className:"et-vb-save-to-library-options",ref:re},C?l().createElement("div",{className:"et-vb-save-to-library-login"},l().createElement("span",null,se),l().createElement(p.DescriptionText,null,ce)):l().createElement(l().Fragment,null,l().createElement(p.DescriptionText,null,oe),l().createElement(p.FieldWrapper,{label:le,description:(0,a.__)("","et_builder")},l().createElement(M.Text,{name:"nodal-name",className:ut(X,g),value:P,onChange:e=>{D(e.inputValue),Q((0,s.isEmpty)(e.inputValue?.trim())?"on":"off")}})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Save to Divi Cloud","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(M.Toggle,{name:"saveToDiviCloudOption",value:t,onChange:e=>A("on"===e.inputValue?"on":"off")})),"off"===t&&l().createElement(p.FieldWrapper,{id:"upsell-card",description:(0,a.__)("","et_builder")},l().createElement(m.CloudUpsellCard,null)),y?.sharedFolders?l().createElement(ct,null):!(0,s.isEmpty)(_)&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Choose Library","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(M.Select,{name:"cloudLibrary",onChange:e=>F(e.inputValue),options:_,value:S})),(()=>{let e=[];return 0<N&&(e=[...e,{label:(0,a.sprintf)((0,a.__)("Also Save All %d Sections as Individual Items","et_builder"),N),value:"save_sections"}]),0<T&&(e=[...e,{label:(0,a.sprintf)((0,a.__)("Also Save All %d Rows as Individual Items","et_builder"),T),value:"save_rows"}]),0<O&&(e=[...e,{label:(0,a.sprintf)((0,a.__)("Also Save All %d Modules as Individual Items","et_builder"),O),value:"save_modules"}]),!(e.length<1)&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Save Individual Items","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(M.Checkboxes,{name:"layoutCategory",options:e,onChange:e=>{te(e?.inputValue??[])}}))})(),r&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Save as Global","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(M.Toggle,{name:"saveAsGlobalOption",value:L,onChange:e=>R(e.inputValue)})),(()=>{if(y?.cloud_category)return l().createElement(p.FieldWrapper,{label:(0,a.__)("Add to Categories","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(ct,null));const e=Object.values(H).map((e=>e.cloudTerm?{label:l().createElement(o.Fragment,null,ne,e.label),value:e.value}:e));return l().createElement(p.FieldWrapper,{label:(0,a.__)("Add to Categories","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(M.Checkboxes,{name:"layoutCategory",options:e,onChange:e=>{const t=e?.inputValue??"";G((e=>{const r={...(0,s.mapValues)(e,(()=>"off"))};return(0,s.forEach)(t,(e=>{e in W&&(r[e]="on")})),r}))}}))})(),l().createElement(p.FieldWrapper,{label:(0,a.__)("Create New Category","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(M.Text,{name:"add-to-categories",className:"et-vb-settings-option-input",value:V,onChange:e=>B(e.inputValue),defaultValue:(0,a.__)("Create New Category/Categories","et_builder")})),(()=>{if(y?.cloud_tag)return l().createElement(p.FieldWrapper,{label:(0,a.__)("Add to Tags","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(ct,null));const e=Object.values(K).map((e=>e.cloudTerm?{label:l().createElement(o.Fragment,null,ne,e.label),value:e.value}:e));return l().createElement(p.FieldWrapper,{label:(0,a.__)("Add to Tags","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(M.Checkboxes,{name:"layoutTag",options:e,onChange:e=>{const t=e?.inputValue??"";z((e=>{const r={...(0,s.mapValues)(e,(()=>"off"))};return(0,s.forEach)(t,(e=>{e in $&&(r[e]="on")})),r}))}}))})(),l().createElement(p.FieldWrapper,{label:(0,a.__)("Create New Tag","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(M.Text,{name:"add-to-tags",className:"et-vb-settings-option-input",value:j,onChange:e=>q(e.inputValue),defaultValue:(0,a.__)("Create New Tag(s)","et_builder")})),l().createElement(p.HelpButton,{onHelpClick:h}))))),l().createElement(p.Footer,{buttons:C?[{name:"cancel",label:(0,a.__)("Cancel","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:()=>d()}]:[{name:"add-to-library",label:de,showIcon:!1,showLabel:!0,showTooltip:!1,onClick:()=>c({moduleNameOption:P,saveToDiviCloudOption:t,saveAsGlobalOption:L,addCategoryNameOption:V,addTagNameOption:j,selectedCategories:W,selectedTags:$,optionsContainerRef:re,selectedIndividualItems:ee})}]})))};var mt,ht=new Uint8Array(16);function gt(){if(!mt&&!(mt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mt(ht)}var ft=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var bt=function(e){return"string"==typeof e&&ft.test(e)},vt=[],yt=0;yt<256;++yt)vt.push((yt+256).toString(16).substr(1));var wt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(vt[e[t+0]]+vt[e[t+1]]+vt[e[t+2]]+vt[e[t+3]]+"-"+vt[e[t+4]]+vt[e[t+5]]+"-"+vt[e[t+6]]+vt[e[t+7]]+"-"+vt[e[t+8]]+vt[e[t+9]]+"-"+vt[e[t+10]]+vt[e[t+11]]+vt[e[t+12]]+vt[e[t+13]]+vt[e[t+14]]+vt[e[t+15]]).toLowerCase();if(!bt(r))throw TypeError("Stringified UUID is invalid");return r};var _t=function(e,t,r){var n=(e=e||{}).random||(e.rng||gt)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return wt(n)};function Et(e){this.message=e}Et.prototype=new Error,Et.prototype.name="InvalidCharacterError";var Ct="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Et("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,i=0,a=0,o="";n=t.charAt(a++);~n&&(r=i%4?64*r+n:n,i++%4)?o+=String.fromCharCode(255&r>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function xt(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Ct(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return Ct(t)}}function St(e){this.message=e}St.prototype=new Error,St.prototype.name="InvalidTokenError";var kt=function(e,t){if("string"!=typeof e)throw new St("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(xt(e.split(".")[r]))}catch(e){throw new St("Invalid token specified: "+e.message)}},It=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Mt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function At(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Nt=function(){function e(t){Ft(this,e),this.type=t,"string"==typeof(arguments.length<=1?void 0:arguments[1])?(this.name=arguments.length<=1?void 0:arguments[1],this.items=arguments.length<=2?void 0:arguments[2]):(this.name=null,this.items=arguments.length<=1?void 0:arguments[1]),Array.isArray(this.items)||(this.items=[this.items])}return It(e,[{key:"toJSON",value:function(){return{name:this.name,_functionTreePrimitive:!0,type:this.type,items:this.items}}}]),e}(),Tt=function(e){function t(){var e;Ft(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return Mt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this,"sequence"].concat(n)))}return At(t,e),t}(Nt),Ot=function(e){function t(){var e;Ft(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return Mt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this,"parallel"].concat(n)))}return At(t,e),t}(Nt),Pt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Vt=function(e){function t(e){Dt(this,t);var r=Lt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.message||e));return r.name="FunctionTreeError",r}return Rt(t,e),Pt(t,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}]),t}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error)),Bt=function(e){function t(e,r,n,i){Dt(this,t);var a=Lt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return a.name="FunctionTreeExecutionError",a.execution=e,a.funcDetails=r,a.payload=n,a}return Rt(t,e),Pt(t,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,execution:{name:this.execution.name},funcDetails:{name:this.funcDetails.name,functionIndex:this.funcDetails.functionIndex},payload:this.payload,stack:this.stack}}}]),t}(Vt),jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function qt(e){if(e.displayName)return e.displayName;if(e.name)return e.name;var t=e.toString(),r=void 0;return 0===t.indexOf("async function")?r="async function ":0===t.indexOf("function")&&(r="function "),t=(t=t.substr(r?r.length:0)).substr(0,t.indexOf("("))}function Wt(e){return e&&!Array.isArray(e)&&"object"===(void 0===e?"undefined":jt(e))&&!(e instanceof Nt)}function Gt(e,t,r,n){if(r instanceof Nt){var i=r.toJSON();return Object.assign(i,{items:Gt(e,t,i.items,r instanceof Ot).items})}if(Array.isArray(r))return new Tt(r.reduce((function(n,i,a){if(i instanceof Nt){var o=i.toJSON();return n.concat(Object.assign(o,{items:Gt(e,t,o.items,i instanceof Ot).items}))}if("function"==typeof i){var l={name:i.displayName||qt(i),functionIndex:t.push(i)-1,function:i},s=r[a+1];return Wt(s)&&(l.outputs={},Object.keys(s).forEach((function(r){if(i.outputs&&!~i.outputs.indexOf(r))throw new Vt("Outputs object doesn't match list of possible outputs defined for function.");l.outputs[r]=Gt(e,t,"function"==typeof s[r]?[s[r]]:s[r])}))),n.concat(l)}if(Wt(i))return n;if(Array.isArray(i)){var c=Gt(e,t,i);return n.concat(c)}throw new Vt('Unexpected entry in "'+e+'". '+function(e,t){return"\n[\n"+e.map((function(e){return e===t?"  "+(void 0===t?"undefined":jt(t))+", <-- PROBLEM":"function"==typeof e?"  "+qt(e)+",":e instanceof Nt?"  [ "+e.type.toUpperCase()+" ],":Array.isArray(e)?"  [ SEQUENCE ],":"  { PATHS },"})).join("\n")+"\n]\n  "}(r,i))}),[])).toJSON();throw new Vt("Unexpected entry in tree")}var Ht=function(e,t){return Gt(e,[],"function"==typeof t?[t]:t)},Ut=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var $t=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.path=t,this.payload=r}return Ut(e,[{key:"toJSON",value:function(){return{path:this.path,payload:this.payload,_functionTreePath:!0}}}]),e}(),zt=$t,Kt=r(620),Zt=r.n(Kt);function Jt(e,t){return e._functionTreePrimitive&&e.type===t}function Yt(e,t,r,n,i,a,o,l,s){!function t(s,c,d,u,p){r((function(){function r(e){t(s,c+1,e,d,p)}function m(r,i){return function(a){var o=Object.assign({},d,a?a.payload:{});if(a&&r.outputs){var l=Object.keys(r.outputs);if(!~l.indexOf(a.path))throw new Bt(e,r,d,"function "+r.name+" must use one of its possible outputs: "+l.join(", ")+".");n(r,a.path,o),t(r.outputs[a.path].items,0,o,d,i)}else i(o)}}var h=s[c];if(h)if(Jt(h,"sequence"))t(h.items,0,d,u,r);else if(Jt(h,"parallel")){var g=h.items.length,f=[];a(d,g),h.items.forEach((function(n,i){return n.function?e.runFunction(n,d,u,m(n,(function(e){f.push(e),f.length===g?(l(e,g),r(Object.assign.apply(Object,[{}].concat(f)))):o(e,g-f.length)}))):t(n.items,0,d,u,(function(e){f.push(e),f.length===g?(l(e,g),r(Object.assign.apply(Object,[{}].concat(f)))):o(e,g-f.length)})),f}))}else e.runFunction(h,d,u,m(h,r));else s!==e.staticTree&&i(d),p(d)}))}([e.staticTree],0,t,null,s)}var Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Qt(e){return e&&(e instanceof Promise||"function"==typeof e.then&&"function"==typeof e.catch)}function er(e){return!(null!==e&&"object"===(void 0===e?"undefined":Xt(e))&&!Array.isArray(e)&&e.constructor!==Object)}var tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ir=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.wrap,i=void 0===n||n,a=r.ignoreDefinition,o=void 0!==a&&a;nr(this,e),this.definition=t,"function"!=typeof t&&(o||this.verifyDefinition(t),this.wrap=i,this.ProviderConstructor=function(e){this.context=e},this.ProviderConstructor.prototype=t,this.WrappedProviderConstructor=function(e,t){this.context=t,this.providerName=e},this.WrappedProviderConstructor.prototype=Object.keys(o?{}:t).reduce((function(e,r){var n=t[r];return e[r]=function(){for(var e=this,t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var o=n.apply(this,i);return Qt(o)?o.then((function(t){return e.context.debugger.send({type:"provider",datetime:Date.now(),method:e.providerName+"."+r,args:i,isPromise:!0,isRejected:!1,returnValue:er(t)?t:"[CAN_NOT_SERIALIZE]"}),t})).catch((function(t){throw e.context.debugger.send({method:e.providerName+"."+r,args:i,isPromise:!0,isRejected:!0}),t})):(this.context.debugger.send({type:"provider",datetime:Date.now(),method:this.providerName+"."+r,args:i,returnValue:er(o)?o:"[CAN_NOT_SERIALIZE]"}),o)},e}),{}))}return rr(e,[{key:"verifyDefinition",value:function(e){if(!this.ignoreDefinition){if("object"!==(void 0===e?"undefined":tr(e))||null===e)throw new Error("The definition passed as Provider is not valid");Object.keys(e).forEach((function(t){if("function"!=typeof e[t])throw new Error("The property "+t+" passed to Provider is not a method")}))}}},{key:"get",value:function(e){return"function"==typeof this.definition?this.definition(e):new this.ProviderConstructor(e)}},{key:"getWrapped",value:function(e,t){return"function"==typeof this.definition?this.definition(t):new this.WrappedProviderConstructor(e,t)}}]),e}(),ar=ir,or=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var sr=function(){function e(){lr(this,e)}return or(e,[{key:"getValue",value:function(){throw new Error('Extending ResolveValue requires you to add a "getValue" method')}}]),e}();!function(e){function t(e){lr(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.cvalue=e,r}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),or(t,[{key:"getValue",value:function(e){var t=e.resolve,r=this.cvalue;return t.isResolveValue(r)?t.value(r):Object.keys(r).reduce((function(e,n){return e[n]=t.value(r[n]),e}),{})}}])}(sr);var cr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var dr=function(e){function t(e,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.type=e,a.getter=r,a.strings=n,a.values=i,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),cr(t,[{key:"getTags",value:function(){return[this].concat(this.getNestedTags())}},{key:"getPath",value:function(e){var t=this;return this.strings.reduce((function(r,n,i){var a=t.values[i];return a instanceof sr?r+n+a.getValue(e):r+n+(void 0!==a?a:"")}),"")}},{key:"getValue",value:function(e){return this.getter(this.getPath(e),e)}},{key:"getNestedTags",value:function(){var e=this;return this.strings.reduce((function(r,n,i){var a=e.values[i];return a instanceof t?r.concat(a):r}),[])}},{key:"toString",value:function(){return this.type+"`"+this.pathToString()+"`"}},{key:"pathToString",value:function(){var e=this;return this.strings.reduce((function(r,n,i){var a=e.values[i];return a instanceof t?r+n+"${"+a.toString()+"}":r+n+(void 0!==a?a:"")}),"")}}]),t}(sr);function ur(e,t){return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(i.some((function(e){return void 0===e})))throw new Error("One of the values passed inside the tag interpolated to undefined. Please check.");return new dr(e,t,r,i)}}var pr=new ar({isTag:function(e){if(!(e instanceof dr))return!1;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!r.length||r.reduce((function(t,r){return t||r===e.type}),!1)},isResolveValue:function(e){return e instanceof sr},value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof sr?e.getValue(t?Object.assign({},this.context,t):this.context):e},path:function(e){if(e instanceof dr)return e.getPath(this.context);throw new Error("You are extracting a path from an argument that is not a Tag.")}},{wrap:!1}),mr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function gr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function br(e){return!e||"object"===(void 0===e?"undefined":hr(e))&&!Array.isArray(e)}function vr(e,t,r,n){var i=e;return i.execution=t,i.functionDetails=r,i.payload=Object.assign({},n,{_execution:{id:t.id,functionIndex:r.functionIndex},error:e.toJSON?e.toJSON():{name:e.name,message:e.message,stack:e.stack}}),i}var yr=function(){function e(t,r,n,i){fr(this,e),this.id=Date.now()+"_"+Math.floor(1e4*Math.random()),this.name=t||r.name||this.id,this.staticTree=r,this.functionTree=n,this.datetime=Date.now(),this.errorCallback=i,this.hasThrown=!1,this.isAsync=!1,this.runFunction=this.runFunction.bind(this)}return mr(e,[{key:"runFunction",value:function(e,t,r,n){if(!this.hasThrown){var i=this.createContext(e,t,r),a=this.functionTree,o=this.errorCallback,l=this,s=void 0;a.emit("functionStart",l,e,t);try{s=e.function(i)}catch(c){return this.hasThrown=!0,o(vr(c,l,e,t),l,e,t)}if(Qt(s))a.emit("asyncFunction",l,e,t,s),this.isAsync=!0,s.then((function(r){if(r instanceof zt)a.emit("functionEnd",l,e,t,r),n(r.toJSON());else{if(e.outputs)throw a.emit("functionEnd",l,e,t,r),new Bt(l,e,t,new Error("The result "+JSON.stringify(r)+" from function "+e.name+" needs to be a path of either "+Object.keys(e.outputs)));if(!br(r))throw a.emit("functionEnd",l,e,t,r),new Bt(l,e,t,new Error("The result "+JSON.stringify(r)+" from function "+e.name+" is not a valid result"));a.emit("functionEnd",l,e,t,r),n({payload:r})}})).catch((function(r){if(!l.hasThrown)if(r instanceof Error)l.hasThrown=!0,o(vr(r,l,e,t),l,e,t);else if(r instanceof zt)a.emit("functionEnd",l,e,t,r),n(r.toJSON());else if(e.outputs){var i=new Bt(l,e,t,new Error("The result "+JSON.stringify(r)+" from function "+e.name+" needs to be a path of either "+Object.keys(e.outputs)));l.hasThrown=!0,o(vr(i,l,e,t),l,e,t)}else if(br(r))a.emit("functionEnd",l,e,t,r),n({payload:r});else{var s=new Bt(l,e,t,new Error("The result "+JSON.stringify(r)+" from function "+e.name+" is not a valid result"));l.hasThrown=!0,o(vr(s,l,e,t),l,e,t)}}));else if(s instanceof zt)a.emit("functionEnd",l,e,t,s),n(s.toJSON());else if(e.outputs){var c=new Bt(l,e,t,new Error("The result "+JSON.stringify(s)+" from function "+e.name+" needs to be a path of either "+Object.keys(e.outputs)));this.hasThrown=!0,o(vr(c,l,e,t),l,e,t)}else if(br(s))a.emit("functionEnd",l,e,t,s),n({payload:s});else{var d=new Bt(l,e,t,new Error("The result "+JSON.stringify(s)+" from function "+e.name+" is not a valid result"));this.hasThrown=!0,o(vr(d,l,e,t),l,e,t)}}}},{key:"createContext",value:function(e,t,r){var n=this.functionTree.contextProviders,i={execution:this,props:t||{},functionDetails:e,path:e.outputs?Object.keys(e.outputs).reduce((function(e,t){return e[t]=function(e){return new zt(t,e)},e}),{}):null},a=n.debugger&&n.debugger.get(i,e,t,r),o=Object.keys(n).reduce((function(i,a){var o=n[a];return i[a]=o instanceof ar?o.get(i,e,t,r):o,i}),i);return a?Object.keys(o).reduce((function(t,r){var i=n[r];return i&&i instanceof ar&&i.wrap?t[r]="function"==typeof i.wrap?i.wrap(o,e):i.getWrapped(r,o):t[r]=o[r],t}),{}):o}}]),e}();!function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};fr(this,t);var n=gr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(n.cachedTrees=[],n.cachedStaticTrees=[],n.executeBranchWrapper=r.executeBranchWrapper||function(e){e()},"object"!==(void 0===e?"undefined":hr(e))||null===e||Array.isArray(e))throw new Error("You have to pass an object of context providers to FunctionTree");var i=Object.keys(e);if(i.indexOf("props")>=0||i.indexOf("path")>=0||i.indexOf("resolve")>=0||i.indexOf("execution")>=0||i.indexOf("debugger")>=0)throw new Error('You are trying to add a provider with protected key. "props", "path", "resolve", "execution" and "debugger" are protected');return n.contextProviders=Object.assign({},e,{resolve:pr}),n.run=n.run.bind(n),n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),mr(t,[{key:"run",value:function(){var e=this,t=void 0,r=void 0,n=void 0,i=void 0,a=void 0,o=[].slice.call(arguments);if(o.forEach((function(e){"string"==typeof e?t=e:Array.isArray(e)||e instanceof Nt?r=e:r||"function"!=typeof e?"function"==typeof e?i=e:n=e:r=e})),!r)throw new Error("function-tree - You did not pass in a function tree");var l=function(i,o){var l=e.cachedTrees.indexOf(r);-1===l?(a=Ht(t,r),e.cachedTrees.push(r),e.cachedStaticTrees.push(a)):a=e.cachedStaticTrees[l];var s=new yr(t,a,e,(function(t,r,n,i){e.emit("error",t,r,n,i),o(t)}));e.emit("start",s,n),Yt(s,n,e.executeBranchWrapper,(function(t,r,n){e.emit("pathStart",r,s,t,n)}),(function(t){e.emit("pathEnd",s,t)}),(function(t,r){e.emit("parallelStart",s,t,r)}),(function(t,r){e.emit("parallelProgress",s,t,r)}),(function(t,r){e.emit("parallelEnd",s,t,r)}),(function(t){e.emit("end",s,t),i===o?i(null,t):i(t)}))};if(!i)return new Promise(l);l(i,i)}}])}(Zt());var wr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var _r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=e.nextWatchId++;this.id="Watch_"+r,this.rawId=r,this.name=null,this.type=t,this.executedCount=0,this.controller=null,this.modulePath="",this.dependencyMap=null}return wr(e,[{key:"create",value:function(e,t,r){return this.name=r,this.controller=e,this.modulePath=t,this}},{key:"registerDependencies",value:function(){this.dependencyMap=this.createDependencyMap(),this.controller.dependencyStore.addEntity(this,this.dependencyMap),this.controller.devtools&&(this.controller.devtools.updateWatchMap(this,this.dependencyMap),this.controller.devtools.sendWatchMap([],[],0,0))}},{key:"destroy",value:function(){this.dependencyMap&&(this.controller.dependencyStore.removeEntity(this,this.dependencyMap),this.controller.devtools&&(this.controller.devtools.updateWatchMap(this,null,this.dependencyMap),this.controller.devtools.sendWatchMap([],[],0,0)))}},{key:"toJSON",value:function(){return{id:this.id,executedCount:this.executedCount,type:this.type,name:this.name}}}]),e}();_r.nextWatchId=0;var Er=_r,Cr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Sr=function(){function e(t,r){xr(this,e),this.computed=t,this.propsTags=t.propsTags,this.nestedPath=r}return Cr(e,[{key:"getValue",value:function(e){return this.nestedPath.reduce((function(e,t){return e&&e[t]}),this.computed.getValue(e))}},{key:"getDependencyMap",value:function(){return this.computed.getDependencyMap()}},{key:"clone",value:function(){return this.computed.clone()}},{key:"destroy",value:function(){return this.computed.destroy()}}]),e}(),kr=function(e){function t(e){xr(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Compute"));return r.computedCallback=e,r.isDirty=!0,r.value=null,r.props=null,r.getters=null,r.stateTags=[],r.propsTags=[],r.onUpdate=r.onUpdate.bind(r),r.dynamicGetter=r.dynamicGetter.bind(r),r.dynamicGetter.path=r.dynamicPathGetter.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Cr(t,[{key:"createDependencyMap",value:function(){return this.controller.createDependencyMap(this.stateTags,this.props,this.modulePath)}},{key:"getDependencyMap",value:function(){return this.dependencyMap}},{key:"onUpdate",value:function(){this.isDirty=!0}},{key:"clone",value:function(){return new t(this.computedCallback).create(this.controller,this.modulePath,this.name+" (clone)")}},{key:"compute",value:function(){return this.executedCount++,this.computedCallback(this.getDynamicGetter())}},{key:"getDynamicGetter",value:function(){return this.stateTags=[],this.propsTags=[],this.dynamicGetter}},{key:"parseDependencies",value:function(e){var t=this;if(!(e instanceof dr))throw new Error('Cerebral - Only tags are allowed in the dynamic "get" of Compute');e.getTags().forEach((function(e){"props"===e.type?t.propsTags.push(e):t.stateTags.push(e)}))}},{key:"dynamicGetter",value:function(e){this.parseDependencies(e);var t=e.getValue(this.getters);return Fr(t)?t.getValue(this.props):t}},{key:"dynamicPathGetter",value:function(e){return e.getPath(this.getters)}},{key:"hasChangedProps",value:function(e){var t=this,r=this.controller.createContext(e);return this.propsTags.reduce((function(e,n){return!!e||n.getValue(t.getters)!==n.getValue(r)}),!1)}},{key:"getValue",value:function(e){if(!this.controller)throw new Error("This Cerebral Compute has not been added to a module");if(!this.isDirty&&this.propsTags.length&&this.hasChangedProps(e)&&(this.isDirty=!0),this.isDirty){this.getters=this.controller.createContext(e),this.props=e,this.value=this.compute();var t=this.dependencyMap;this.dependencyMap=this.createDependencyMap(),this.controller.dependencyStore.updateEntity(this,t,this.dependencyMap),this.controller.devtools&&(this.controller.devtools.updateWatchMap(this,this.dependencyMap,t),this.controller.devtools.updateComputedState(this.name,this.value)),this.isDirty=!1}return this.value}},{key:"toString",value:function(){return this.getValue(this.props)}}]),t}(Er);"function"==typeof Symbol&&Symbol.iterator;var Ir=[];function Mr(e,t){-1===Ir.indexOf(e)&&(Ir.push(e),console.warn(e+" is DEPRECATED - "+t))}function Ar(e,t){var r=t.execution.name.split(".");return r.splice(0,r.length-1).concat(e).join(".")}function Fr(e){return e instanceof kr||e instanceof Sr}ur("string",(function(e){return e})),ur("path",(function(e){return e})),ur("signal",(function(e,t){return Mr("tags.signal",'use the "sequences" tag instead'),t.controller.getSequence(e)})),ur("signals",(function(e,t){return Mr("tags.signals",'use the "sequences" tag instead'),t.controller.getSequences(e)})),ur("sequences",(function(e,t){return t.controller.getSequence(e)||t.controller.getSequences(e)})),ur("state",(function(e,t){return t.controller.getState(e)})),ur("module",(function(e,t){return Mr("tags.module",'use the "moduleState" tag instead'),t.controller.getState(Ar(e,t))})),ur("moduleState",(function(e,t){return t.controller.getState(Ar(e,t))})),ur("moduleSequences",(function(e,t){return t.controller.getSequence(Ar(e,t))||t.controller.getSequences(Ar(e,t))})),ur("props",(function(e,t){return function(e,t){return t.split(".").reduce((function(e,r,n){if(n>0&&void 0===e)throw new Error('Cannot extract value at path "'+t+'" ("'+r+'" is not defined).');return e[r]}),e)}(t.props,e)}));const Nr={tags:"tags",categories:"categories",packs:"packs",favoritePacks:"favorites",cloudStatus:"activate",layout:"layouts",section:"sections",row:"rows",module:"modules",tb_template:"templates",tb_set:"template-sets",code_css:"snippets-css",code_css_no_selector:"snippets-css-ns",code_html:"snippets"};function Tr(e){try{return kt(e)}catch(e){return"invalid-token"}}var Or=r(86636),Pr=r.n(Or);const Dr={cache:{},offlineCacheTable:"DiviCloud",offlineCacheVersion:"1.4",cacheKey:"",init(e,t){window.ETCloudCache=window.ETCloudCache||{},this.cacheKey=e,(0,s.has)(window.ETCloudCache,e)||(0,s.set)(window.ETCloudCache,e,{}),this.getOfflineCache("cloud-cache-version").then((e=>{if(this.offlineCacheVersion!==e){Pr().createInstance({name:this.offlineCacheTable}).clear().then((()=>{this.setOfflineCache("cloud-cache-version",this.offlineCacheVersion)}))}})),this.cache=window.ETCloudCache[e]},addData(e,t,r=!1,n=!1){if(r)(0,s.set)(window.ETCloudCache,e,t);else{const r=n?window.ETCloudCache[n]:this.cache;(0,s.set)(r,e,t)}},getData(e,t=[],r=!1){return r?(0,s.get)(window.ETCloudCache[r],e,t):(0,s.get)(this.cache,e,t)},clearData(){window.ETCloudCache={},(0,s.set)(window.ETCloudCache,this.cacheKey,{}),this.cache=window.ETCloudCache[this.cacheKey]},setOfflineCache(e,t,r=!1,n="items"){const i=Pr().createInstance({name:this.offlineCacheTable});return r?i.getItem(e).then((r=>{let a=t;return a="array"===n?(0,s.merge)(r,t):r?(0,s.concat)(r,t).filter((function({id:e,item_location:t},r){const n=t||"local";return!this.has(r=e+n)&&this.add(r)}),new Set):t,i.setItem(e,a)})):i.setItem(e,t)},getOfflineCache(e){return Pr().createInstance({name:this.offlineCacheTable}).getItem(e).then((e=>e))}};function Lr(e,t,r,n,i,a){const o={};return qr({type:"get",resource:e,queryString:`per_page=${n}&page=${r}&orderby=id`,source:t,accessToken:i,providedUrl:(0,s.get)(a,"providedUrl",null),providedBaseUrl:(0,s.get)(a,"providedBaseUrl","")}).then((e=>{const{data:t}=e;let r=t;return(0,s.isNil)(t)&&(r=e),(0,s.isEmpty)(r)||r.error||(0,s.forEach)(r,(e=>{const t=e.id;o[t]={},o[t].id=t,o[t].name=e.name,o[t].slug=e.slug,o[t].count=e.count,o[t].location="cloud"})),{data:o}}))}function Rr(e={},t="layouts"){const r=e.isUserItems?"userItems":"predefined",n=e.pageNo,i=e.perPage,a=e.token,o=(0,s.get)(e,"orderBy","date"),l={providedUrl:(0,s.get)(e,"providedUrl",null),providedBaseUrl:(0,s.get)(e,"providedBaseUrl",""),editPermission:(0,s.get)(e,"editPermission",!1)};switch(e.type){case"categoriesList":return Lr("categories",r,n,i,a,l);case"tagsList":return Lr("tags",r,n,i,a,l);case"packsList":return Lr("packs",r,n,i,a);case"itemsList":return function(e,t,r,n,i,a,o={}){const l=[],c=(0,s.get)(o,"editPermission",!1),d="predefined"!==e&&c?"&status=publish,trash":"",u=(0,s.get)(o,"providedUrl",null),p=(0,s.get)(o,"providedBaseUrl","");let m="date",h="asc";switch(i){case"name":m="name";break;case"dateDesc":h="desc"}return qr({type:"get",resource:t,queryString:`per_page=${n}&page=${r}${d}&orderBy=${m}&order=${h}`,includeHeaders:!0,source:e,accessToken:a,providedUrl:u,providedBaseUrl:p}).then((t=>t.error?t:((0,s.forEach)(t.body,(t=>{if(!t.id)return;let r={};if(r.id=t.id,r.date=t.date,r.name=Ne()("<textarea/>").html((0,s.get)(t,"title.rendered",t.name)).text(),r.slug=t.slug,r.category_ids=(0,s.get)(t,"categories",[]),r.tag_ids=(0,s.get)(t,"tags",[]),r.is_favorite=t.is_favorite||(0,s.get)(t,"meta.et-api-cloud-favorite",!1),r.item_location="cloud",r.width=(0,s.isEmpty)((0,s.get)(t,"module_width",[]))?"regular":"fullwidth",r.subtype=(0,s.get)(t,"meta._et_pb_module_type",""),r.row_layout=(0,s.get)(t,"meta._et_pb_row_layout",""),r.isTrash="trash"===t.status,r.modified=t.modified,t.meta){const e=(0,s.get)(t,"meta.et-api-cloud-template-set-templates",[]);r.thumbnail=(0,s.get)(t,"meta.et-api-cloud-thumbnails.large",""),r.thumbnail_medium=(0,s.get)(t,"meta.et-api-cloud-thumbnails.medium",""),r.thumbnail_small=(0,s.get)(t,"meta.et-api-cloud-thumbnails.small",""),r.item_items=e,r.allThumbnails=(0,s.isEmpty)(e)?[]:(0,s.get)(t,"meta.et-api-cloud-thumbnails",[]),r.builtFor=t.meta?._built_for&&""!==t.meta._built_for?t.meta._built_for:"Divi"}else r.thumbnail=(0,s.get)(t,"thumbnail","");"predefined"===e&&t.link&&(r.previewLink=t.link),t.packs&&(r.pack_id=t.packs[0],r.is_landing=(0,s.endsWith)(t.slug,"-landing-page")||(0,s.endsWith)(t.slug,"-landing"),r.description=(0,s.isEmpty)(t.excerpt.rendered)?"":t.excerpt.rendered),l.push(r)})),{data:{items:(0,s.compact)(l)},pagesCount:t.totalPages,itemsCount:t.totalItems,cloudCount:t.totalCloudItems})))}(r,"predefined"===r||"layout"===t?"layouts":t,n,i,o,a,l)}return new Promise((e=>e()))}function Vr(e,t,r={},n={},i=!1,a=0,o=""){if(0!==a)return qr({type:"post",resource:t,resourceId:a,accessToken:e,providedBaseUrl:o},r).then((e=>(i&&i(e),e)));const l=[];return(0,s.isEmpty)(n)||(0,s.forEach)(n,((t,r)=>{(0,s.isEmpty)(t)||(0,s.forEach)(t,(t=>{l.push(jr(t,r,e,o))}))})),"fullwidth"===r.width&&l.push(jr("fullwidth","module_width",e,o)),(0,s.isEmpty)(l)?qr({type:"post",resource:t,accessToken:e,providedBaseUrl:o},r).then((t=>(i&&i(t,e),t))):Promise.all(l).then((n=>{const a=(0,s.groupBy)(n,"taxonomy");return(0,s.forEach)(["categories","tags","module_width"],(e=>{const t=(0,s.get)(a,[e],[]);let n=[];(0,s.isEmpty)(t)||(n=(0,s.map)((0,s.keys)((0,s.keyBy)(t,"id")),s.toInteger)),r[e]=n})),qr({type:"post",resource:t,accessToken:e,providedBaseUrl:o},r).then((t=>(i&&i(t,e),t)))}))}function Br(e="",t=!1){return Dr.getOfflineCache("refreshTokenPart").then((r=>new Promise((n=>{Ne().ajax({type:"POST",url:et_cloud_data.ajaxurl,dataType:"json",data:{action:"et_cloud_update_tokens",et_cloud_token_nonce:et_cloud_data.nonces.et_cloud_refresh_token,et_cloud_access_token:e,et_cloud_save_session:t,et_cloud_refresh_token_part:r},complete(e){const t=(0,s.get)(e,"responseJSON.data",{});Dr.setOfflineCache("refreshTokenPart",t.refreshTokenPart).then((()=>n(t)))}})}))))}function jr(e,t,r,n=""){return new Promise((i=>{if((0,s.isUndefined)(e)||""===e)return i({});return qr({type:"post",resource:t,accessToken:r,providedBaseUrl:n},{name:e}).then((e=>{if(e.error&&"term_exists"!==e.error)return i({});const r="term_exists"===(0,s.get)(e,"code","")?e.data.term_id:e.id;i({taxonomy:t,id:r})}))}))}function qr(e={},t={}){const{type:r,resource:n,resourceId:i,source:a,queryString:o,providedUrl:l,providedBaseUrl:c,etAccount:d,accessToken:u,includeHeaders:p}=e;let m=l||"";const h="predefined"===a&&"cloudStatus"!==n?`${(0,s.get)(d,"username","")}:${(0,s.get)(d,"apiKey","")}`:u,g=("predefined"!==a||"favoritePacks"===n||"layout"===n||"cloudStatus"===n)&&!l;if(!m){const e=c&&""!==c?c:function(e="user",t=""){if("predefined"===e)return et_cloud_data.predefined_items_url;const r=Tr(t);return`${"invalid-token"===r?"":(0,s.get)(r,["aud",[1]],"")}/wp-json/cloud/v1`}(a,h),t=function(e){return(0,s.get)(Nr,e,e)}(n);m=`${e}/${t}`,i&&(m=`${m}/${i}`),o&&(m=`${m}?${o}`)}const f={method:r,mode:"cors"};(0,s.isEmpty)(t)||(f.body=JSON.stringify(t));const b=l?{"Content-Type":"application/x-www-form-urlencoded"}:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json"};if(g){if(!h)return new Promise((e=>e({code:"missing_token",error:"Your Divi Cloud session has ended. Please try logging in again. If you continue to experience authorization failures, try closing Library modal and opening it again so that your authorization token can be regenerated."})));b.Authorization=`Bearer ${h}`,f.credentials="same-origin"}return f.headers=b,function(e,t,r=!1){const n="post"===t.method?300:15;return t.signal=(e=>{const t=new AbortController;return setTimeout((()=>t.abort()),1e3*e),t})(n).signal,fetch(e,t).then((e=>{if(503===e.status)throw new Error(`${e.status} - ${e.statusText}`);return e.json().then((t=>({totalPages:e.headers.get("x-wp-totalpages"),totalItems:e.headers.get("x-wp-total"),totalCloudItems:e.headers.get("X-ET-API-CLOUD-ITEM-COUNT"),body:t})))})).then((e=>(0,s.get)(e,"body.code")?{error:e.body.code,...e.body}:r?e:e.body)).catch((t=>(console.log("CLOUD API REQUEST ERROR:",e,t),{error:t})))}(m,f,p)}var Wr=window.divi.rest,Gr=window.divi.serializedPost;const Hr=(e,t)=>{let r="";if("0"!==e&&!(0,s.isEmpty)(t)){r=`${(0,s.find)(t,{id:e}).endpoint}/cloud/v1`}return r},Ur=e=>{if((0,s.isEmpty)(e))return{};const t={};t[0]={label:(0,a.__)("My Cloud","et_builder")};const r=(0,s.filter)(e,(e=>!0===e.permissions.add)),n=(0,s.sortBy)(r,["name"]);return(0,s.map)(n,(e=>{const r=`${e.name}'s Cloud`;t[e.id]={label:r}})),t},$r=(e,t,r)=>{let n={};const i={},a=e?.cloud_category??i,o=e?.cloud_tag??i;"cloud_category"===r?n=0!==Object.keys(a).length?Object.keys(a).reduce(((e,t)=>{const r=a[t].name;return{...e,[r]:{label:r,value:r,cloudTerm:!0}}}),t):{}:"cloud_tag"===r&&(n=0!==Object.keys(o).length?Object.keys(o).reduce(((e,t)=>{const r=o[t].name;return{...e,[r]:{label:r,value:r,cloudTerm:!0}}}),t):{});const l=Object.entries(n).filter((([,e])=>e.cloudTerm)).sort((([e],[t])=>e.localeCompare(t))).reduce(((e,[t,r])=>(e[t]=r,e)),{}),s=Object.entries(n).filter((([,e])=>!e.cloudTerm)).sort(((e,t)=>e[0].localeCompare(t[0]))).reduce(((e,[t,r])=>(e[t]=r,e)),{});return{...l,...s}},zr=(e,t)=>{if((0,s.isEmpty)(e))return[];const r=e.split(",").map((e=>e.trim()));return t.reduce(((e,t)=>(r.includes(t.name)&&e.push(t.id),e)),[])},Kr=async e=>{const t=(0,d.select)("divi/settings").getSetting(["urls","admin"]),r=e.get("export_name")??"fetch-exported-json";try{const n=await(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/portability/export",data:e},!0),i=(0,s.get)(n,"timestamp","");if(void 0!==n.page&&void 0!==n.totalPages){const t=new FormData;return e.forEach(((e,r)=>{t.append(r,e)})),t.append("page",String(Number(n.page)+1)),t.append("timestamp",i),Kr(t)}const a=new URL(t),{searchParams:o}=a;return o.set("et_core_portability","1"),o.set("name",r),o.set("timestamp",i),a.toString()}catch(e){console.error(e)}},Zr=async e=>{const t=await Kr(e),r=await fetch(t);if(!r.ok)throw new Error(`Failed to fetch export data: ${r.statusText}`);return await r.json()},Jr=(e,t)=>{e.forEach((e=>{(0,d.dispatch)("divi/edit-post").setGlobalParentAttribute(e,t);const r=(0,d.select)("divi/edit-post").getModule(e)?.children?.asMutable()??[];r.length>0&&Jr(r,t)}))},Yr=({moduleId:e,templateId:t,content:r,children:n,syncToServer:i=!1})=>{(0,d.dispatch)("divi/edit-post").setGlobalModuleAttribute(e,t),n&&n.length>0&&Jr(n,t),(0,d.dispatch)("divi/global-layouts").setLayoutContent({templateId:t,content:r,instanceId:e,syncToServer:i});const o=r?.[e]?.name??"",l=(0,d.select)("divi/module-library").getModule(o)?.title??"",s=(0,a.sprintf)((0,a.__)("Made Global %s","et_builder"),l),c=new Date,u=c.getTime(),p=c.toLocaleTimeString(),m=(0,d.select)("divi/edit-post").getContent();(0,d.dispatch)("divi/history").addLayoutItem({label:s,moduleId:e,moduleLabel:l,moduleName:o,state:m,timestamp:u,humanTime:p,type:"SET_LAYOUT_CONTENT",storeName:"divi/global-layouts"})},Xr=(e,t)=>{const{layout_name:r,layout_type:n,module_width:i,termsData:a,providedBaseUrl:o,selectedCloudFolderId:l}=t,s={content:e,title:r,status:"publish",width:i},c=(0,d.select)("divi/cloud-app").getCloudToken();return new Promise((e=>{Vr(c,n,s,a,(t=>{e(t)}),0,o)}))},Qr=(e,t)=>{const r=new FormData;return r.append("layout_content",e),(0,s.forEach)(t,((e,t)=>{r.append(t,e)})),(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/create-item",data:r},!0)},en=(e,t)=>{let r;switch(t){case"save_sections":r=(0,a.__)("Section","et_builder");break;case"save_rows":r=(0,a.__)("Row","et_builder");break;case"save_modules":r="%module%";break;default:r=""}return`${e} ${r}`},tn=(e,t)=>{const r=(0,d.select)("divi/edit-post").getModule(e),{name:n}=r,i="divi/row-inner"===n?(0,d.select)("divi/edit-post").getModuleAttr(e,"module.advanced.columnStructure"):"0",a=(0,Y.getModuleType)((0,s.get)(r,"name"),(0,s.get)(r,"attrs")).replace(/fullwidth-|specialty-|-inner/gi,""),o=(0,s.capitalize)(n.replace(/divi\//,""));return{...t,layout_name:t.layout_name.replace("%module%",o),columns_layout:i,layout_type:a,module_type:n,module_width:n.includes("divi/fullwidth")?"fullwidth":"regular"}},rn=async(e,t,r,n,i,a=!1)=>{const o=await(async(e,t,r,n,i,a=!1)=>{const o=r.includes("save_sections"),l=r.includes("save_rows"),s=r.includes("save_modules"),c=(0,d.select)("divi/serialized-post").getUsedGlobalColorIds(),u=(0,d.select)("divi/settings").getSetting(["post","id"]),p=(0,d.select)("divi/global-data").getGlobalColorsToExport(c),m=[];if("layout"===t){const t=e,r=t.root.children;if(o){let e=0;for(const t of r){e++;const r=(0,d.select)("divi/edit-post").getModuleWithChildren(t);if(a){const n={...i,layout_name:`${en(i.layout_name,"save_sections")} ${e}`,layout_type:"section"},a=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(t,n),o=(0,Gr.serializeModuleFlatObjects)(r),l=(0,Gr.extractGlobalVariablesIds)(o),s=(0,d.select)("divi/global-data").getGlobalVariablesToExport(l),c=new FormData;c.append("post",u),c.append("context","et_builder"),c.append("content",o),c.append("global_colors",JSON.stringify(p)),c.append("global_variables",JSON.stringify(s)),c.append("export_name",`export-section-${t}`);const h=await Zr(c);m.push({content:JSON.stringify(h),itemMetadata:a})}else{const n={...i,layout_name:`${en(i.layout_name,"save_sections")} ${e}`},a=tn(t,n);m.push({content:(0,Gr.serializeModuleFlatObjects)(r),itemMetadata:a})}}}if(l){let e=0;for(const n of r){const r=t[n].children;for(const t of r){e++;const r=(0,d.select)("divi/edit-post").getModuleWithChildren(t);if(a){const n={...i,layout_name:`${en(i.layout_name,"save_rows")} ${e}`},a=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(t,n),o=new FormData;o.append("post",u),o.append("context","et_builder"),o.append("content",(0,Gr.serializeModuleFlatObjects)(r)),o.append("global_colors",JSON.stringify(p)),o.append("export_name",`export-row-${t}`);const l=await Zr(o);m.push({content:JSON.stringify(l),itemMetadata:a})}else{const n={...i,layout_name:`${en(i.layout_name,"save_rows")} ${e}`},a=tn(t,n);m.push({content:(0,Gr.serializeModuleFlatObjects)(r),itemMetadata:a})}}}}if(s){let e=0;for(const n of r){const r=t[n].children;for(const n of r){const r=t[n].children;for(const n of r){const r=t[n].children;for(const t of r){e++;const r=(0,d.select)("divi/edit-post").getModuleWithChildren(t);if(a){const n={...i,layout_name:`${en(i.layout_name,"save_modules")} ${e}`},a=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(t,n),o=new FormData;o.append("post",u),o.append("context","et_builder"),o.append("content",(0,Gr.serializeModuleFlatObjects)(r)),o.append("global_colors",JSON.stringify(p)),o.append("export_name",`export-module-${t}`);const l=await Zr(o);m.push({content:JSON.stringify(l),itemMetadata:a})}else{const n={...i,layout_name:`${en(i.layout_name,"save_modules")} ${e}`},a=tn(t,n);m.push({content:(0,Gr.serializeModuleFlatObjects)(r),itemMetadata:a})}}}}}}}else if("section"===t){const e=(0,d.select)("divi/edit-post").getModule(n).children.asMutable();if(l){let t=0;for(const r of e){t++;const e=(0,d.select)("divi/edit-post").getModuleWithChildren(r);if(a){const n={...i,layout_name:`${en(i.layout_name,"save_rows")} ${t}`},a=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(r,n),o=new FormData;o.append("post",u),o.append("context","et_builder"),o.append("content",(0,Gr.serializeModuleFlatObjects)(e)),o.append("global_colors",JSON.stringify(p)),o.append("export_name",`export-row-${r}`);const l=await Zr(o);m.push({content:JSON.stringify(l),itemMetadata:a})}else{const n={...i,layout_name:`${en(i.layout_name,"save_rows")} ${t}`},a=tn(r,n);m.push({content:(0,Gr.serializeModuleFlatObjects)(e),itemMetadata:a})}}}if(s){let t=0;for(const r of e){const e=(0,d.select)("divi/edit-post").getModule(r).children.asMutable();for(const r of e){const e=(0,d.select)("divi/edit-post").getModule(r).children.asMutable();for(const n of e){t++;const e=(0,d.select)("divi/edit-post").getModuleWithChildren(n);if(a){const a={...i,layout_name:`${en(i.layout_name,"save_modules")} ${t}`},o=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(n,a),l=new FormData;l.append("post",u),l.append("context","et_builder"),l.append("content",(0,Gr.serializeModuleFlatObjects)(e)),l.append("global_colors",JSON.stringify(p)),l.append("export_name",`export-module-${r}`);const s=await Zr(l);m.push({content:JSON.stringify(s),itemMetadata:o})}else{const r={...i,layout_name:`${en(i.layout_name,"save_modules")} ${t}`},a=tn(n,r);m.push({content:(0,Gr.serializeModuleFlatObjects)(e),itemMetadata:a})}}}}}}else if("row"===t){const e=(0,d.select)("divi/edit-post").getModule(n).children.asMutable();let t=0;for(const r of e){const e=(0,d.select)("divi/edit-post").getModule(r).children.asMutable();for(const r of e){t++;const e=(0,d.select)("divi/edit-post").getModuleWithChildren(r);if(a){const n={...i,layout_name:`${en(i.layout_name,"save_modules")} ${t}`},a=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(r,n),o=new FormData;o.append("post",u),o.append("context","et_builder"),o.append("content",(0,Gr.serializeModuleFlatObjects)(e)),o.append("global_colors",JSON.stringify(p)),o.append("export_name",`export-module-${r}`);const l=await Zr(o);m.push({content:JSON.stringify(l),itemMetadata:a})}else{const n={...i,layout_name:`${en(i.layout_name,"save_modules")} ${t}`},a=tn(r,n);m.push({content:(0,Gr.serializeModuleFlatObjects)(e),itemMetadata:a})}}}}return m})(e,t,r,n,i,a);return(async(e,t)=>{const r=[];if(e.length){const n=((e,t)=>{const r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r})(e,3);for(const e of n){const n=[];for(const r of e){const{content:e,itemMetadata:i}=r;if(t){const t=i;n.push(Xr(e,t))}else{const t=i;n.push(Qr(e,t))}}const i=await Promise.allSettled(n);r.push(i)}}return Promise.all(r)})(o,a)},nn=(0,a.__)("Add to Library","et_builder"),an=e=>{const{owner:t}=e;let r=t;const{attributes:n,layoutCategory:i,layoutTag:l,ownerData:c,topWindowHeight:u,cloudToken:p,cloudFolders:m,cloudTerms:h,cloudFetchInProgressStatus:g,pageID:f,usedGlobalColors:b,modalDimension:v,modalOffset:y}=(0,d.useSelect)((e=>{const n=(0,d.select)("divi/serialized-post").getUsedGlobalColorIds();let i=e("divi/edit-post").getModule(t);if(i){const t=["divi/column","divi/column-inner"],n=e("divi/module-library").isChildModule(i.name);(t.includes((0,s.get)(i,"name"))||n)&&(r=(0,s.get)(i,"parent"),i=e("divi/edit-post").getModule(r))}return{attributes:e("divi/modal-library").getModalProperty({modalName:"divi/add-to-library",property:"attributes"}),ownerData:i,layoutCategory:e("divi/settings").getSetting(["taxonomy","layoutCategory"]),layoutTag:e("divi/settings").getSetting(["taxonomy","layoutTag"]),topWindowHeight:e("divi/app-ui").getWindow("height","top"),cloudToken:e("divi/cloud-app").getCloudToken(),cloudFolders:e("divi/cloud-app").getCloudFolders(),cloudTerms:e("divi/cloud-app").getCloudTerms(),cloudFetchInProgressStatus:e("divi/cloud-app").getCloudFetchInProgressStatus(),pageID:e("divi/settings").getSetting(["post","id"]),usedGlobalColors:e("divi/global-data").getGlobalColorsToExport(n),modalDimension:e("divi/modal-library").getModalProperty({modalName:"divi/add-to-library",property:"dimension"}),modalOffset:e("divi/modal-library").getModalProperty({modalName:"divi/add-to-library",property:"offset"})}})),w="on"===(n?.saveToDiviCloud??"off")?"on":"off",[_,E]=(0,o.useState)(!1),[C,x]=(0,o.useState)(w),[S]=(0,o.useState)(_t()),[k,I]=(0,o.useState)({error:""}),[M,A]=(0,o.useState)("0"),[F,N]=(0,o.useState)(!1);let T=0,O=0,P=0;const{purgeLibraryData:D}=(0,d.useDispatch)("divi/cloud-app"),L=0!==Object.keys(i).length?i.asMutable().reduce(((e,t)=>({...e,[t.name]:"off"})),{}):{},R=0!==Object.keys(i).length?i.asMutable().reduce(((e,t)=>({...e,[t.name]:{label:t.name,value:t.name}})),{}):{},V=0!==Object.keys(l).length?l.asMutable().reduce(((e,t)=>({...e,[t.name]:"off"})),{}):{},B=0!==Object.keys(l).length?l.asMutable().reduce(((e,t)=>({...e,[t.name]:{label:t.name,value:t.name}})),{}):{},j=(0,s.get)(c,"props.attrs.globalModule",!1)||(0,s.get)(c,"props.attrs.globalParent",!1),q=r?(0,Y.getModuleType)((0,s.get)(c,"name"),(0,s.get)(c,"attrs")):"layout",W="group"===q?"module":q.replace(/fullwidth-|specialty-|-inner/gi,""),{itemContent:G}=(0,d.useSelect)((e=>({itemContent:e("divi/edit-post").getContent()})));let H,U,$;switch(W){case"layout":H=G.root.children,T=H.length,H.forEach((e=>{U=G[e].children,O+=U.length,U.forEach((e=>{$=G[e].children,$.forEach((e=>{P+=G[e].children.length}))}))}));break;case"section":U=c.children,O=U.length,U.forEach((e=>{$=G[e].children,$.forEach((e=>{P+=G[e].children.length}))}));break;case"row":$=c.children,$.forEach((e=>{P+=G[e].children.length}));break;default:T=0,O=0,P=0}(0,o.useEffect)((()=>{"on"===C&&(0,s.isEmpty)(p)&&(I({error:(0,a.__)("Please log in to Divi Cloud to save your layout.","et_builder")}),N(!0))}),[C,p]),(0,o.useEffect)((()=>{x(w)}),[w]);const z=!j&&!(0,s.isUndefined)(c),K={owner:r,moduleType:W,saveToDiviCloud:C,hasSaveAsGlobal:z,hasSubmitError:_,category:{options:(()=>{if("on"===C){return $r(h,R,"cloud_category")}return R})(),values:(()=>{if("on"===C){const e=h?.cloud_category||{},t=0!==Object.keys(e).length?Object.keys(e).reduce(((t,r)=>({...t,[e[r].name]:"off"})),L):{};return t}return L})()},tag:{options:(()=>{if("on"===C){return $r(h,B,"cloud_tag")}return B})(),values:(()=>{if("on"===C){const e=h?.cloud_tag||{},t=0!==Object.keys(e).length?Object.keys(e).reduce(((t,r)=>({...t,[e[r].name]:"off"})),V):{};return t}return V})()},onSaveClick:({moduleNameOption:e,saveAsGlobalOption:t,addCategoryNameOption:n,addTagNameOption:a,selectedCategories:o,selectedTags:c,optionsContainerRef:u,selectedIndividualItems:p})=>{if(e=e?.trim(),(0,s.isEmpty)(e)){if(E(!0),u.current){const e=jQuery(u.current).closest(".et-vb-modal-panel");e.animate({scrollTop:0},200,"swing"),e.find("#et-vb-field-input-text-nodal-name").trigger("focus")}return}E(!1);const h="on"===t?"global":"non_global",g=new FormData;let v,y,w={};if("layout"===W)w=(0,d.select)("divi/edit-post").getContent().asMutable(),y="divi/layout";else{const e=(0,d.select)("divi/edit-post").getModule(r).asMutable(),{name:t}=e;y=t,v=e.children,w=(0,d.select)("divi/edit-post").getModuleWithChildren(r);const n="divi/row-inner"===t||"divi/row"===t?(0,d.select)("divi/edit-post").getModuleAttr(r,"module.advanced.columnStructure.desktop.value"):"0";g.append("module_type",t),g.append("module_width",t.includes("divi/fullwidth")?"fullwidth":"regular"),g.append("columns_layout",n)}const _="layout"===W?(0,Gr.serializeModuleFlatObjects)(w,"root","layout"):(0,Gr.serializeModuleFlatObjects)(w),x=(0,Gr.extractGlobalVariablesIds)(_),S=(0,d.select)("divi/global-data").getGlobalVariablesToExport(x);if(g.append("layout_name",e),g.append("post_type",(0,d.select)("divi/settings").getSetting(["post","type"])),g.append("layout_scope",h),g.append("layout_type",W),g.append("layout_content",_),g.append("layout_new_cat",n),g.append("layout_new_tag",a),(0,d.dispatch)("divi/app-ui").setGlobalPreload(!0),"on"===C){Dr.clearData();const t=Object.entries(o).filter((([,e])=>"on"===e)).map((([e])=>e)),i=Object.entries(c).filter((([,e])=>"on"===e)).map((([e])=>e)),l={categories:[...t],tags:[...i]};(0,s.isEmpty)(n)||(l.categories=[...l.categories,...n.split(",").map((e=>e.trim()))]),(0,s.isEmpty)(a)||(l.tags=[...l.tags,...a.split(",").map((e=>e.trim()))]);const u=new FormData;u.append("post",f),u.append("context","et_builder"),u.append("content","layout"===W?(0,Gr.serializeModuleFlatObjects)(w,"root","layout"):(0,Gr.serializeModuleFlatObjects)(w)),u.append("global_colors",JSON.stringify(b)),u.append("global_variables",JSON.stringify(S)),Zr(u).then((t=>{const n={content:JSON.stringify(t),title:e,status:"publish",width:y.includes("divi/fullwidth")?"fullwidth":"regular"},i=Hr(M,m),a=new Promise((t=>{!function(e,t={},r={},n=!1,i=0,a="",o=0){Br().then((l=>{const c=(0,s.get)(l,"accessToken","");if(""===c)return n&&n({error:"auth_error"}),new Promise((e=>e({error:"auth_error"})));const d=(0,s.get)(l,"sharedFolders",[]),u=(0,s.find)(d,["id",o]);return u&&!a&&(a=`${u.endpoint}/cloud/v1`),Vr(c,e,t,r,n,i,a)})).catch((e=>(n&&n({error:e}),{error:e})))}(W,n,l,((n,a="")=>{if(n.error)I({error:n.error});else if((0,d.dispatch)("divi/cloud-app").setCloudToken(a),p.length){t(rn(w,W,p,r,{layout_name:e,termsData:l,providedBaseUrl:i,selectedCloudFolderId:M},!0))}else t("No individual items to save.")}),0,i,M)}));a.then((()=>{(0,d.dispatch)("divi/app-ui").setGlobalPreload(!1)})).catch((e=>{console.error(e)}))})).catch((e=>{console.error(e)}))}else{const t=i.filter((e=>"on"===o[e.name])).map((e=>e.term_id)).asMutable(),s=l.filter((e=>"on"===c[e.name])).map((e=>e.term_id)).asMutable();g.append("layout_selected_cats",String(t)),g.append("layout_selected_tags",String(s)),(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/create-item",data:g},!0).then((i=>{D();const o=((e,t)=>zr(e,t.updatedTerms.layout_category))(n,i),l=((e,t)=>zr(e,t.updatedTerms.layout_tag))(a,i);if(p.length){const n={layout_name:e,layout_selected_cats:String([...t,...o]),layout_selected_tags:String([...s,...l]),post_type:(0,d.select)("divi/settings").getSetting(["post","type"]),layout_scope:h};new Promise((e=>{e(rn(w,W,p,r,n).catch((e=>{console.error(e)})))})).then((()=>{(0,d.dispatch)("divi/app-ui").setGlobalPreload(!1)})).catch((e=>{console.error(e)}))}if("non_global"===h)return;const c=i?.layoutData?.post_id?.toString()??"";Yr({moduleId:r,templateId:c,content:w,children:v?.asMutable()??[]})})).catch((e=>{console.log(e)})).finally((()=>{(0,d.dispatch)("divi/app-ui").setGlobalPreload(!1)}))}(0,d.dispatch)("divi/modal-library").close({name:"divi/add-to-library"})},onCancelClick:()=>{N(!1),x("off"),(0,d.dispatch)("divi/modal-library").close({name:"divi/add-to-library"})},onHelpClick:()=>{(0,d.dispatch)("divi/help").setCurrentListName("divi/save-to-library"),(0,d.dispatch)("divi/help").setCurrentVideo(0),(0,d.dispatch)("divi/modal-library").open({name:"divi/help"})},topWindowHeight:u,modalDimension:v,modalOffset:y,cloudFetchInProgressStatus:g,cloudId:S,cloudLibraryOptions:Ur(m),cloudStatus:k,isUserLoggingIn:F,selectedCloudFolderId:M,onDomainTokenGenerated:e=>{if((0,s.has)(e,"divi_cloud_token")){const t=function(e,t){const r=e.match(/.{1,2}/g).map((e=>parseInt(e,16))).map((e=>(e=>e.split("").map((e=>e.charCodeAt(0))))(t).reduce(((e,t)=>e^t),e))).map((e=>String.fromCharCode(e)));return r.join("")}((0,s.get)(e,"divi_cloud_token"),S),r=1===(0,s.get)(e,"save_session_on_this_website",0);I({error:""}),(0,d.dispatch)("divi/cloud-app").setCloudToken(t),function(e,t=!1){return Br(e,t)}(t,r).then((e=>{e.error?I({error:e.error}):((0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("sharedFolders",!0),(0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("cloud_category",!0),(0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("cloud_tag",!0),Br().then((e=>{const t=(0,s.get)(e,"accessToken","");if(""===t);else{const r=(0,s.get)(e,"sharedFolders",[]);(0,d.dispatch)("divi/cloud-app").setCloudFolders(r),(0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("sharedFolders",!1);const n=Hr(M,r);Rr({type:"categoriesList",perPage:100,pageNo:1,isUserItems:!0,token:t,providedBaseUrl:n}).then((e=>{e.error||(0,d.dispatch)("divi/cloud-app").setCloudTerms("cloud_category",e.data),(0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("cloud_category",!1)})),Rr({type:"tagsList",perPage:100,pageNo:1,isUserItems:!0,token:t,providedBaseUrl:n}).then((e=>{e.error||(0,d.dispatch)("divi/cloud-app").setCloudTerms("cloud_tag",e.data),(0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("cloud_tag",!1)}))}})),N(!1))}))}},updateCloudStatus:e=>{N(!1),I(e)},updateSaveToDiviCloudOption:e=>{N(!1),x(e)},updateSelectedCloudFolderId:e=>{A(e)},sectionsCount:T,rowsCount:O,modulesCount:P};return(0,o.createElement)(pt,K)},on={component:an,dimension:dt,name:"divi/add-to-library",label:nn,type:"multiInstanceModal",autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal",canBeSavedOnWorkspace:!1},ln=({name:e,children:t,footerButtons:r=[],title:n=(0,a.__)("Alert","et_builder"),centered:i=!1})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--alert",componentName:"et-vb-divi-modals--alert"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:e,centered:i,snappable:!0,draggable:!0,resizable:!0,expandable:!0},l().createElement(p.Header,{name:n}),l().createElement(p.BodyContainer,null,l().createElement(p.Panel,{id:"alert",opened:!0},t)),l().createElement(p.Footer,{buttons:r})))),sn="divi/alert",cn={name:"close",label:(0,a.__)("Close","et_builder"),onClick:e=>{e.preventDefault(),(0,d.dispatch)("divi/modal-library").close({name:sn})}},dn=()=>{const{attributes:e}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/alert",property:"attributes"})})));return l().createElement(ln,{name:sn,title:e?.title,footerButtons:e?.footerButtons||[cn],centered:e?.centered},e?.content)},un=(0,a.__)("Alert","et_builder"),pn={name:sn,label:un,type:"multiInstanceModal",component:dn},mn="divi/attribute-editor",hn={id:"",name:"",value:"",adminLabel:"",targetElement:"main"},gn=({currentAttribute:e,fieldErrors:t,fieldErrorMessages:r,targetElementOptions:n,onNameChange:i,onNameBlur:s,onNameKeyDown:c,onValueChange:m,onAdminLabelChange:h,onTargetElementChange:g,onNameReset:f,onValueReset:b,onAdminLabelReset:v,onTargetElementReset:y,activeDynamicContentField:w,setActiveDynamicContentField:_,moduleId:E,colorMode:C})=>{const x=(0,o.useMemo)((()=>({attrName:"value",fieldComponent:{name:"divi/text",props:{}},features:{dynamicContent:{type:"text"}},defaultValue:""})),[]),{handleValueChange:S,renderDynamicContentUI:k}=(({moduleId:e,currentValue:t,activeDynamicContentField:r,setActiveDynamicContentField:n,onValueChange:i})=>{const a=(0,o.useCallback)((e=>{const t="object"==typeof e&&e&&"inputValue"in e?e.inputValue:e;"string"==typeof t&&i({inputValue:t})}),[i]),s=(0,o.useRef)(null),c=(0,d.useSelect)((t=>e?t("divi/edit-post").getModuleName(e):""),[e]),u=((0,o.useMemo)((()=>({moduleId:e||"",moduleName:c||""})),[e,c]),(0,o.useMemo)((()=>({type:"text"})),[])),p=(0,o.useMemo)((()=>({data:{}})),[]),m="attribute-value"===r,h=(0,o.useCallback)((()=>{n((e=>"attribute-value"===e?null:"attribute-value"))}),[n]),g=(0,o.useCallback)((e=>{"string"==typeof e.inputValue&&a(e.inputValue)}),[a]),f=(0,o.useCallback)((()=>l().createElement(ae.DynamicContentUI,{isOptionsActive:m,setOptions:h,initialValue:t||"",onChange:g,dynamicContentSettings:u,cssProperty:"all",additionalDCProps:p,fieldRef:s})),[m,h,t,g,u,p,s]);return{handleValueChange:a,renderDynamicContentUI:f}})({fieldInfo:x,moduleId:E,currentValue:e.value||"",activeDynamicContentField:w,setActiveDynamicContentField:_,onValueChange:m});return l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--attribute-editor"},l().createElement(p.WrapperContainer,{modalName:mn,draggable:!0,expandable:!0,resizable:!0,clampVerticalOffset:!0,colorMode:C},l().createElement(p.Header,{name:(0,a.__)("Edit Attribute","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"attribute-editor",opened:!0},l().createElement("div",{className:"et-vb-attribute-editor-modal-form"},l().createElement(p.FieldWrapper,{label:(0,a.__)("Admin Label","et_builder"),description:(0,a.__)("Optional label for identification","et_builder"),id:"admin-label",enableReset:Boolean(e.adminLabel),onReset:v},l().createElement(M.Text,{name:"admin-label",value:e.adminLabel||"",onChange:h,defaultValue:""})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Target Element","et_builder"),description:(0,a.__)("Select which element to apply this attribute to","et_builder"),id:"target-element",enableReset:Boolean(e.targetElement&&"main"!==e.targetElement),onReset:y},l().createElement(M.Select,{name:"target-element",value:e.targetElement||"main",onChange:g,options:n.reduce(((e,t)=>(e[t.value]={label:t.label},e)),{}),defaultValue:"main"})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Attribute Name","et_builder"),description:(0,a.__)("The HTML attribute name (e.g., class, data-custom)","et_builder"),id:"attribute-name",enableReset:Boolean(e.name),onReset:f},l().createElement(M.Text,{name:"attribute-name",value:e.name||"",onChange:i,onBlur:s,onKeyDown:c,defaultValue:"",className:t.includes("name")?"et-vb-field-input-error":""}),t.includes("name")&&r.name&&l().createElement(M.Warning,{name:"attribute-name-error",value:r.name})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Attribute Value","et_builder"),description:(0,a.__)("The value for this attribute (e.g., my-class, custom-value)","et_builder"),id:"attribute-value",enableReset:Boolean(e.value),onReset:b,additionalButtons:k},l().createElement(ge,{name:"attribute-value",value:e.value||"",onChange:S,fieldInfo:x,setActiveDynamicContentField:_,activeDynamicContentField:w,fieldKey:"attribute-value"})))))))};var fn=window.divi.globalData;const bn=()=>{const e=(0,d.useSelect)((e=>e("divi/modal-library").getModalProperty({modalName:"divi/attribute-editor",property:"attributes"})),[]),{attribute:t,prefilledName:r,moduleMetadata:n,moduleId:i,colorMode:a}=e,{presetContext:l}=(0,M.useAttributeEditorData)(i),{editPresetAttribute:s}=(0,d.useDispatch)("divi/global-data"),{editModuleAttribute:c}=(0,d.useDispatch)("divi/edit-post"),u=(0,d.useSelect)((e=>{if(!i)return[];const t=(e("divi/edit-post").getModule(i)?.props?.attrs||{}).module?.decoration?.attributes,r=t?.desktop?.value||{attributes:[]};return r?.attributes&&Array.isArray(r.attributes)?r.attributes:[]}),[i]),p=(0,M.getAttributesForEditing)(u,l),m=(e=>{const t=[],r=new Set;return e?.attributes&&Object.entries(e.attributes).forEach((([e,n])=>{if(n&&"object"==typeof n&&n.selector){const i=n,{selector:a,supportsCustomAttributes:o,label:l}=i;if("module"!==e&&"{{selector}}"!==a&&!/^\{\{selector\}\}(\.[a-zA-Z_][a-zA-Z0-9_-]*)?$/.test(a)&&!0!==o)return;if("string"!=typeof a)return;if("module"===e)r.has("main")||(t.push({value:"main",label:"Module"}),r.add("main"));else{const r=("string"==typeof l?l:null)||(0,Y.camelCaseToLabel)(e);t.push({value:e,label:r})}}})),t})(n),[h,g]=(0,o.useState)({currentAttribute:t||hn}),{fieldErrors:f,fieldErrorMessages:b,clearFieldError:v,setFieldError:y,clearAllErrors:w}=(()=>{const[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)({}),i=(0,o.useCallback)((r=>{e.includes(r)&&(t((e=>e.filter((e=>e!==r)))),n((e=>{const t={...e};return delete t[r],t})))}),[e]),a=(0,o.useCallback)(((e,r)=>{t((t=>[...t.filter((t=>t!==e)),e])),n((t=>({...t,[e]:r})))}),[]),l=(0,o.useCallback)((()=>{t([]),n({})}),[]);return{fieldErrors:e,fieldErrorMessages:r,clearFieldError:i,setFieldError:a,clearAllErrors:l}})(),[_,E]=(0,o.useState)(null);(0,o.useEffect)((()=>{const e=t?{...hn,...t}:{...hn,id:(0,fn.generateNanoUuid)(),...r&&{name:r}};g((t=>({...t,currentAttribute:e}))),w()}),[t,r,w]);const C=(0,o.useCallback)((e=>{if(!e.name?.trim())return;const t=(0,M.validateAttributeName)(e.name);if(t)return void y("name",t);w();const r=(e=>e.value&&(0,Y.isDynamicData)(e.value)?{...e,name:(0,Y.sanitizeAttributeName)(e.name||"")}:(0,M.sanitizeAttribute)(e))(e),n=l.isInPresetEditingMode?p:u,a=n.findIndex((e=>e.id===r.id)),o=a>=0?n.map(((e,t)=>t===a?r:e)):[...n,r];if(l.isInPresetEditingMode)(({attributesValue:e,presetContext:t,editPresetAttribute:r})=>{if(!t.isInPresetEditingMode||!t.presetType||!t.presetId)return;const n="module.decoration.attributes";"module"===t.presetType?r({presetType:"module",presetSubType:t.presetModuleName,presetId:t.presetId,attrName:n,attrValue:e,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]}):"group"===t.presetType&&t.groupName&&r({presetType:"group",presetSubType:t.groupName,presetId:t.presetId,attrName:n,attrValue:e,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})})({attributesValue:{attributes:o},presetContext:l,editPresetAttribute:s});else{const e="module.decoration.attributes",t=(0,d.select)("divi/edit-post").getModuleAttr(i,e).setIn(["desktop","value","attributes"],o);c({id:i,attrName:e,value:t,subName:"attributes"})}}),[l,p,u,s,c,i]),x=(0,o.useCallback)((e=>t=>{const r={...h.currentAttribute,[e]:t.inputValue};if(g((e=>({...e,currentAttribute:r}))),"name"===e){v("name");!(0,M.validateAttributeName)(t.inputValue)&&t.inputValue.trim()&&C(r)}else C(r)}),[h.currentAttribute,v,C]),S=(0,o.useCallback)(((e,t)=>ee(h.currentAttribute[e],(()=>{g((r=>{const n={...r.currentAttribute,[e]:t};return"name"!==e&&C(n),{...r,currentAttribute:n}}))}))),[h.currentAttribute,C]),k=(0,o.useCallback)((()=>{const e=(0,M.validateAttributeName)(h.currentAttribute.name);e?y("name",e):v("name")}),[h.currentAttribute.name,y,v]),I=(0,o.useCallback)(x("name"),[x]),A=(0,o.useCallback)(x("value"),[x]),F=(0,o.useCallback)(x("adminLabel"),[x]),N=(0,o.useCallback)(x("targetElement"),[x]),T=(0,o.useCallback)(S("name",""),[S]),O=(0,o.useCallback)(S("value",""),[S]),P=(0,o.useCallback)(S("adminLabel",""),[S]),D=(0,o.useCallback)(S("targetElement","main"),[S]),L=(0,o.useCallback)((e=>{"Enter"===e.key&&k()}),[k]);return(0,o.createElement)(gn,{currentAttribute:h.currentAttribute,fieldErrors:f,fieldErrorMessages:b,targetElementOptions:m,onNameChange:I,onNameBlur:k,onNameKeyDown:L,onValueChange:A,onAdminLabelChange:F,onTargetElementChange:N,onNameReset:T,onValueReset:O,onAdminLabelReset:P,onTargetElementReset:D,activeDynamicContentField:_,setActiveDynamicContentField:E,moduleId:i,colorMode:a})},vn={autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal",component:bn,label:"Attribute Editor",name:mn,type:"multiInstanceModal",attributesMergeStrategy:"replace",sidebarPosition:!1,dimensionMinimum:{width:280,height:340}},yn=({breakpointsStoreState:e,breakpointsState:t})=>{let r=!1,n=!1;(0,s.forEach)(t,((t,i)=>{const a=e?.[i]?.enable,o=t?.enable;a!==o&&(o&&(r=!0),o||(n=!0))}));let i=(0,a.__)("Updating breakpoints will take affect across your entire website.","et_builder");return r&&n?i=(0,a.__)("Updating breakpoints will affect take affect across your entire website. When disabling a breakpoint, its styles will be stored for posterity. When enabling a breakpoint, any existing styles for that breakpoint will be restored.","et_builder"):r?i=(0,a.__)("Updating breakpoints will take affect across your entire website. When enabling a breakpoint, any existing styles for that breakpoint will be restored.","et_builder"):n&&(i=(0,a.__)("Updating breakpoints will take affect across your entire website. When disabling a breakpoint, its styles will be stored for posterity.","et_builder")),i},wn=e=>{const t={};return(0,s.forEach)(e,(e=>{e.baseDevice||(t[e.name]={},"minWidth"in e&&(t[e.name].minWidth={value:e.minWidth.value}),"maxWidth"in e&&(t[e.name].maxWidth={value:e.maxWidth.value}),"enable"in e&&(t[e.name].enable=e.enable))})),t},_n=!1,En=({onClickCancel:e,onClickSave:t,breakpointsStoreState:r,isSaving:n})=>{const[i,c]=(0,o.useState)((0,s.cloneDeep)(r)),[d,m]=(0,o.useState)(!1),h=(e=>{const t=Object.values(e);return t.sort(((e,t)=>e.order-t.order)),t})(r),g=(0,o.useCallback)((0,s.debounce)((({name:e,value:t,type:r})=>{const n="desktop",a=h.findIndex((t=>t.name===e));let o=h?.[a-1]?.name,l=h?.[a+1]?.name;n===o&&(o=h?.[a-2]?.name),n===l&&(l=h?.[a+2]?.name);const d=i?.[o]?.maxWidth?.value??i?.[o]?.minWidth?.value??i?.[o]?.maxWidth?.default??i?.[o]?.minWidth?.default,u=i?.[l]?.minWidth?.value??i?.[l]?.maxWidth?.value??i?.[l]?.minWidth?.default??i?.[l]?.maxWidth?.default,p="number"==typeof d?d:parseInt(d),m="number"==typeof u?u:parseInt(u);let g=parseInt(t);(0,s.isNaN)(g)&&(g=0),g<=p&&(g=p+1),l&&g>=m&&(g=m-1);const f={...i};f[e][r].value=`${g}px`,c(f)}),1e3),[]),f=({name:e,value:t,type:r})=>{const n={...i};n[e][r].value=t,c(n),g.cancel(),""!==t&&g({name:e,value:t,type:r})};return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modal--breakpoint-settings",componentName:"et-vb-divi-modal--breakpoint-settings"},l().createElement(p.WrapperContainer,{dimension:{width:280,height:460},modalName:"divi/breakpoints-settings"},l().createElement(p.Header,{name:(0,a.__)("Sitewide Responsive Breakpoints","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"breakpoint-settings",opened:!0},l().createElement("div",{className:"et-vb-breakpoint-settings-options-wrapper"},h.map((e=>{const t=e.name,r="desktop"===t,n=i?.[t]?.enable,s=i?.[t]?.minWidth?.value,d=i?.[t]?.maxWidth?.value;return l().createElement("div",{className:me()({"et-vb-breakpoint-settings-option":!0,[`et-vb-breakpoint-settings-option--${t}`]:!0,"et-vb-breakpoint-settings-option--enabled":n,"et-vb-breakpoint-settings-option--disabled":!n}),key:`et-vb-breakpoint-settings-option--${t}`},l().createElement("div",{className:"et-vb-breakpoint-settings-option-icon"},l().createElement(ie.IconSvg,{name:e?.icon?.name??"divi/desktop",size:14,viewBox:e?.icon?.viewBox??"0 0 28 28",color:n?"var(--dark-gray)":"var(--medium-gray)",iconComponentProps:{color:n?"var(--dark-gray)":"var(--medium-gray)"}})),l().createElement("div",{className:"et-vb-breakpoint-settings-option-label"},e.label),e.baseDevice&&l().createElement("div",{className:"et-vb-breakpoint-settings-option-base-device"},(0,a.__)("Base Device","et_builder")),!e.baseDevice&&l().createElement(o.Fragment,null,e?.minWidth?.default?l().createElement(o.Fragment,null,l().createElement("span",{className:"et-vb-breakpoint-settings-option-operator",style:{opacity:e?.minWidth?.default?1:.4}},">"),l().createElement("div",{className:"et-vb-breakpoint-settings-option-input",style:{opacity:e?.minWidth?.default?1:.4}},l().createElement(M.Text,{name:`breakpoint-setting-input-min-width--${t}`,onChange:({inputValue:e})=>{f({name:t,value:e,type:"minWidth"})},value:s,readonly:!n,showPlaceholderOnEmpty:!0,defaultValue:`${e?.minWidth?.default}px`,onBlur:r=>{""===r.target.value&&f({name:t,value:`${e?.minWidth?.default}px`,type:"minWidth"})}}))):_n,e?.maxWidth?.default?l().createElement(o.Fragment,null,l().createElement("span",{className:"et-vb-breakpoint-settings-option-operator",style:{opacity:e?.maxWidth?.default?1:.4}},"<"),l().createElement("div",{className:"et-vb-breakpoint-settings-option-input",style:{opacity:e?.maxWidth?.default?1:.4}},l().createElement(M.Text,{name:`breakpoint-setting-input-max-width--${t}`,onChange:({inputValue:e})=>{f({name:t,value:e,type:"maxWidth"})},value:d,readonly:!n,showPlaceholderOnEmpty:!0,defaultValue:`${e?.maxWidth?.default}px`,onBlur:r=>{""===r.target.value&&f({name:t,value:`${e?.maxWidth?.default}px`,type:"maxWidth"})}}))):_n,l().createElement("div",{className:"et-vb-breakpoint-settings-option-toggle"},l().createElement(M.Toggle,{name:`breakpoint-setting-toggle--${t}`,onChange:()=>{(({name:e,enable:t})=>{const r={...i};r[e].enable=t,c(r)})({name:t,enable:!n})},value:n?"on":"off",readonly:r}))))}))))),l().createElement(p.Footer,{buttons:[{name:"cancel",label:(0,a.__)("Cancel","et_builder"),onClick:e},{name:"save",buttonColor:"primary",label:(0,a.__)("Save","et_builder"),onClick:()=>{!(0,s.isEqual)(r,i)?m(!0):e()}}]}),d&&l().createElement("div",{className:"et-vb-breakpoint-settings-modal-saving-confirmation-overlay"},l().createElement(p.Footer,{message:yn({breakpointsStoreState:r,breakpointsState:i}),buttons:[{name:"cancel",label:(0,a.__)("Cancel","et_builder"),onClick:()=>{m(!1)}},{name:"save",buttonColor:"primary",label:n?(0,a.__)("Saving...","et_builder"):(0,a.__)("Update","et_builder"),disabled:n,onClick:()=>{t({items:wn(i)})}}]}))))},Cn={name:"divi/breakpoints-settings",label:(0,a.__)("Sitewide Responsive Breakpoints","et_builder"),type:"multiInstanceModal",component:()=>{const[e,t]=(0,o.useState)(!1),{breakpointsStoreState:r}=(0,d.useSelect)((e=>({breakpointsStoreState:e("divi/settings").getSetting(["breakpoints","items"])})));return l().createElement(En,{breakpointsStoreState:r?.asMutable({deep:!0}),onClickCancel:()=>{(0,d.dispatch)("divi/modal-library").close({name:"divi/breakpoints-settings"})},onClickSave:e=>{(0,d.dispatch)("divi/settings").updateBreakpointsSettings({...e,onSyncSuccess:()=>{t(!1);const e=(0,d.select)("divi/settings").getSetting(["breakpoints","items"])?.asMutable({deep:!0});(0,d.dispatch)("divi/app-ui").updateViews({breakpoints:e});const r=(0,d.select)("divi/app-ui").getView();if(!(0,d.select)("divi/settings").getEnabledBreakpointNames().includes(r)&&"wireframe"!==r){const e=(0,d.select)("divi/settings").getBaseBreakpointName();Ne()("html").attr("data-et-app-view",e),(0,d.dispatch)("divi/app-ui").setView(e)}(0,d.dispatch)("divi/modal-library").close({name:"divi/breakpoints-settings"})}}),t(!0)},isSaving:e})},autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-page-bar-responsive-button--active"};var xn=window.divi.appPreferences;const Sn=e=>{const{onChange:t,inputValue:r}=e;t(["modal","preference"],r);const n=(0,d.select)("divi/modal-library").isModalActive("divi/module")?"divi/module":!!(0,d.select)("divi/modal-library").isModalActive("divi/page-settings")&&"divi/page-settings",i=!!(0,s.includes)(["left","right"],r)&&e.inputValue;if((0,d.dispatch)("divi/modal-library").setSidebarPosition({name:"divi/module",sidebarPosition:i}),(0,d.dispatch)("divi/modal-library").setSidebarPosition({name:"divi/page-settings",sidebarPosition:i}),"string"==typeof n){const t=(0,d.select)("divi/app-ui").getSidebarModalInfo(n);if(t?.active){if("right"===e.inputValue&&"sidebarRight"===t.sidebarName)return;if("left"===e.inputValue&&"sidebarLeft"===t.sidebarName)return;(0,d.dispatch)("divi/app-ui").undockModalFromSidebarRow({modalName:n,sidebarRowId:t.sidebarRowId})}switch(e.inputValue){case"right":(0,d.select)("divi/app-ui").isElementVisible("sidebarRight")?(0,d.dispatch)("divi/app-ui").dockModalToSidebarRow({modalName:n,modalType:"singleInstanceModal",newSidebarRowId:_t(),position:"below",sidebarRowId:(0,d.select)("divi/app-ui").getSidebarLastRowId("right")}):(0,d.dispatch)("divi/app-ui").dockModalToSidebar({modalName:n,modalType:"singleInstanceModal",newSidebarRowId:_t(),sidebarName:"sidebarRight"});break;case"left":(0,d.select)("divi/app-ui").isElementVisible("sidebarLeft")?(0,d.dispatch)("divi/app-ui").dockModalToSidebarRow({modalName:n,modalType:"singleInstanceModal",newSidebarRowId:_t(),position:"below",sidebarRowId:(0,d.select)("divi/app-ui").getSidebarLastRowId("left")}):(0,d.dispatch)("divi/app-ui").dockModalToSidebar({modalName:n,modalType:"singleInstanceModal",newSidebarRowId:_t(),sidebarName:"sidebarLeft"});break;case"minimum":default:break;case"saved":{const e=(0,d.select)("divi/settings").getSetting(["workspaces","builtIn","last-used"]);(0,d.dispatch)("divi/app-ui").setWorkspace({workspace:e?.asMutable({deep:!0})});break}}}},kn=e=>{Ne()("html").attr("data-et-app-view",e),(0,d.dispatch)("divi/app-ui").setView(e)},In=({onClick:e})=>l().createElement("button",{type:"button",className:"et-vb-builder-settings-button-reset",onClick:h.handleOnClickFallback,onMouseDown:e},l().createElement("span",{className:"et-vb-builder-settings-button-reset-label"},(0,a.__)("Reset","et_builder")),l().createElement(ie.IconSvg,{name:"divi/reset-field",viewBox:"-3 -3 20 20",size:10})),Mn=({defaults:e,onChangeView:t=s.noop,onChange:r,preferences:n,bodySiblingHeight:i,setElementProperty:o,isThemeBuilder:c})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modal--builder-settings",componentName:"et-vb-divi-modal--builder-settings"},l().createElement(p.WrapperContainer,{dimension:null,offset:null,snappable:!0,expandable:!0,draggable:!0,resizable:!0,centered:!1,modalName:"divi/builder-settings",bodySiblingHeight:i},l().createElement(p.Header,{name:(0,a.__)("Builder Settings","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"builder-settings",opened:!0},l().createElement(p.FieldWrapper,{label:(0,a.__)("Builder Default View Mode","et_builder"),id:"builder-default-view-mode"},l().createElement(M.SelectContainer,{name:"appView",onChange:e=>{r(["app","view"],e.inputValue),t(e.inputValue)},value:n.appView,options:xn.views}),n.appView===e.appView?null:l().createElement(In,{onClick:()=>{r(["app","view"],e.appView),t(e.appView)}})),l().createElement(p.FieldWrapper,{label:(0,a.__)("History State Interval","et_builder"),id:"history-state-interval"},l().createElement(M.SelectContainer,{name:"historyInterval",onChange:e=>{r(["history","interval"],e.inputValue)},value:n.historyInterval,options:xn.historyIntervals}),n.historyInterval===e.historyInterval?null:l().createElement(In,{onClick:()=>r(["history","interval"],e.historyInterval)})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Settings Modal Default Position","et_builder"),id:"settings-modal-default-position"},l().createElement(M.SelectContainer,{name:"modalPreference",onChange:e=>{Sn({onChange:r,inputValue:e.inputValue})},value:n.modalPreference,options:xn.modalPositions}),n.modalPreference===e.modalPreference?null:l().createElement(In,{onClick:()=>Sn({onChange:r,inputValue:e.modalPreference})})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Page Creation Flow","et_builder"),id:"page-creation-flow"},l().createElement(M.SelectContainer,{name:"pageCreationFlowOnStart",onChange:e=>{r(["pageCreationFlow","onStart"],e.inputValue)},value:n.pageCreationFlowOnStart,options:xn.pageCreationFlows}),n.pageCreationFlowOnStart===e.pageCreationFlowOnStart?null:l().createElement(In,{onClick:()=>r(["pageCreationFlow","onStart"],e.pageCreationFlowOnStart)})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Show Disabled Modules At 50% Opacity","et_builder"),id:"show-disabled-modules-at-50-percent-opacity"},l().createElement(M.Toggle,{name:"moduleDisabled",value:"transparent"===n.moduleDisabled?"on":"off",onChange:e=>{r(["module","disabled"],"on"===e.inputValue?"transparent":"hidden")}}),n.moduleDisabled===e.moduleDisabled?null:l().createElement(In,{onClick:()=>r(["module","disabled"],e.moduleDisabled)})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Group Settings Into Closed Toggles","et_builder"),id:"group-settings-into-closed-toggles"},l().createElement(M.Toggle,{name:"modalAlwaysCollapseGroups",value:n.modalAlwaysCollapseGroups?"on":"off",onChange:e=>{r(["modal","alwaysCollapseGroups"],"on"===e.inputValue)}}),n.modalAlwaysCollapseGroups===e.modalAlwaysCollapseGroups?null:l().createElement(In,{onClick:()=>r(["modal","alwaysCollapseGroups"],e.modalAlwaysCollapseGroups)})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Add Placeholder Content To New Modules","et_builder"),id:"add-placeholder-conetnt-to-new-modules"},l().createElement(M.Toggle,{name:"dummyContent",value:n.moduleDummyContent?"on":"off",onChange:e=>{r(["module","dummyContent"],"on"===e.inputValue)}}),n.moduleDummyContent===e.moduleDummyContent?null:l().createElement(In,{onClick:()=>r(["module","dummyContent"],e.moduleDummyContent)})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Interface Mode","et_builder"),id:"interface-mode"},l().createElement(M.SelectContainer,{name:"appColorMode",onChange:e=>{r(["app","colorMode"],e.inputValue)},value:n.appColorMode,options:{light:{name:"light",label:(0,a.__)("Light","et_builder")},dark:{name:"dark",label:(0,a.__)("Dark","et_builder")}}})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Color Scheme","et_builder"),id:"color-scheme"},l().createElement(M.SelectContainer,{name:"appColorScheme",onChange:e=>{r(["app","colorScheme"],e.inputValue)},value:n.appColorScheme,options:{blue:{name:"blue",label:(0,a.__)("Blue","et_builder")},purple:{name:"purple",label:(0,a.__)("Purple","et_builder")},green:{name:"green",label:(0,a.__)("Green","et_builder")},red:{name:"red",label:(0,a.__)("Red","et_builder")},orange:{name:"orange",label:(0,a.__)("Orange","et_builder")}}})),!c&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Enable Admin Bar","et_builder"),id:"enable-admin-bar"},l().createElement(M.Toggle,{name:"toggleAdminBar",value:n.appAdminBar?.visible?"on":"off",onChange:e=>{const t="on"===e.inputValue;r(["app","adminBar"],{visible:t}),o({elementName:"adminBar",propertyGroup:"dimension",propertyName:"height",value:32})}})))))),An=()=>{const{bodySiblingHeight:e,defaults:t,preferences:r,isThemeBuilder:n}=(0,d.useSelect)((e=>({bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/builder-settings",property:"bodySiblingHeight"}),defaults:e("divi/app-preferences").getPreferences({mode:"defaults"}),preferences:e("divi/app-preferences").getPreferences({mode:"preferences"}),isThemeBuilder:e("divi/settings").getSetting(["conditionalTags","is_tb"])})));return(0,o.createElement)(Mn,{bodySiblingHeight:e,defaults:t,onChange:(0,d.dispatch)("divi/app-preferences").set,onChangeView:kn,preferences:r,setElementProperty:(0,d.dispatch)("divi/app-ui").setElementProperty,isThemeBuilder:n})},Fn={component:An,name:"divi/builder-settings",label:(0,a.__)("Builder Settings","et_builder"),type:"multiInstanceModal"},Nn=({name:e,onOptionClick:t,columnsLength:r=0,topWindowHeight:n,adminBarHeight:i,pageBarHeight:o})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--add-module",componentName:"et-vb-divi-modals--add-module"},l().createElement(p.WrapperContainer,{snappable:!1,expandable:!1,caret:!1,caretStaysOnAppWindowClickPosition:!1,modalName:e,dimension:{width:458,height:w({topWindowHeight:n||0,adminBarHeight:i||0,pageBarHeight:o||0,minimumHeight:100,maximumHeight:1300})}},l().createElement(p.Header,{name:(0,a.__)("Choose Layout","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"choose-column",opened:!0},l().createElement(Me,{onChange:t,layoutType:"row",excludeCategories:["multi-column-grids"],columnsLength:r}))))),Tn=e=>{const{owner:t}=e,{isFlexLayout:r,isGridLayout:n,columnsLength:i,topWindowHeight:a,adminBarHeight:l,pageBarHeight:c}=(0,d.useSelect)((e=>{const r=e("divi/edit-post").getModule(t),n=(0,s.get)(r,"props.attrs.module.decoration.layout.desktop.value.display","flex");return{isFlexLayout:"flex"===n,isGridLayout:"grid"===n,columnsLength:r?.children?.length||0,topWindowHeight:e("divi/app-ui").getWindow("height","top"),adminBarHeight:e("divi/app-ui").getElementProperty({elementName:"adminBar",propertyGroup:"dimension",propertyName:"height"}),pageBarHeight:e("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"})}}));return(0,o.createElement)(Nn,{...e,onOptionClick:e=>{e.preventDefault();const i=e.currentTarget?.getAttribute("data-column-layout");if(!i)return;const a=i.split("_");if(2!==a.length)return;if(!["equal-columns","offset-columns","multi-row-grids","multi-column-grids","css-grid-grids","masonry-grids","sidebar-grids"].some((e=>e===a[0])))return;const o=i,l=i.startsWith("css-grid-grids_")||i.startsWith("masonry-grids_")||i.startsWith("sidebar-grids_"),s=i.startsWith("multi-row-grids_"),c=i.startsWith("equal-columns_")||i.startsWith("offset-columns_")||i.startsWith("multi-column-grids_");l?(0,d.dispatch)("divi/edit-post").changeGridColumnStructure({id:t,value:o,breakpoint:"desktop",state:"value",context:"choose-column-modal"}):s||c||r?(0,d.dispatch)("divi/edit-post").changeFlexColumnStructure({id:t,value:o,breakpoint:"desktop",state:"value",context:"choose-column-modal"}):n?(0,d.dispatch)("divi/edit-post").changeGridColumnStructure({id:t,value:o,breakpoint:"desktop",state:"value",context:"choose-column-modal"}):(0,d.dispatch)("divi/edit-post").changeColumnStructure(t,i,"user","choose-column-modal"),(0,d.dispatch)("divi/modal-library").close({name:"divi/choose-column"}),(0,d.dispatch)("divi/modal-library").open({name:"divi/module",owner:t})},isFlexLayout:r,isGridLayout:n,columnsLength:i,topWindowHeight:a,adminBarHeight:l,pageBarHeight:c})},On={name:"divi/choose-column",label:(0,a.__)("Choose Column","et_builder"),type:"multiInstanceModal",component:Tn,autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal, .et-vb-module-options-button",canBeSavedOnWorkspace:!1},Pn={width:280,height:168},Dn=({onClearClick:e})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modal--clear-layout",componentName:"et-vb-divi-modal--clear-layout"},l().createElement(p.WrapperContainer,{modalName:"divi/clear-layout",snappable:!0,expandable:!0,draggable:!0,dimension:Pn},l().createElement(p.Header,{name:(0,a.__)("Clear Layout","et_builder")}),l().createElement("div",{className:"et-vb-divi-modal-message"},(0,a.__)("All of your current page content will be lost. Do you wish to proceed?","et_builder")),l().createElement(p.Footer,{buttons:[{name:"clear-layout",label:(0,a.__)("Yes","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:e}]}))),Ln=(0,a.__)("Clear Layout","et_builder"),Rn={component:()=>(0,o.createElement)(Dn,{onClearClick:e=>{e.preventDefault(),(0,d.dispatch)("divi/modal-library").close({name:"divi/module"}),(0,d.dispatch)("divi/modal-library").close({name:"divi/module-shortcode"}),(0,d.dispatch)("divi/edit-post").clearLayout(),(0,d.dispatch)("divi/modal-library").close({name:"divi/clear-layout"})}}),dimension:Pn,name:"divi/clear-layout",label:Ln,type:"multiInstanceModal",autoCloseOnClickOutside:!0};var Vn=window.divi.conversion;const Bn=e=>{const{onChange:t,onReset:r,defaultValue:n,value:i,mode:c,isGlobal:h,disableGlobalColorIds:g=[],isFilterToggleable:f,showGlobalColors:b,globalColorId:v,colorMode:y}=e,[w,_]=(0,o.useState)(i),[E,C]=(0,o.useState)(null),[x,S]=(0,o.useState)("grid"),[k,I]=(0,o.useState)(!1),[A,F]=(0,o.useState)(!1),[N,T]=(0,o.useState)(!1);(0,o.useEffect)((()=>{C(w?.replace("var(--","").replace(")",""))}),[w]);const{globalColors:O}=(0,d.useSelect)((e=>({globalColors:e("divi/global-data").getGlobalColorsByStatus("active")}))),P=Object.entries(O).map((([e,t])=>{const r=!g.includes(e);return{id:e,name:t.label||t.color,value:t.color,color:t.color,label:t.label||t.color,params:{hex:t.color},tooltipContent:r?t.label||t.color:e===v?(0,a.__)("A global color can't equal itself","et_builder"):(0,a.__)("This would create an infinite loop","et_builder"),enabled:r}})),D=(e,r)=>{if("dynamic-content"===r)T(!0),t(e);else if("color-picker"===r){if(N)return void T(!1);t(e)}_(e?.inputValue),A?I(!1):F(!0)},L=h?(0,a.__)("Filter Global Color","et_builder"):(0,a.__)("Color Picker","et_builder");return l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--color-picker"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:"divi/color-picker",draggable:!0,expandable:!0,resizable:!0,clampVerticalOffset:!0,colorMode:y},l().createElement(p.Header,{name:L}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"color-picker",opened:!0},l().createElement("div",{className:"et-vb-color-picker-modal-full-color-picker-wrapper"},l().createElement(M.ColorPickerContainer,{defaultValue:n,onChange:e=>D(e,"color-picker"),onReset:r,value:w,mode:c,isGlobal:h,isFilterToggleable:f,onChipClick:()=>{I(!k),F(!1)},onPreviewButtonClick:s.noop}),k&&l().createElement(ae.DynamicContentUI,{cssProperty:"color",dynamicContentSettings:{type:"color"},initialValue:w,onChange:e=>D(e,"dynamic-content"),disableGlobalColorIds:g,isOptionsActive:k,setOptions:()=>{I(!k)},selfClose:!1,additionalDCProps:null,fieldRef:null}),(!h||b)&&l().createElement(o.Fragment,null,l().createElement(M.ColorPickerDivider,null),l().createElement("div",{className:"et-vb-color-picker-modal-global-colors-wrapper"},l().createElement(m.ItemViewer,{title:(0,a.__)("Global Colors","et_builder"),items:P,view:x,onViewChange:S,onAddItem:()=>{(0,d.dispatch)("divi/modal-library").open({name:"divi/manage-global-variable",dimension:{width:420,height:400},attributes:{initialOpenGroupId:"colors"}}),(0,d.dispatch)("divi/modal-library").close({name:"divi/color-picker"}),(0,d.dispatch)("divi/global-data").addGlobalVariable({label:"",value:"",groupKey:"colors"})},onMore:()=>{(0,d.dispatch)("divi/modal-library").open({name:"divi/manage-global-variable",dimension:{width:420,height:400},attributes:{initialOpenGroupId:"colors"}}),(0,d.dispatch)("divi/modal-library").close({name:"divi/color-picker"})},onClickItem:({id:e})=>{const r=(0,Vn.formatDynamicContent)(e,{},"color");_(r),(0,d.dispatch)("divi/modal-library").close({name:"divi/color-picker"}),t({inputValue:r})},renderPreview:e=>((e,t)=>{const r=(0,fn.processGlobalVariableColor)(e.value),n=(0,M.parseValueIntoState)(r),i="css-var"===n?.type?`var(--${n?.value?.label})`:`#${n?.value?.label}`,a=(0,s.isNumber)(n?.value?.opacity)?n?.value?.opacity:100,o=n?.relativeHSL?.value,c="grid"===t?24:16;return l().createElement(M.ColorRenderPreview,{size:c,baseColor:i,hsl:o,opacity:a,globalVariable:!0})})(e,x),renderTitle:e=>String(e.name),renderValue:e=>{const t=(0,M.parseValueIntoState)(e.value),r=e?.color;let n=`#${t?.value?.label}`,i=t.value.opacity;if((0,fn.isGlobalVariableValue)(r,"color")){const e=(0,Y.parseDynamicData)(r);if(e&&"value"in e){const t=e.value?.name;if(t){const r=(0,d.select)("divi/global-data").getGlobalColorById(t);r?.label&&(n=r.label),e.value?.settings?.opacity&&(i="number"==typeof e.value.settings.opacity?e.value.settings.opacity:parseFloat(e.value.settings.opacity))}}}return 100===i?n:`${n} / ${i}%`},addItemLabel:(0,a.__)("Add Global Color","et_builder"),moreLabel:(0,a.__)("Manage Global Colors","et_builder"),selectedId:E,gridPreviewSize:24,listPreviewSize:16})))))))))},jn="divi/color-picker",qn=()=>{const{attributes:e}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:jn,property:"attributes"})}))),{onChange:t,onReset:r,defaultValue:n,value:i,mode:a,isGlobal:o,disableGlobalColorIds:s,isFilterToggleable:c,showGlobalColors:u,globalColorId:p,colorMode:m}=e;return l().createElement(Bn,{onChange:t,onReset:r,defaultValue:n,value:i,mode:a,isGlobal:o,disableGlobalColorIds:s,isFilterToggleable:c,showGlobalColors:u,globalColorId:p,colorMode:m})},Wn={autoCloseOnClickOutside:!0,component:qn,label:(0,a.__)("Color Picker","modal-library"),name:jn,type:"multiInstanceModal",attributesMergeStrategy:"replace",dimensionMinimum:{height:340},skipGlobalModuleUnsavedChangesConfirmation:!0};var Gn=window.vendor.wp.compose;const Hn=e=>{const{autofocus:t,autocomplete:r,className:n,defaultValue:i,name:a,onBlur:c,onChange:u,onFocus:p,onKeyDown:m,readonly:h,renderAfter:g=(()=>null),renderBefore:f=(()=>null),showPlaceholderOnEmpty:b,value:v}=e,y=(0,o.useRef)(null);(0,o.useEffect)((()=>{t&&y.current&&setTimeout((()=>y.current.focus()),250)}),[]);const w=me()({"et-vb-field-input":!0,"et-vb-field-input-text":!0},n);let _=""!==v?i:"";b&&(_=i);return l().createElement("div",{className:"et-vb-field-input-text-wrap"},(0,s.isFunction)(f)?f(v):null,l().createElement("input",{type:"text",ref:y,id:`et-vb-field-input-text-${a}`,name:`et-vb-field-input-text-${a}`,value:(0,s.isNil)(v)?"":v,onChange:s.noop,readOnly:h,placeholder:_,autoComplete:r,onInput:e=>{const t=e.target.value;u({inputValue:t})},onKeyDown:m,className:w,onFocus:p,onBlur:c,onContextMenu:e=>{e.stopPropagation(),(0,d.dispatch)("divi/right-click-options").unset()}}),(0,s.isString)(g)?l().createElement("span",{className:"et-vb-input-field-render-after"},g):null,(0,s.isFunction)(g)?g(v):null)};Hn.defaultProps={className:"",onBlur:s.noop,onFocus:s.noop,onkeydown:s.noop,defaultValue:null,autofocus:!1,readonly:!1};const Un="divi/text";Hn.fieldName=Un;const $n=e=>{const{filteredHoverIndex:t,optionArray:r,placeholder:n,value:i,onChange:a}=e,[s,c]=(0,o.useState)(i);return(0,o.useEffect)((()=>{a(s,t,r)}),[s,t,r]),l().createElement("li",{className:"et-vb-select-options-filter select-option-item"},l().createElement(Hn,{autofocus:!0,defaultValue:n,showPlaceholderOnEmpty:!0,value:i,name:"filterOptions",onChange:({inputValue:e})=>c(e)}))},zn=(0,o.memo)($n);var Kn=r(69111);const Zn=({value:e="",displayCheckMark:t=!0,label:r,isSelected:n,isHovered:i,className:c,customMarker:d,itemIndex:u,isPlaceholder:p,isStatic:m,enabled:g=!0,onChange:f=s.noop,setHoverItem:b=s.noop,resetHoverItem:v=s.noop,onHover:y=s.noop,customContent:w,customMarkerAction:_,separator:E,separatorText:C})=>{const x="function"!=typeof r,S=me()({"select-option-item":!0,"et-vb-selected-item":n,"select-option-item-hovered":i&&x,"select-option-item-placeholder":p,"select-option-item-static":m,"select-option-item-disabled":!g,"select-option-item-separator-top":E?.top,"select-option-item-separator-bottom":E?.bottom,[`select-option-item-${String(e).replace(/ /g,"_")}`]:!0},c),k=i?"#FFFFFF":"#37C4AA",I=i?"#FFFFFF":"#bec9d5",M=(0,o.useRef)(null);(0,o.useEffect)((()=>{i&&x&&M.current&&M.current.scrollIntoView({behavior:"instant",block:"nearest"})}),[i,x]);const A=(0,o.useCallback)((t=>{g&&(b(u,e),y(t,e))}),[u,e,g]),F=(0,o.useCallback)((e=>{g&&(void 0!==e.relatedTarget.closest&&e.relatedTarget.closest(".select-option-item")||v())}),[g]),N=(0,s.isFunction)(r)?(0,o.createElement)(r,{isHovered:i,isSelected:n,isPlaceholder:p}):r;return l().createElement(o.Fragment,null,l().createElement("li",{className:S,onClick:g?h.handleOnClickFallback:s.noop,onMouseOver:A,onFocus:A,onMouseLeave:F,onBlur:F,onKeyDown:s.noop,"data-value":e,"aria-selected":n,role:"option",ref:M,onMouseDown:t=>{t.target.closest(".et-vb-select-additional-content-container, .et-vb-font-removal-activated")||p||m||!g||(t.stopPropagation(),f(e))}},!m&&l().createElement("span",{className:"select-option-item__name"},(0,o.isValidElement)(N)?N:(0,Kn.decode)((0,s.toString)(N))),!(0,s.isUndefined)(w)&&w(),m&&l().createElement(l().Fragment,null,(0,o.isValidElement)(N)?N:(0,Kn.decode)((0,s.toString)(N))),n&&t&&l().createElement(ie.IconSvg,{name:"divi/check",color:k}),!(0,s.isEmpty)(d)&&"none"!==d&&!(n&&t)&&l().createElement("span",{className:"et-vb-select-marker",onClick:g?h.handleOnClickFallback:s.noop,onKeyDown:s.noop,tabIndex:-1,role:"button","aria-label":(0,a.__)("Marker","et_builder"),onMouseDown:t=>{"function"==typeof _&&(t.stopPropagation(),_(e))}},"divi/caret-down"===d?l().createElement(ie.IconSvg,{name:d,color:I,viewBox:"0 0 6 4"}):l().createElement(ie.IconSvg,{name:d,color:I,className:"et-vb-icon--custom-marker"}))),C&&l().createElement("li",{className:"select-option-item-separator-text select-option-item-separator-top"},C))},Jn=(0,o.memo)(Zn),Yn=[{name:"iconPickerDropdown-close",label:(0,a.__)("Close Responsive & State Picker","et_builder"),keys:["Escape"],category:"modal",action:s.noop},{name:"iconPickerDropdown-prev",label:(0,a.__)("Select Prev Responsive State Picker Option","et_builder"),keys:["ArrowUp"],category:"modal",action:s.noop},{name:"iconPickerDropdown-next",label:(0,a.__)("Select Next Responsive State Picker Option","et_builder"),keys:["ArrowDown"],category:"modal",action:s.noop},{name:"iconPickerDropdown-execute",label:(0,a.__)("Execute Selected Responsive State Picker Option","et_builder"),keys:["Enter"],category:"modal",action:s.noop}],Xn=(e,t)=>{let r;return(0,s.forEach)(e,((e,n)=>{if((0,s.isUndefined)(r)&&n===t&&(r={...e}),(0,s.isUndefined)(r)&&(0,s.has)(e,"options")){const n=Xn(e.options,t);(0,s.isUndefined)(n)||(r={...n})}})),r},Qn=(e,t,r=s.noop)=>{const n=e.find(".et-vb-settings-custom-select-wrapper-inner:first"),i=n.length?n.outerHeight():0,a=Math.max(i,t)||0,o=((0,d.select)("divi/app-ui").getElementProperty({elementName:"adminBar",propertyName:"height",propertyGroup:"dimension"})||0)+((0,d.select)("divi/app-ui").getElementProperty({elementName:"pageBar",propertyName:"height",propertyGroup:"dimension"})||0)+30,l=(0,m.getViewportAdaptablePositioning)(Ne()(h.topWindow),e,e,a,o,100);r({menuPosition:l.position.top,menuWidth:l.size.width,menuHeight:l.size.height})},ei=e=>{const t=window?.wpCookies?.get(`et-pb-recent-items-${e}`);return t?t.split("|"):[]};let ti=0;const ri=({name:e,onChange:t,options:r,value:n,activeOnLoad:i,additionalOptions:c={},afterList:u=s.noop,beforeList:p=s.noop,className:g,cookiePath:f="",defaultValue:b,displayCheckMark:v=!0,displayRecent:y,emptyLabel:w,groupSeparator:_=!0,labelFilter:E,menuPositionOffset:C,multiple:x,onClose:S=s.noop,onHoverOption:k=s.noop,onOpen:I=s.noop,readonly:M,recentCategory:A,registerShortcuts:F,searchable:N=!1,searchPlaceholder:T,unregisterShortcuts:O,updateMenuPositionOnLoad:P=!1,updateSearchQuery:D=s.noop,valuesToUpdateCallback:L})=>{ti=0;const R=!(0,s.isNil)(n)&&""!==n,V=A||e,B=[],[j,q]=(0,o.useState)(i||!1),[W,G]=(0,o.useState)(""),[H,U]=(0,o.useState)(-1),[$,z]=(0,o.useState)({menuHeight:0,menuPosition:0,menuWidth:0}),[K,Z]=(0,o.useState)(null),[J,Y]=(0,o.useState)(""),X=(0,o.useRef)(0),Q=(0,o.useRef)(),ee=(0,o.useRef)(n),te=(0,o.useRef)(null),re=me()(g,{"et-vb-settings-option-select":!0,"et-vb-settings-option-select-allow-mouse-interaction":j,"et-vb-settings-option-select-advanced":!0});let ne={};const ae=()=>{(j||P)&&((0,m.updateRichTextDynamicContentWrapperWidth)(Q?.current,!0),Qn(Ne()(Q?.current),$.menuHeight,z))},oe=()=>{Qn(Ne()(Q.current),$.menuHeight,z)},le=e=>{if(!M){const t=(0,s.isUndefined)(e)?!j:e;q(t),t?(I(),(0,m.disableGlobalPageScroll)("et-vb-custom-select-menu-opened")):(S(),(0,m.updateRichTextDynamicContentWrapperWidth)(Q?.current,!1),(0,m.enableGlobalPageScroll)("et-vb-custom-select-menu-opened"))}};function se(e){e.target.contains(Q.current)&&le(!1)}const ce=(0,o.useCallback)(((e,r,n)=>{let i={inputValue:e};x&&(i={name:r,inputValue:e,parentValue:n||e}),le(!1),t(i),((e,t,r)=>{const n=(0,s.uniq)([e,...ei(t)]).filter((e=>e)).slice(0,3),i="https:"===window.location.protocol;window.wpCookies.set(`et-pb-recent-items-${t}`,n.join("|"),31536e6,r,!1,i)})(e,V,f),U(-1),ee.current=e}),[L,t]),de=(0,o.useCallback)(((e,t)=>{if(x){e.target.closest("ul").classList.contains("et-vb-submenu")||(Z(null),(0,d.dispatch)("divi/app-ui").setSidebarHandleCondition("enable"))}k(t)}),[k]);(0,o.useEffect)((()=>(oe(),D(""),h.topWindow.addEventListener("mousedown",se),h.topWindow.addEventListener("resize",oe),()=>{h.topWindow.removeEventListener("mousedown",se),h.topWindow.removeEventListener("resize",oe),(0,m.enableGlobalPageScroll)("et-vb-custom-select-menu-opened"),x&&(0,d.dispatch)("divi/app-ui").setSidebarHandleCondition("enable")})),[]);const ue=Yn.map((e=>{switch(e.name){case"iconPickerDropdown-close":e.action=()=>{U(-1),ee.current=n,le(!1)};break;case"iconPickerDropdown-prev":e.action=()=>U((e=>{let t=e-1;t<=0&&(t=X.current);const r=t-1;return ee.current=B[r],t}));break;case"iconPickerDropdown-next":e.action=()=>U((e=>{let t=e+1;const r=X.current;(0===t||t>r)&&(t=1);const n=t-1;return ee.current=B[n],t}));break;case"iconPickerDropdown-execute":e.action=()=>{ce(ee.current||"")}}return e}));(0,Gn.useIsomorphicLayoutEffect)((()=>{if(ae(),j&&(0,s.isFunction)(F)&&F(ue),Q?.current){const e=Ne()(Q.current).closest(".et-vb-sidebar-row");e.length>0&&(j?e.addClass("et-vb-sidebar-row--rendered-on-top"):e.removeClass("et-vb-sidebar-row--rendered-on-top"))}return()=>{if(G(""),(0,s.isFunction)(O)&&O(Yn.map((e=>e.name))),Q?.current){const e=Ne()(Q.current).closest(".et-vb-sidebar-row");e.length>0&&e.removeClass("et-vb-sidebar-row--rendered-on-top")}}}),[j]),(0,o.useEffect)((()=>{j&&ae()}),[r]),j&&(ne={top:$.menuPosition+(C?.top??0),width:$.menuWidth+(C?.width??0)});const pe=(0,o.useCallback)((()=>{let e;if(n&&(e=Xn({...r,...c},n)),!e&&b&&(e=Xn({...r,...c},b)),e){let{label:t}=e;if("function"==typeof E&&(t=E(t,n)),t)return t}return w||""}),[n,b,r,c]),he=(0,o.useCallback)((()=>(0,s.isEmpty)(n)?(0,s.isEmpty)(b)?"":b:n),[n,b]),ge=(0,o.useCallback)((()=>!!(0,s.some)(r,(e=>(0,s.has)(e,"options")))||!!(0,s.some)(c,(e=>(0,s.has)(e,"options")))),[r,c]),fe=(0,o.useCallback)((e=>{U(e),ee.current=B[e]}),[]),be=(0,o.useCallback)((()=>{U(-1),ee.current=n}),[]),ve=()=>{const e=te.current;if(!e)return;const t=Ne()(e);((e,t,r=s.noop)=>{const n=((0,d.select)("divi/app-ui").getElementProperty({elementName:"adminBar",propertyName:"height",propertyGroup:"dimension"})||0)+5,i=t.height(),a=Ne()(h.topWindow),o=e.find(".et-vb-settings-option-select").offset().top,{position:l}=(0,m.getViewportAdaptablePositioning)(a,t.parent(),t,i),c=l.top-o+n;let u=null;l.left+e.width()+t.width()>a.width()&&(u=-t.width()),r({top:c,left:u})})(Ne()(Q.current),t,(e=>{t.css({opacity:1,top:`${e.top}px`,left:e.left?`${e.left}px`:"98%"})}))},ye=(0,o.useCallback)((e=>{K&&e!==K&&0<J.length&&Y(""),Z(e),K&&e===K&&0!==J.length||setTimeout((()=>ve()))}),[K,J]),we=()=>{0<J.length||Y("")},_e=e=>{e.stopPropagation();const t="et-vb-submenu",r=e.target.classList.contains(t),n=e.target.parentElement?.classList.contains(t);(r||n)&&(0,d.dispatch)("divi/app-ui").setSidebarHandleCondition("disable")},Ee=(e,t)=>me()({"et-vb-option-subgroup":!0,"et-vb-option-subgroup-separator":!t&&_,"et-vb-option-subgroup-separator-top":!t&&e?.separator?.top,"et-vb-option-subgroup-separator-bottom":!t&&e?.separator?.bottom,"et-vb-option-subgroup-multiple":t}),Ce=t=>(0,s.map)(t,((t,r)=>(0,s.isUndefined)(t.options)||x?((t,r,n)=>{const i="string"==typeof r.label?r.label.toString().toLowerCase():t.toLowerCase();let o=!1;if(e?.startsWith("dynamic-content-select-")&&(o=W.length<3),""!==W&&-1===i.indexOf(W.toLowerCase())&&!o)return!1;B.push(t),ti+=1,X.current=ti;const{enabled:s=!0}=r;if(x&&r.options){const e=Object.entries(r.options).filter((([,e])=>"string"==typeof e.label&&e.label.toLowerCase().includes(J.toLowerCase()))).reduce(((e,[t,r])=>(e[t]=r,e)),{}),i=J||Object.keys(e).length>8,o=me()({"et-vb-submenu":!0,"et-vb-submenu-with-search":i});return l().createElement("li",{className:Ee(r,!0),key:t,onMouseEnter:()=>{ye(t)},onMouseLeave:we},l().createElement("span",{className:"et-vb-subgroup-title et-vb-dropdown-title","data-value":t},l().createElement("div",null,r.label),l().createElement(ie.IconSvg,{name:"divi/caret-right",size:8,viewBox:"0 0 8 8"})),K===t&&l().createElement("ul",{className:o,ref:te,onMouseEnter:_e},i&&l().createElement(zn,{value:J,placeholder:(0,a.__)("Search...","et_builder"),onChange:e=>{Y(e)}}),n(e)))}return l().createElement(Jn,{key:t,className:r.className,itemIndex:ti,label:r.label,value:t,isSelected:he()===t,isHovered:-1!==H&&ti===H,isStatic:r.isStatic,enabled:s,displayCheckMark:v,customMarker:r.marker,customMarkerAction:r.markerAction,customContent:r.customContent,onHover:de,onChange:e=>ce(e,r.label,K),setHoverItem:fe,resetHoverItem:be,separator:r.separator,separatorText:r.separatorText})})(r,t,Ce):l().createElement("li",{className:Ee(t),key:r},!(0,s.isEmpty)(t.label)&&l().createElement("p",{className:"et-vb-subgroup-title","data-value":r},t.label),l().createElement("ul",null,Ce(t.options))))),xe=()=>l().createElement("ul",null,p(),N&&l().createElement(zn,{filteredHoverIndex:H,optionArray:B,value:W,placeholder:T,onChange:(e,t,r)=>{G(e),e!==W&&D(e),-1!==t||u()?(U(t),ee.current=r?.[t-1]):(U(1),ee.current="")}}),!(0,s.isEmpty)(n)&&y&&(N||""===W)&&l().createElement("li",{className:"et-vb-option-subgroup"},l().createElement("ul",null,l().createElement(Jn,{label:pe(),value:n,isSelected:!0}))),(()=>{if(!y||""!==W)return null;const e=ei(V);if(!e.length)return null;const t={};return(0,s.forEach)(e,(e=>{const n=Xn({...r},e);n&&(t[e]={...(0,s.omit)(n,["className","customContent","markerAction"]),marker:"divi/history"})})),l().createElement("li",{className:me()({"et-vb-option-subgroup":!0,"et-vb-option-subgroup-separator":_})},l().createElement("p",{className:"et-vb-subgroup-title"},(0,a.__)("Recent","et_builder")),l().createElement("ul",null,Ce(t)))})(),!(0,s.isEmpty)(c)&&Ce(c),Ce(r),(0,s.isEmpty)(Ce(r))&&((0,s.isEmpty)(r)&&(0,s.isEmpty)(c)&&W.length>2?l().createElement("li",{className:"et-vb-option-subgroup et-vb-option-subgroup-no-results"},l().createElement("p",null,(0,a.__)("No results found.","et_builder"))):null),u());return l().createElement("div",{className:"et-vb-settings-custom-select-wrapper-outer",ref:Q},j&&!i&&l().createElement("div",{className:"et-vb-settings-option-select-advanced-placeholder"}),l().createElement("div",{id:`et-vb-${e}`,className:me()({"et-vb-settings-custom-select-wrapper":!0,"et-vb-settings-option-select-active":j,"et-vb-settings-option-select-closed":!j,"et-vb-settings-option-select-searchable":j&&N,"et-vb-settings-option-select-display-recent-items":j&&y,"et-vb-settings-option-select-grouped-options":j&&ge(),"et-vb-settings-option-select-readonly":M,"et-vb-settings-option-select-has-value":R}),style:ne,onClick:h.handleOnClickFallback,onKeyDown:s.noop,tabIndex:0,role:"listbox",onMouseDown:e=>{const t=e.target,r=t?.classList?.contains("et-vb-settings-option-select--divider")||!1,n=t.closest(".et-vb-settings-option-select")?.classList?.contains("et-vb-settings-option-select-allow-mouse-interaction")||!1;r||n||t.closest(".et-vb-select-options-filter, .et-vb-upload-font, .et-vb-icon--delete, .et-vb-font-removal-activated, .et-vb-option-subgroup-no-results, .dynamic-content-select-post-pagination, .woocommerce-select-product-pagination")||le()}},l().createElement("ul",{className:re,style:{maxHeight:$.menuHeight>0&&j?$.menuHeight+2:"none"}},j&&l().createElement("li",{className:"et-vb-settings-custom-select-wrapper-inner et-vb-allow-mouse-wheel-form"},xe()),!j&&!i&&l().createElement(Jn,{label:pe(),value:he(),isPlaceholder:!0,isSelected:!0,displayCheckMark:!1,customMarker:"divi/caret-down"}),!j&&P&&l().createElement("li",{className:"et-vb-select__height-preserver--hidden"},xe()))))},ni="divi/select";ri.fieldName=ni;const ii=e=>{const{cookiePath:t}=(0,d.useSelect)((e=>({cookiePath:e("divi/settings").getSetting(["settings","cookiePath"])}))),r={...e,registerShortcuts:Oe.registerShortcuts,unregisterShortcuts:Oe.unregisterShortcuts,cookiePath:t};return(0,o.createElement)(ri,r)};ii.fieldName=ni;const ai="divi/edit-global-font",oi=({googleFonts:e,customFonts:t,customizerFonts:r,onHoverFont:n,syncCustomizerFonts:i,closeModal:c})=>{const d=(0,o.useMemo)((()=>{const r={},n=Object.keys(t);return(0,s.isEmpty)(n)||n.forEach((e=>{r[e]={label:e}})),e.forEach((e=>{r[e]={label:e}})),r}),[e]),[m,h]=(0,o.useState)(r?.heading?.fontName??""),[g,f]=(0,o.useState)(r?.body?.fontName??""),[b,v]=(0,o.useState)(!1);return l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--font-upload"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:ai,snappable:!0,expandable:!0,draggable:!0,resizable:!0,dimension:null},l().createElement(p.Header,{name:(0,a.__)("Edit Global Fonts","et_builder")}),l().createElement(l().Fragment,null,l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"font-upload",opened:!0},l().createElement("div",{className:"et-vb-divi-modals--font-editor"},l().createElement("div",{className:"et-vb-field"},l().createElement("div",{className:"et-vb-field-label"},l().createElement("label",null,(0,a.__)("Heading Font","et_builder"))),l().createElement("div",{className:"et-vb-field-input-wrap"},l().createElement(ii,{searchPlaceholder:(0,a.__)("Search Fonts","et_builder"),defaultValue:"",options:d,name:"heading-font",onHoverOption:n,value:m,onChange:e=>h(e?.inputValue),searchable:!0,className:"et-vb-option--font"}))),l().createElement("div",{className:"et-vb-field"},l().createElement("div",{className:"et-vb-field-label"},l().createElement("label",null,(0,a.__)("Body Font","et_builder"))),l().createElement("div",{className:"et-vb-field-input-wrap"},l().createElement(ii,{searchPlaceholder:(0,a.__)("Search Fonts","et_builder"),defaultValue:"",options:d,name:"body-font",onHoverOption:n,value:g,onChange:e=>f(e?.inputValue),searchable:!0,className:"et-vb-option--font"})))))),l().createElement(p.Footer,{buttons:[{name:"save",buttonColor:"primary",label:b?(0,a.__)("Saving...","et_builder"):(0,a.__)("Save","et_builder"),disabled:b,onClick:e=>{e.preventDefault(),v(!0),(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/global-data/global-fonts",data:{heading_font:m,body_font:g}},!0).then((e=>{i(e),c()})).catch((e=>{console.log(e)})).finally((()=>{v(!1)}))}}]})))))},li=(0,a.__)("Edit Global Fonts","modal-library"),si={name:ai,label:li,type:"multiInstanceModal",component:()=>{const{googleFonts:e,customFonts:t,customizerFonts:r}=(0,d.useSelect)((e=>({googleFonts:e("divi/fonts").getGoogleFonts(),customFonts:e("divi/fonts").getCustomFonts(),customizerFonts:e("divi/fonts").getCustomizerFonts()}))),n={closeModal:()=>(0,d.dispatch)("divi/modal-library").close({name:"divi/edit-global-font"}),syncCustomizerFonts:e=>{(0,d.dispatch)("divi/fonts").setCustomizerFonts(e)},onHoverFont:e=>{"Default"!==e&&(0,d.dispatch)("divi/fonts").loadFont(e)},googleFonts:Object.keys(e),customFonts:t,customizerFonts:r};return(0,o.createElement)(oi,n)}},ci=({selectedTargetModules:e,selectedScope:t,selectedAttributeType:r,selectedModuleTypes:n,selectedOptionGroup:i,selectedModifiedFields:o,allModules:s,availableModuleTypes:c,attributeTypeOptions:d,optionGroupOptions:m,modifiedFieldsOptions:h,scopeOptions:g,onTargetModulesChange:f,onScopeChange:b,onAttributeTypeChange:v,onModuleTypesChange:y,onOptionGroupChange:w,onModifiedFieldsChange:_,onExtendAttributes:E})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--extend-attributes",componentName:"et-vb-divi-modals--extend-attributes"},l().createElement(p.WrapperContainer,{modalName:"divi/extend-attributes",draggable:!0,expandable:!0,snappable:!0,resizable:!0},l().createElement(p.Header,{name:(0,a.__)("Extend Attributes","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"extend-attributes",opened:!0},l().createElement(p.FieldWrapper,{label:(0,a.__)("Extend From Element","et_builder"),description:(0,a.__)("Choose which element to extend attributes from.","et_builder"),id:"target-modules"},l().createElement(M.SelectContainer,{name:"targetModules",options:s,value:e,onChange:f,disabled:!1,searchable:!0,searchPlaceholder:(0,a.__)("Search elements...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Extend To Location","et_builder"),description:(0,a.__)("Choose the scope of where to look for target modules.","et_builder"),id:"extend-scope"},l().createElement(M.SelectContainer,{name:"extendScope",options:g,value:t,onChange:b})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Extend To Element Type","et_builder"),description:(0,a.__)("Choose which types of elements to extend to.","et_builder"),id:"module-types"},l().createElement(M.SelectContainer,{name:"moduleTypes",options:c,value:n,onChange:y,searchable:!0,searchPlaceholder:(0,a.__)("Search elements...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Attribute Type To Extend","et_builder"),description:(0,a.__)("Choose which types of attributes to copy.","et_builder"),id:"attribute-type"},l().createElement(M.SelectContainer,{name:"attributeType",options:d,value:r,onChange:v})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Option Group To Extend","et_builder"),description:(0,a.__)("Choose which option group to extend from the source elements.","et_builder"),id:"option-group"},l().createElement(M.SelectContainer,{name:"optionGroup",options:m,value:i,onChange:w,searchable:!0,searchPlaceholder:(0,a.__)("Search groups...","et_builder")})),"preset"!==r&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Modified Fields To Extend","et_builder"),description:(0,a.__)("Choose which modified fields to extend from the source element.","et_builder"),id:"modified-fields"},l().createElement(M.SelectContainer,{name:"modifiedFields",options:h,value:o,onChange:_,searchable:!0,searchPlaceholder:(0,a.__)("Search fields...","et_builder")})))),l().createElement(p.Footer,{buttons:[{name:"extend-attributes",label:(0,a.__)("Extend Attributes","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:E,disabled:!1}]})));ci.defaultProps={};var di=window.divi.rightClickOptions;const ui=e=>{const t=(0,Y.useAllModulesWithLabels)(),r=(0,Y.useAvailableModuleTypes)(),{sourceModuleId:n,defaultOptionGroup:i,defaultAttributeType:l,defaultModifiedField:c,content:u,moduleLibrary:p,editPost:m}=(0,d.useSelect)((e=>{const t=e("divi/modal-library").getModal("divi/extend-attributes"),r=(0,s.get)(t,["attributes"],{});return{sourceModuleId:e("divi/modal-library").getModalProperty({modalName:"divi/extend-attributes",property:"owner"})||"",defaultOptionGroup:r.defaultOptionGroup||"all",defaultAttributeType:r.defaultAttributeType||"all",defaultModifiedField:r.defaultModifiedField||"all-modified",content:e("divi/edit-post").getContent(),moduleLibrary:e("divi/module-library"),editPost:e("divi/edit-post")}}),[]),h=(0,d.useSelect)((e=>n?e("divi/edit-post").getModuleAttrs(n):null),[n]),g=(0,d.useSelect)((t=>e.selectedTargetModules?t("divi/edit-post").getAncestorModules(e.selectedTargetModules,"bottom-to-top"):[]),[e.selectedTargetModules]),f=(0,o.useMemo)((()=>h?(0,di.filterAttributesByType)(h,e.selectedAttributeType):null),[h,e.selectedAttributeType]),b=(0,o.useMemo)((()=>{if(!n||!h||!f)return{optionGroups:{all:{label:(0,a.__)("All Option Groups","et_builder")}},modifiedFieldsOptions:{"all-modified":{label:(0,a.__)("All Modified Fields","et_builder")}}};const t=u&&u[n]?u[n].name:null,r=t&&p?p.getModule(t):null,i=r?(0,Te.buildFieldLabelsMap)(r):null;return((e,t,r)=>{const n={all:{label:(0,a.__)("All Option Groups","et_builder")}},i={"all-modified":{label:(0,a.__)("All Modified Fields","et_builder")}},o=new Set,l=e=>{const t=(0,Y.getAttributeCategorizationKey)(e);if(!o.has(t)){o.add(t);const e=(0,Y.normalizeOptionGroupName)(t);n[t]={label:e}}};Object.entries(e).forEach((([e,t])=>{(0,Y.isNonEmptyObject)(t)&&("groupPreset"!==e||"object"!=typeof t||null===t?"module"!==e||"object"!=typeof t||null===t?l(e):Object.entries(t).forEach((([,e])=>{"object"==typeof e&&null!==e&&(0,Y.isNonEmptyObject)(e)&&Object.keys(e).forEach(l)})):Object.keys(t).forEach(l))}));let s=e;"all"!==t&&(s=(0,Y.filterAttributeMaps)(e,t));const c=(0,Y.flattenAttrs)(s),d=new Set;return Object.entries(c).forEach((([e,t])=>{if(e.startsWith("builderVersion")||e.startsWith("groupPreset"))return;if(!(0,Y.isNonEmptyAttribute)(t))return;const n=(0,Y.stripAttributeStateSuffixes)(e);if(r){const t=((e,t)=>{const r=e.split(".");for(let e=r.length;e>0;e--){const n=r.slice(0,e).join(".");if(t[n])return t[n]}return null})(n,r);if(t){if(d.has(t))return;i[e]={label:t},d.add(t)}}})),{optionGroups:n,modifiedFieldsOptions:i}})(f,e.selectedOptionGroup,i)}),[n,h,f,e.selectedOptionGroup,u,p]),v=b.optionGroups,{modifiedFieldsOptions:y}=b,w=(0,o.useMemo)((()=>_(e.selectedTargetModules,g,!1)),[e.selectedTargetModules,g]),E=(0,o.useMemo)((()=>({all:{label:(0,a.__)("All Attributes","et_builder")},design:{label:(0,a.__)("Design Attributes","et_builder"),separator:{bottom:!0}},style:{label:(0,a.__)("Style Attributes","et_builder")},content:{label:(0,a.__)("Content Attributes","et_builder")},preset:{label:(0,a.__)("Presets","et_builder")}})),[]),C=(0,o.useMemo)((()=>{if(n)return n;return Object.keys(t)[0]||""}),[n,t]);return{sourceModuleId:n,defaultOptionGroup:i,defaultAttributeType:l,defaultModifiedField:c,editPost:m,allModules:t,availableModuleTypes:r,attributeTypeOptions:E,optionGroupOptions:v,modifiedFieldsOptions:y,scopeOptions:w,firstTargetModuleId:C}},pi={name:"divi/extend-attributes",label:(0,a.__)("Extend Attributes","et_builder"),snappable:!0,type:"multiInstanceModal",videos:[],component:()=>{const e=(0,d.useSelect)((e=>{const t=e("divi/modal-library").getModalProperty({modalName:"divi/extend-attributes",property:"owner"})||"",r=e("divi/edit-post").getContent(),n=r?Object.keys(r).filter((e=>{if("root"===e)return!1;const t=r[e]?.name;return t&&"divi/root"!==t})):[];return{sourceModuleId:t,firstTargetModuleId:t||n[0]||""}})),[t,r]=(0,o.useState)({selectedTargetModules:e.firstTargetModuleId,selectedScope:"page",selectedAttributeType:"all",selectedModuleTypes:"all-modules",selectedOptionGroup:"all",selectedModifiedFields:"all-modified"}),n=e=>{r((t=>({...t,...e})))},i=ui(t);(0,o.useEffect)((()=>{const e=setTimeout((()=>{(0,d.select)("divi/modal-library").cacheAllAttributeMaps()}),150);return()=>clearTimeout(e)}),[]),(0,o.useEffect)((()=>{i.firstTargetModuleId&&r((e=>({...e,selectedTargetModules:i.firstTargetModuleId,selectedOptionGroup:i.defaultOptionGroup,selectedAttributeType:i.defaultAttributeType,selectedModifiedFields:i.defaultModifiedField})))}),[i.firstTargetModuleId,i.defaultOptionGroup,i.defaultAttributeType,i.defaultModifiedField]),(0,o.useEffect)((()=>{const e="closeExtendAttributesModal";return(0,Oe.registerShortcut)({name:e,label:(0,a.__)("Close Extend Attributes Modal","et_builder"),keys:["Escape"],category:"modal",action:()=>{(0,d.dispatch)("divi/modal-library").close({name:"divi/extend-attributes"})}}),()=>{(0,Oe.unregisterShortcut)(e)}}),[]);return(0,o.createElement)(ci,{selectedTargetModules:t.selectedTargetModules,selectedScope:t.selectedScope,selectedAttributeType:t.selectedAttributeType,selectedModuleTypes:t.selectedModuleTypes,selectedOptionGroup:t.selectedOptionGroup,selectedModifiedFields:t.selectedModifiedFields,allModules:i.allModules,availableModuleTypes:i.availableModuleTypes,attributeTypeOptions:i.attributeTypeOptions,optionGroupOptions:i.optionGroupOptions,modifiedFieldsOptions:i.modifiedFieldsOptions,scopeOptions:i.scopeOptions,onTargetModulesChange:e=>{n({selectedTargetModules:e.inputValue})},onScopeChange:e=>{n({selectedScope:e.inputValue})},onAttributeTypeChange:e=>{n({selectedAttributeType:e.inputValue,selectedOptionGroup:"all",selectedModifiedFields:"all-modified"})},onModuleTypesChange:e=>{n({selectedModuleTypes:e.inputValue})},onOptionGroupChange:e=>{n({selectedOptionGroup:e.inputValue,selectedModifiedFields:"all-modified"})},onModifiedFieldsChange:e=>{n({selectedModifiedFields:e.inputValue})},onExtendAttributes:()=>{const{selectedScope:e,selectedModuleTypes:r}=t;if(!["group","column","row","section","page","self","children","descendants"].includes(e))return;if(!(0,d.select)("divi/edit-post").getModule(i.sourceModuleId))return;(0,di.onClickExtendAttributes)({sourceModuleId:i.sourceModuleId,targetModuleIds:[t.selectedTargetModules],scope:e,attributeType:t.selectedAttributeType,moduleTypes:r,modifiedFields:t.selectedModifiedFields,optionGroup:t.selectedOptionGroup});(0,d.select)("divi/app-ui").isSidebarModal("divi/extend-attributes")||(0,d.dispatch)("divi/modal-library").close({name:"divi/extend-attributes"})}})},sidebarPosition:!1},mi=({result:e,onClose:t})=>{const r=e?(e=>{if(!e||!e.type)return null;const{type:t,changesCount:r,error:n}=e;if("PERFORM_FIND_REPLACE_SUCCESS"===t)return{title:r&&r>0?(0,a.__)("Find And Replace Complete","et_builder"):(0,a.__)("No Matches Found","et_builder"),message:r&&r>0?(0,a.__)("Successfully updated %d field(s).","et_builder").replace("%d",String(r)):(0,a.__)("No fields were found that match the specified find value.","et_builder")};return"PERFORM_FIND_REPLACE_FAILED"===t&&"No modules found"===n?{title:(0,a.__)("No Modules Found","et_builder"),message:(0,a.__)("No modules found matching the selected criteria.","et_builder")}:null})(e):null;return r?l().createElement("div",{className:"et-vb-modal__overlay"},l().createElement("div",{className:"et-vb-modal__overlay__header"}),l().createElement("div",{className:"et-vb-modal__overlay__content"},l().createElement(p.ConfirmationDialog,{title:r.title,confirmButtonText:(0,a.__)("Ok","et_builder"),buttonType:"secondary",showCancelButton:!1,onConfirm:t},r.message))):null},hi="divi/find-and-replace",gi=(e,t)=>!!((e,t)=>e.selectedSourceModule===t.selectedSourceModule&&e.selectedScope===t.selectedScope&&e.selectedModuleTypes===t.selectedModuleTypes&&e.findValue===t.findValue&&e.replaceValue===t.replaceValue&&e.onlyReplaceIdenticalFields===t.onlyReplaceIdenticalFields)(e,t)&&!!(0,s.isEqual)(e.sourceFieldInfo,t.sourceFieldInfo),fi=(0,o.memo)((({selectedSourceModule:e,selectedScope:t,selectedModuleTypes:r,findValue:n,replaceValue:i,onlyReplaceIdenticalFields:s,sourceFieldInfo:c,allModules:m,availableModuleTypes:h,scopeOptions:g,onSourceModuleChange:f,onScopeChange:b,onModuleTypesChange:v,onFindValueChange:y,onReplaceValueChange:w,onOnlyReplaceIdenticalFieldsChange:_,onFindAndReplace:E})=>{const{isDiviAIEnabled:C,modalContext:x}=(0,d.useSelect)((e=>{const t=c?.moduleId||"",r=e("divi/edit-post").getModule(t)?.props?.attrs||{},n=e("divi/settings").getEnabledBreakpoints()||[],i=e("divi/settings").getBaseBreakpointName()||"desktop";return{isDiviAIEnabled:e("divi/settings").checkRolePermission("divi_ai"),modalContext:c?{moduleId:t,attr:r,attrName:c.attrName,appBaseBreakpoint:i,appBreakpoint:"desktop",appBreakpointNames:n.map((e=>e.name)),appState:"value",parentOnChange:!0}:null}}),[c?.moduleId,c?.attrName]);ue({"find-replace-find":y,"find-replace-replace":w});const[S,k]=(0,o.useState)(null),[I,A]=(0,o.useState)(null),F=(0,o.useMemo)((()=>((e,t)=>{if(e&&"object"==typeof e&&t&&"object"==typeof t&&!Array.isArray(e)&&!Array.isArray(t)){const r=Object.keys(t).every((t=>t in e));return r?e:{...t,...e}}return e})(i,n)),[i,n]),N=te(n,y),T=ee(F,w,w),O=e=>{w(e)},P=ce({sourceFieldInfo:c,activeDynamicContentField:S,setActiveDynamicContentField:k,value:n,onChange:y,isDiviAIEnabled:C,fieldKey:`find-${c?.attrName||""}`,customActiveAIField:"find-replace-find"}),D=ce({sourceFieldInfo:c,activeDynamicContentField:S,setActiveDynamicContentField:k,value:F,onChange:O,isDiviAIEnabled:C,fieldKey:`replace-${c?.attrName||""}`,customActiveAIField:"find-replace-replace"}),L=[{name:"find-and-replace",label:(0,a.__)("Find And Replace","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:()=>{const e=E(n,F);A(e)},disabled:!c}];return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--find-and-replace",componentName:"et-vb-divi-modals--find-and-replace"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:hi,draggable:!0,expandable:!0,snappable:!0,resizable:!0},l().createElement(p.Header,{name:(0,a.__)("Find And Replace","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"find-and-replace",opened:!0},l().createElement(p.FieldWrapper,{label:(0,a.__)("Source Element","et_builder"),description:(0,a.__)("Choose which element to find and replace values from.","et_builder"),id:"source-element"},l().createElement(M.SelectContainer,{name:"sourceElement",options:m,value:e,onChange:f,searchable:!0,searchPlaceholder:(0,a.__)("Search elements...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Find Value","et_builder"),description:(0,a.__)("Enter the value you want to find and replace.","et_builder"),id:"find-value",enableReset:!!c&&(0,ae.hasFieldValue)(n,c.defaultValue||"","desktop","value"),onReset:N,additionalButtons:P},l().createElement(ge,{value:n,onChange:y,fieldInfo:c,name:"find-field",setActiveDynamicContentField:k,activeDynamicContentField:S,fieldKey:c?`find-${c.attrName}`:"find-field",modalContext:x})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Replace Value","et_builder"),description:(0,a.__)("Enter the new value that will replace the found value.","et_builder"),id:"replace-value",enableReset:!!c&&(0,ae.hasFieldValue)(F,c.defaultValue||"","desktop","value"),onReset:T,additionalButtons:D},l().createElement(ge,{value:F,onChange:O,fieldInfo:c,name:"replace-field",setActiveDynamicContentField:k,activeDynamicContentField:S,fieldKey:c?`replace-${c.attrName}`:"replace-field",modalContext:x,excludeDefaultValue:!0})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Find And Replace In Location","et_builder"),description:(0,a.__)("Choose the scope of where to look for matching fields.","et_builder"),id:"find-replace-scope"},l().createElement(M.SelectContainer,{name:"findReplaceScope",options:g,value:t,onChange:b})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Find And Replace In Element Type","et_builder"),description:(0,a.__)("Choose which types of elements to search within.","et_builder"),id:"module-types"},l().createElement(M.SelectContainer,{name:"moduleTypes",options:h,value:r,onChange:v,searchable:!0,searchPlaceholder:(0,a.__)("Search elements...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Only Replace Identical Fields","et_builder"),description:(0,a.__)("When enabled, only replace values in fields that have the same type as the source field. When disabled, replace matching values in any field type.","et_builder"),id:"only-replace-identical-fields"},l().createElement(M.Toggle,{name:"onlyReplaceIdenticalFields",value:s?"on":"off",onChange:_})))),l().createElement(p.Footer,{buttons:L}),l().createElement(mi,{result:I,onClose:()=>{A(null)}}))))}),gi);fi.displayName="FindAndReplaceModal";var bi=window.divi.editPost;const vi=function(){return(0,o.createElement)(fi,(()=>{const{modal:e,sourceModuleId:t}=(0,d.useSelect)((e=>({modal:e("divi/modal-library").getModal("divi/find-and-replace"),sourceModuleId:e("divi/modal-library").getModalProperty({modalName:"divi/find-and-replace",property:"owner"})||""})),[]),[r,n]=(0,o.useState)({selectedSourceModule:t,selectedScope:"page",selectedModuleTypes:"all",findValue:"",replaceValue:null,onlyReplaceIdenticalFields:!1}),i=(0,o.useRef)(null);(0,o.useEffect)((()=>{t&&t!==r.selectedSourceModule&&n((e=>({...e,selectedSourceModule:t,selectedScope:"page",selectedModuleTypes:"all",findValue:"",replaceValue:null})))}),[t,r.selectedSourceModule]);const l=(0,o.useMemo)((()=>{const t=e?.attributes,r=t?.sourceModuleId||t?.id;return t?.attrName&&r?(0,Y.getSourceFieldInfo)({sourceModuleId:null,modalAttributes:t}):null}),[e?.attributes,e?.toggleTimestamp]);(0,o.useEffect)((()=>{if(l&&e?.toggleTimestamp){const t={moduleId:l.moduleId,attrName:l.attrName,subName:l.subName,toggleTimestamp:e.toggleTimestamp},r=!i.current||i.current.moduleId!==t.moduleId||i.current.attrName!==t.attrName||i.current.subName!==t.subName,a=i.current&&!r&&l.fieldValue!==i.current.fieldValue;(r||a)&&(i.current={...t,fieldValue:l.fieldValue},n((e=>({...e,selectedSourceModule:l.moduleId,selectedScope:"page",selectedModuleTypes:"all",findValue:l.fieldValue||"",replaceValue:null,onlyReplaceIdenticalFields:!1}))))}}),[l?.moduleId,l?.attrName,l?.subName,e?.toggleTimestamp]);const s=(0,o.useMemo)((()=>l||(r.selectedSourceModule?(0,Y.getSourceFieldInfo)({sourceModuleId:r.selectedSourceModule,modalAttributes:null}):null)),[l,r.selectedSourceModule]),c=e?.isActive||!1,u=(0,Y.useAllModulesWithLabels)({enabled:c}),p=(0,Y.useAvailableModuleTypes)(c),m=(0,d.useSelect)((e=>r.selectedSourceModule&&c?e("divi/edit-post").getAncestorModules(r.selectedSourceModule,"bottom-to-top"):null),[r.selectedSourceModule,c]),h=(0,o.useMemo)((()=>_(r.selectedSourceModule,m)),[r.selectedSourceModule,m]),g=(0,o.useCallback)((e=>{n((t=>({...t,selectedSourceModule:e.inputValue})))}),[]),f=(0,o.useCallback)((e=>{n((t=>({...t,selectedScope:e.inputValue})))}),[]),b=(0,o.useCallback)((e=>{n((t=>({...t,selectedModuleTypes:e.inputValue})))}),[]),v=(0,o.useCallback)((e=>{n((t=>({...t,findValue:e})))}),[]),y=(0,o.useCallback)((e=>{n((t=>({...t,replaceValue:e})))}),[]),w=(0,o.useCallback)((e=>{n((t=>({...t,onlyReplaceIdenticalFields:"on"===e.inputValue})))}),[]),E=(0,o.useCallback)(((e,t)=>{const n=e??r.findValue,i=t??r.replaceValue;(0,d.dispatch)("divi/history").disableHistoryTracking();const o=(0,bi.performFindReplace)({sourceFieldInfo:s,selectedScope:r.selectedScope,selectedModuleTypes:r.selectedModuleTypes,findValue:n,replaceValue:i,onlyReplaceIdenticalFields:r.onlyReplaceIdenticalFields,selectedSourceModule:r.selectedSourceModule});if((0,d.dispatch)("divi/history").enableHistoryTracking(),o&&"PERFORM_FIND_REPLACE_SUCCESS"===o.type&&o.changesCount&&o.changesCount>0){const e=(0,d.select)("divi/edit-post").getContent();(0,d.dispatch)("divi/history").addLayoutItem({label:(0,a.__)("Replaced Attributes","et_builder"),moduleId:r.selectedSourceModule,moduleLabel:"",moduleName:"",state:e,timestamp:(new Date).getTime(),humanTime:(new Date).toLocaleTimeString(),type:"PERFORM_FIND_REPLACE",storeName:"divi/edit-post"})}return o}),[s,r.selectedScope,r.selectedModuleTypes,r.findValue,r.replaceValue,r.onlyReplaceIdenticalFields,r.selectedSourceModule]);return{selectedSourceModule:r.selectedSourceModule,selectedScope:r.selectedScope,selectedModuleTypes:r.selectedModuleTypes,findValue:r.findValue,replaceValue:r.replaceValue,onlyReplaceIdenticalFields:r.onlyReplaceIdenticalFields,sourceFieldInfo:s,allModules:u,availableModuleTypes:p,scopeOptions:h,onSourceModuleChange:g,onScopeChange:f,onModuleTypesChange:b,onFindValueChange:v,onReplaceValueChange:y,onOnlyReplaceIdenticalFieldsChange:w,onFindAndReplace:E}})())};const yi={name:hi,label:"Find And Replace",snappable:!0,type:"multiInstanceModal",videos:[],component:vi,sidebarPosition:!1,attributesMergeStrategy:"replace"},wi="divi/grid-offset-rule-editor",_i={"first-child":{label:(0,a.__)("First Item","et_builder")},"last-child":{label:(0,a.__)("Last Item","et_builder")},even:{label:(0,a.__)("Even Items","et_builder")},odd:{label:(0,a.__)("Odd Items","et_builder")},"3n":{label:(0,a.__)("Every Third Item","et_builder")},"4n":{label:(0,a.__)("Every Fourth Item","et_builder")},"5n":{label:(0,a.__)("Every Fifth Item","et_builder")},"6n":{label:(0,a.__)("Every Sixth Item","et_builder")},"7n":{label:(0,a.__)("Every Seventh Item","et_builder")},"8n":{label:(0,a.__)("Every Eighth Item","et_builder")},"9n":{label:(0,a.__)("Every Ninth Item","et_builder")},"10n":{label:(0,a.__)("Every Tenth Item","et_builder")},custom:{label:(0,a.__)("Custom nth-child Rule","et_builder")}},Ei={columnSpan:{label:(0,a.__)("Column Span","et_builder")},columnStart:{label:(0,a.__)("Column Start","et_builder")},columnEnd:{label:(0,a.__)("Column End","et_builder")},rowSpan:{label:(0,a.__)("Row Span","et_builder")},rowStart:{label:(0,a.__)("Row Start","et_builder")},rowEnd:{label:(0,a.__)("Row End","et_builder")},gridTemplateColumns:{label:(0,a.__)("Grid Template Columns","et_builder")}};var Ci=r(33042),xi=r.n(Ci);const Si=({currentRule:e,targetOffsetOptions:t,offsetRuleOptions:r,onAdminLabelChange:n,onTargetOffsetChange:i,onCustomTargetOffsetChange:o,onOffsetRuleChange:s,onOffsetValueChange:c,onAdminLabelReset:d,onTargetOffsetReset:m,onCustomTargetOffsetReset:h,onOffsetRuleReset:g,onOffsetValueReset:f,colorMode:b})=>l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--grid-offset-rule-editor"},l().createElement(p.WrapperContainer,{modalName:wi,draggable:!0,expandable:!0,colorMode:b,resizable:!0,clampVerticalOffset:!0},l().createElement(p.Header,{name:(0,a.__)("Edit Grid Offset Rule","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"grid-offset-rule-editor",opened:!0},l().createElement("div",{className:"et-vb-grid-offset-rule-editor-modal-form"},l().createElement(p.FieldWrapper,{label:(0,a.__)("Admin Label","et_builder"),description:(0,a.__)("Optional label for identification in the rule list","et_builder"),id:"admin-label",enableReset:Boolean(e.adminLabel),onReset:d},l().createElement(M.Text,{name:"admin-label",value:e.adminLabel||"",onChange:n,defaultValue:(0,a.__)("Grid Offset Rule","et_builder"),showPlaceholderOnEmpty:!0})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Target Offset","et_builder"),description:(0,a.__)("Select which child items to target (e.g., even, odd, every 3rd)","et_builder"),id:"target-offset",enableReset:Boolean(e.targetOffset),onReset:m},l().createElement(M.Select,{name:"target-offset",value:e.targetOffset||"",onChange:i,options:t,defaultValue:"",emptyLabel:(0,a.__)("Select target offset...","et_builder")})),"custom"===e.targetOffset&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Custom nth-child Rule","et_builder"),description:(0,a.__)("Enter custom nth-child pattern (e.g., 3n+1, 4n-1, 2n+3)","et_builder"),id:"custom-target-offset",enableReset:Boolean(e.customTargetOffset),onReset:h},l().createElement(M.Text,{name:"custom-target-offset",value:e.customTargetOffset||"",onChange:o,defaultValue:(0,a.__)("e.g., 3n+1","et_builder"),showPlaceholderOnEmpty:!0})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Offset Rule","et_builder"),description:(0,a.__)("Choose the CSS grid property to apply to the targeted items","et_builder"),id:"offset-rule",enableReset:Boolean(e.offsetRule),onReset:g},l().createElement(M.Select,{name:"offset-rule",value:e.offsetRule||"",onChange:s,options:r,defaultValue:"",emptyLabel:(0,a.__)("Select grid property...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Offset Value","et_builder"),description:(0,a.__)("Enter the numeric value for the grid property (e.g., column span: 1)","et_builder"),id:"offset-value",enableReset:Boolean(e.offsetValue),onReset:f},l().createElement(M.CSSNumeric,{name:"offset-value",value:e.offsetValue||"",onChange:c,cssProperty:"order",step:1,defaultValue:"auto"}))))))),ki={name:wi,component:()=>{const e=(0,d.useSelect)((e=>e("divi/modal-library").getModalProperty({modalName:wi,property:"attributes"})),[]),{rule:t,moduleId:r,colorMode:n,modalContext:i}=e,{presetContext:a}=(0,M.useAttributeEditorData)(r),c=(0,d.useSelect)((e=>e("divi/app-preferences").get(["app","colorMode"])),[]),{editModuleAttribute:u}=(0,d.useDispatch)("divi/edit-post"),{editPresetAttribute:p}=(0,d.useDispatch)("divi/global-data"),{currentBreakpoint:m,currentState:h}=(0,d.useSelect)((e=>({currentBreakpoint:e("divi/app-ui").getBreakpoint()||"desktop",currentState:e("divi/app-ui").getAttributeState()||"value"})),[]),[g,f]=(0,o.useState)(t),b=(0,o.useCallback)((e=>{if(!r&&!i?.parentOnChange)return;let t=[];if(i?.parentOnChange){const t={rules:[e]};return void i.parentOnChange(t)}if(a.isInPresetEditingMode&&a.presetAttributes){const e=(0,s.get)(a.presetAttributes,`module.decoration.layout.${m}.${h}.gridOffsetRules.rules`,[]);t=(0,Y.isImmutableArray)(e)?e.asMutable({deep:!0}):Array.isArray(e)?e:[]}else{const e="module.decoration.layout",n=(0,d.select)("divi/edit-post").getModuleAttr(r,e);if(n){const e=n.getIn([m,h],xi()({})).getIn(["gridOffsetRules"],xi()({})).getIn(["rules"],[]);t=(0,Y.isImmutableArray)(e)?e.asMutable({deep:!0}):Array.isArray(e)?e:[]}}const n=t.map((t=>t.id===e.id?e:t));if(a.isInPresetEditingMode)(({gridOffsetRulesValue:e,presetContext:t,editPresetAttribute:r,currentBreakpoint:n="desktop",currentState:i="value"})=>{if(!t.isInPresetEditingMode||!t.presetType||!t.presetId)return;const a=`module.decoration.layout.${n}.${i}.gridOffsetRules`;"module"===t.presetType?r({presetType:"module",presetSubType:t.presetModuleName,presetId:t.presetId,attrName:a,attrValue:e,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]}):"group"===t.presetType&&t.groupName&&r({presetType:"group",presetSubType:t.groupName,presetId:t.presetId,attrName:a,attrValue:e,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})})({gridOffsetRulesValue:{rules:n},presetContext:a,editPresetAttribute:p,currentBreakpoint:m,currentState:h});else{const e="module.decoration.layout",t=(0,d.select)("divi/edit-post").getModuleAttr(r,e);if(t){const i=t.getIn([m,h],xi()({})).setIn(["gridOffsetRules"],{rules:n}),a=t.setIn([m,h],i);u({id:r,attrName:e,value:a,subName:"gridOffsetRules"})}}}),[r,a,u,p,i,m,h]),v=(0,o.useCallback)((({inputValue:e})=>{const t={...g,adminLabel:e};f(t),b(t)}),[g,b]),y=(0,o.useCallback)((({inputValue:e})=>{const t={...g,targetOffset:e};f(t),b(t)}),[g,b]),w=(0,o.useCallback)((({inputValue:e})=>{const t={...g,offsetRule:e};f(t),b(t)}),[g,b]),_=(0,o.useCallback)((e=>{const t={...g,offsetValue:e};f(t),b(t)}),[g,b]),E=(0,o.useCallback)((({inputValue:e})=>{const t={...g,customTargetOffset:e};f(t),b(t)}),[g,b]),C=(0,o.useCallback)((()=>{f((e=>{const t={...e,adminLabel:""};return b(t),t}))}),[b]),x=(0,o.useCallback)((()=>{f((e=>{const t={...e,targetOffset:""};return b(t),t}))}),[b]),S=(0,o.useCallback)((()=>{f((e=>{const t={...e,customTargetOffset:""};return b(t),t}))}),[b]),k=(0,o.useCallback)((()=>{f((e=>{const t={...e,offsetRule:"columnSpan"};return b(t),t}))}),[b]),I=(0,o.useCallback)((()=>{f((e=>{const t={...e,offsetValue:""};return b(t),t}))}),[b]),A=a.isInPresetEditingMode?"light"===c?"dark":"light":n;return l().createElement(Si,{currentRule:g,targetOffsetOptions:_i,offsetRuleOptions:Ei,onAdminLabelChange:v,onTargetOffsetChange:y,onCustomTargetOffsetChange:E,onOffsetRuleChange:w,onOffsetValueChange:_,onAdminLabelReset:C,onTargetOffsetReset:x,onCustomTargetOffsetReset:S,onOffsetRuleReset:k,onOffsetValueReset:I,colorMode:A})},type:"multiInstanceModal",attributesMergeStrategy:"replace",sidebarPosition:!1,dimensionMinimum:{width:280,height:400},autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal"};var Ii=window.divi.draggable;const Mi="divi/help",Ai=(0,a.__)("Help","et_builder"),Fi=.5625,Ni={page:{exit:{name:"exit",label:"Exit",keys:["Meta","left"],category:"page",action:s.noop},exitToFrontEnd:{name:"exitToFrontEnd",label:"Exit To Front End",keys:["Meta","e"],category:"page",action:s.noop},exitToEditor:{name:"exitToEditor",label:"Exit To Editor",keys:["Meta","Shift","e"],category:"page",action:s.noop},exitToDashboard:{name:"exitToDashboard",label:"Exit To Dashboard",keys:["Meta","Shift","d"],category:"page",action:s.noop},toggleWireframeMode:{name:"toggleWireframeMode",label:"Wireframe Mode",keys:["Shift","W"],category:"page",action:s.noop},viewZoomIn:{name:"viewZoomIn",label:"Responsive Zoom In",keys:["=","Meta"],category:"page",action:s.noop},viewZoomOut:{name:"viewZoomOut",label:"Responsive Zoom Out",keys:["-","Meta"],category:"page",action:s.noop},openHelpModal:{name:"openHelpModal",label:"Open Help Panel",keys:["?"],category:"page",action:s.noop}},module:{copyModule:{name:"copyModule",label:"Copy Module",keys:["Meta","c"],category:"module",action:s.noop},pasteModule:{name:"pasteModule",label:"Paste Module",keys:["Meta","v"],category:"module",action:s.noop},copyPasteModule:{name:"copyPasteModule",label:"Copy-Paste Module",keys:["Meta","c","v"],category:"module",action:s.noop},copyModuleStyle:{name:"copyModuleStyle",label:"Copy Module Style",keys:["Alt","Meta","c"],category:"module",action:s.noop},pasteModuleStyle:{name:"pasteModuleStyle",label:"Paste Module Style",keys:["Alt","Meta","v"],category:"module",action:s.noop},addNewRow:{name:"addNewRow",label:"Add New Row",keys:["r",["1","2","3","4","5","6","7","8","9"]],category:"module",action:s.noop},changeColumnStructure:{name:"changeColumnStructure",label:"Change Column Structure",keys:["c",["1","2","3","4","5","6","7","8","9"]],category:"module",action:s.noop},addNewSection:{name:"addNewSection",label:"Add New Section",keys:["s",["1","2","3"]],category:"module",action:s.noop},makeRowFullWidth:{name:"makeRowFullWidth",label:"Make Row Full Width",keys:["r","f"],category:"module",action:s.noop},increaseRowPadding:{name:"increaseRowPadding",label:"Increase Row Padding",keys:["r",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseRowPadding:{name:"decreaseRowPadding",label:"Decrease Row Padding",keys:["r","alt",["left","top","right","bottom"]],category:"module",action:s.noop},increaseSectionPadding:{name:"increaseSectionPadding",label:"Increase Section Padding",keys:["s",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseSectionPadding:{name:"decreaseSectionPadding",label:"Decrease Section Padding",keys:["s","alt",["left","top","right","bottom"]],category:"module",action:s.noop},increaseModulePadding:{name:"increaseModulePadding",label:"Increase Module Padding",keys:["m",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseModulePadding:{name:"decreaseModulePadding",label:"Decrease Module Padding",keys:["m","alt",["left","top","right","bottom"]],category:"module",action:s.noop},increaseRowPaddingBy10px:{name:"increaseRowPaddingBy10px",label:"Increase Row Padding By 10px",keys:["r","shift",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseRowPaddingBy10px:{name:"decreaseRowPaddingBy10px",label:"Decrease Row Padding By 10px",keys:["r","alt","shift",["left","top","right","bottom"]],category:"module",action:s.noop},increaseSectionPaddingBy10px:{name:"increaseSectionPaddingBy10px",label:"Increase Section Padding By 10px",keys:["s","shift",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseSectionPaddingBy10px:{name:"decreaseSectionPaddingBy10px",label:"Decrease Section Padding By 10px",keys:["s","alt","shift",["left","top","right","bottom"]],category:"module",action:s.noop},increaseModulePaddingBy10px:{name:"increaseModulePaddingBy10px",label:"Increase Module Padding By 10px",keys:["m","shift",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseModulePaddingBy10px:{name:"decreaseModulePaddingBy10px",label:"Decrease Module Padding By 10px",keys:["m","alt","shift",["left","top","right","bottom"]],category:"module",action:s.noop},changeGutterWidth:{name:"changeGutterWidth",label:"Change Gutter Width",keys:["g",["1","2","3","4"]],category:"module",action:s.noop}},modal:{editElementAbove:{name:"editElementAbove",label:"Edit Element Above",keys:["ArrowUp"],category:"modal",action:s.noop},editElementBelow:{name:"editElementBelow",label:"Edit Element Below",keys:["ArrowDown"],category:"modal",action:s.noop},editParentElement:{name:"editParentElement",label:"Edit Parent Element",keys:["ArrowLeft"],category:"modal",action:s.noop},editFirstChildElement:{name:"editFirstChildElement",label:"Edit First Child Element",keys:["ArrowRight"],category:"modal",action:s.noop}}},Ti=()=>{const e=(0,d.select)("divi/help").getOverlayMode();(0,d.dispatch)("divi/help").setOverlayMode(!e)},Oi=e=>{const{modalOffset:t}=e;return e=>{const r=t.top??0,n=t.left??0,i={top:r+e.sinceMouseDown.y,left:n+e.sinceMouseDown.x};(0,d.dispatch)("divi/modal-library").setOffset({name:"divi/help",offset:i})}},Pi=e=>{const{className:t,currentVideo:r,currentVideoList:n,dimension:i,offset:s,overlayMode:c,setCurrentVideo:p,videos:g}=e,f=(0,o.useRef)(null),b=c?i.width:i.width-60,v=800<i.width&&!c?b/2-60:b,y=e=>{e.preventDefault();const t=parseInt(e.currentTarget.getAttribute("data-index"),10);p(t),f.current.scrollIntoView({behavior:"auto",block:"start"})},w=(e="chevron-left")=>l().createElement(m.Button,{isSmall:!0,className:`et-vb-video-list__buttons--${e}`,onMouseDown:()=>{return t="chevron-left"===e?"left":"right",void(0,d.dispatch)("divi/help").setJumpToVideo("left"===t?-1:1);var t},onClick:h.handleOnClickFallback},l().createElement(ie.IconSvg,{name:`divi/${e}`,color:"#273039"})),_=me()("et-vb-video-list",t,c?"et-vb-video-list__overlay-active":"");return l().createElement("div",{ref:f,className:_},l().createElement(Ii.Draggable,{className:me()("et-vb-modal-draggable-no-header"),onElementDrag:Oi({modalOffset:s}),disable:!c},l().createElement("div",{className:"et-vb-video-list__container"},l().createElement("div",{className:"et-vb-video-list__header",style:{height:v*Fi}},l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--help-modal--render-video",componentName:"et-vb-divi-modals--help-modal--render-video"},l().createElement(o.Fragment,null,c?null:l().createElement(m.Button,{isElevate:!0,isPrimary:!0,isRound:!0,isSmall:!0,onMouseDown:Ti,onClick:h.handleOnClickFallback,className:me()("et-vb-button--undock")},l().createElement(ie.IconSvg,{name:"divi/window-undock",color:"#FFFFFF"})),c?l().createElement(m.Button,{isElevate:!0,isPrimary:!0,isRound:!0,isSmall:!0,onMouseDown:Ti,onClick:h.handleOnClickFallback,className:me()("et-vb-button--close")},l().createElement(ie.IconSvg,{name:"divi/close",color:"#FFFFFF"})):null,navigator.onLine?l().createElement(m.YouTubeVideo,{dividers:!0,style:{width:"100%",height:"100%"},videoId:g[n][r].id}):l().createElement("span",null,(0,a.__)("Unable To Establish Internet Connection.","et_builder"))))),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--help-modal--video-list",componentName:"et-vb-divi-modals--help-modal--video-list"},l().createElement("ul",{className:"et-vb-video-list__menu"},l().createElement(o.Fragment,null,Object.keys(g[n]).map((e=>l().createElement("li",{className:me()({"et-vb-video-list__item":!0,"et-vb-video-list__item--active":r===parseInt(e,10)}),key:`video-${e}`,"data-index":e,onClick:h.handleOnClickFallback,onMouseDown:y},l().createElement("div",{className:"et-vb-video-list__icon"}),l().createElement("span",null,g[n][parseInt(e)].name))))),c&&l().createElement(o.Fragment,null,w("chevron-left"),w("chevron-right")))))))},Di=e=>{const[t,r]=(0,o.useState)([]),{groupedShortcuts:n}=e;return l().createElement("div",{className:"et-vb-shortcut-panel",key:"et-vb-shortcut-panel"},(0,s.keys)(n).map((e=>l().createElement("div",{className:"et-vb-shortcut-groups",key:`et-vb-shortcut-group-${e}`},l().createElement("label",{className:"et-vb-field-label"},`${(0,s.capitalize)(e)} Shortcuts`),(0,s.keys)(n[e]).map((i=>l().createElement("div",{className:"et-vb-shortcut-item",key:`et-vb-shortcut-item-${i}`},l().createElement("span",{className:"et-vb-shortcut-keys"},n[e][i].keys.map(((e,n)=>{const a=(e=>{switch(e){case"Meta":return"cmd";case" ":return"space";case"ArrowUp":return"";case"ArrowDown":return"";case"ArrowLeft":return"";case"ArrowRight":return"";default:return e}})(e),c=t.includes(i);return(0,s.isArray)(a)?a.map(((e,t)=>t<(c?a.length:5)?l().createElement(o.Fragment,{key:`et-vb-shortcut-key-${i}-${e}`},l().createElement("span",{className:"et-vb-shortcut-key-separator"},0===t?"+":"/"),l().createElement("kbd",{"data-key":e,className:"et-vb-shortcut-key"},e)):5!==t||c?null:l().createElement(o.Fragment,{key:`et-vb-shortcut-key-${i}-more`},l().createElement("span",{className:"et-vb-shortcut-key-separator"},"/"),l().createElement("kbd",{className:"et-vb-shortcut-key more-keys",onClick:()=>(e=>{r((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(i)},"...")))):l().createElement(o.Fragment,{key:`et-vb-shortcut-key-${i}-${a}`},n>0?l().createElement("span",{className:"et-vb-shortcut-key-separator"},"+"):null,l().createElement("kbd",{"data-key":a,className:"et-vb-shortcut-key"},a))}))),l().createElement("span",{className:"et-vb-shortcut-label"},n[e][i].label))))))))},Li=e=>{const{tab:t,groupedShortcuts:r,videos:n,dimension:i,offset:s,currentVideoList:c,currentVideo:d,overlayMode:m,setCurrentVideo:h,onElementClick:g,onElementDrag:f}=e,b=(0,a.__)("Video Tutorials","et_builder"),v=(0,a.__)("Keyboard Shortcuts","et_builder"),y=t||"video",w=()=>l().createElement(Pi,{currentVideo:d,currentVideoList:c,dimension:i,offset:s,overlayMode:m,setCurrentVideo:h,videos:n});return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--help",componentName:"et-vb-divi-modals--help"},l().createElement(p.WrapperContainer,{snappable:!0,expandable:!1,draggable:!0,resizable:!0,multiPanels:!0,modalName:Mi,modalActiveTab:y,dimension:i,onElementClick:g,onElementDrag:f},m?w():l().createElement(o.Fragment,null,l().createElement(p.Header,{name:(0,a.__)("Divi Builder Helper","et_builder")}),l().createElement(p.BodyPanelWrapperContainer,null,l().createElement(p.PanelContainer,{id:"video",label:b},w()),l().createElement(p.PanelContainer,{id:"shortcut",label:v},l().createElement(Di,{groupedShortcuts:r}))))))},{defaults:Ri}=he.modal,{minimums:Vi}=he.modal,Bi=[{name:"helpModalVideo-up",label:(0,a.__)("Select Prev Help Video","et_builder"),keys:["ArrowUp"],category:"modal",action:()=>{(0,d.dispatch)("divi/help").setJumpToVideo(-1)}},{name:"helpModalVideo-down",label:(0,a.__)("Select Next Help Video","et_builder"),keys:["ArrowDown"],category:"modal",action:()=>{(0,d.dispatch)("divi/help").setJumpToVideo(1)}},{name:"helpModalVideo-left",label:(0,a.__)("Select Prev Help Video","et_builder"),keys:["ArrowLeft"],category:"modal",action:()=>{(0,d.dispatch)("divi/help").setJumpToVideo(-1)}},{name:"helpModalVideo-right",label:(0,a.__)("Select Next Help Video","et_builder"),keys:["ArrowRight"],category:"modal",action:()=>{(0,d.dispatch)("divi/help").setJumpToVideo(1)}}],ji=({width:e,videoRatio:t,videos:r,currentVideoList:n,overlayMode:i,topWindowHeight:a,pageBarHeight:o})=>{const l=(i?e:e-60)*t;if(i)return l;const s=800<e?85:51,c=(800<e?l/2:l)+54*Object.keys(r[n]).length-s,d=a-o-20;return Math.round(Math.min(c,d))},qi={name:Mi,label:Ai,type:"multiInstanceModal",isSubmodal:!0,component:e=>{const{dimension:t,name:r,offset:n}=e,{videoList:i,currentVideo:a,videos:l,overlayMode:s,topWindowHeight:c,pageBarHeight:u}=(0,d.useSelect)((e=>({videoList:e("divi/help").getCurrentListName(),currentVideo:e("divi/help").getCurrentVideo(),videos:e("divi/help").getVideos(),overlayMode:e("divi/help").getOverlayMode(),topWindowHeight:e("divi/app-ui").getWindow("height","top"),pageBarHeight:e("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"})}))),p=l[i]?i:"divi/default";(0,o.useEffect)((()=>((0,Oe.registerShortcuts)(Bi),()=>(0,Oe.unregisterShortcuts)(Bi.map((e=>e.name))))),[]);const m=()=>{const e=t?.width;return{width:e,height:ji({width:e,videoRatio:Fi,videos:l,currentVideoList:p,overlayMode:s,topWindowHeight:c,pageBarHeight:u})}},[h,g]=(0,o.useState)(m());(0,o.useEffect)((()=>{g(m())}),[s]),(0,o.useEffect)((()=>{(0,d.dispatch)("divi/modal-library").setDimension({name:r,dimension:h})}),[h]);const f=(0,o.useCallback)((()=>e=>{const t=Math.max(Vi.dimension.width,0+h.width+e.sinceMouseDown.x),r=s?ji({width:t,videoRatio:Fi,videos:l,currentVideoList:p,overlayMode:s,topWindowHeight:c,pageBarHeight:u}):"number"==typeof h.height?h.height+e.sinceMouseDown.y:h.height;g({width:t,height:r})}),[p,h]),b={...e,currentVideoList:p,overlayMode:s,dimension:h,offset:n,groupedShortcuts:Ni,videos:l,currentVideo:a,setCurrentVideo:(0,d.dispatch)("divi/help").setCurrentVideo,onElementDrag:f};return(0,o.createElement)(Li,b)}},Wi="divi/icon-picker",Gi=({icons:e=ie.iconList,showFilter:t=!0,showSearch:r=!0,selectedIcon:n,onChange:i,registerShortcuts:s,unregisterShortcuts:c,dimension:d})=>{const[m,h]=(0,o.useState)(n),[g,f]=(0,o.useState)(),b=e=>{h(e.inputValue),i(e)};return(0,o.useEffect)((()=>{h(n)}),[n]),(0,o.useEffect)((()=>{const e=(0,M.iconPickerShortcuts)({onChange:b,prefix:"expandedIconModal",scrollArea:g});return g&&s(e),()=>{c(e.map((e=>e.name)))}}),[g]),l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--icon-picker"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:Wi,draggable:!0,expandable:!0,resizable:!0,dimension:null},l().createElement(p.Header,{name:(0,a.__)("Select Icon","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"icon-picker",opened:!0},l().createElement(M.IconPickerExpandedIcon,{icons:e,selectedIcon:m,onClickIcon:b,scrollToSelected:!0,showFilter:t,showSearch:r,name:"iconPickerModal",customHeight:("number"==typeof d.height?d.height-113:0)+"px",setScrollArea:f}))))))},Hi=(0,a.__)("Icon Picker","modal-library"),Ui=e=>{const{name:t,dimension:r}=e,{attributes:n}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/icon-picker",property:"attributes"})})));return(0,o.createElement)(Gi,{...n,closeModal:()=>(0,d.dispatch)("divi/modal-library").close({name:t}),dimension:r,registerShortcuts:Oe.registerShortcuts,unregisterShortcuts:Oe.unregisterShortcuts})},$i={name:Wi,label:Hi,type:"multiInstanceModal",component:Ui,canBeSavedOnWorkspace:!1};const zi={"divi/color-picker":"colors","divi/common-css-numeric":"numbers","divi/common-numeric-input":"numbers","divi/common-numeric-range":"numbers","divi/common-numeric-spinner":"numbers","divi/common-spectrum-range":"numbers","divi/common-opacity-range":"numbers","divi/corner-picker":"numbers","divi/transform-origin":"effects","divi/transform-rotate":"effects","divi/transform-scale":"effects","divi/transform-skew":"effects","divi/transform-translate":"effects","divi/common-transform-base":"effects","divi/scroll-effect":"effects","divi/select-font":"fonts","divi/select-divider":"shapes","divi/select-pattern":"shapes","divi/select-mask":"shapes","divi/text":"text","divi/richtext":"text","divi/textarea":"text","divi/upload":"media","divi/upload-gallery":"media","divi/icon-picker":"icons","divi/code":"code","divi/attributes":"attributes"},Ki=[{component:"divi/select",labelIncludes:"font weight",category:"weights"},{component:"divi/text",labelIncludes:"url",category:"links"},{component:"divi/text",labelIncludes:"css",category:"code"},{component:"divi/text",labelIncludes:"attribute value",category:"attributes"},{component:"divi/select",labelExactMatch:"layout style",category:"layout"},{component:"divi/button-options",labelEndsWith:"font style",category:"styles"}];function Zi(e,t,r){if(!e)return null;if(r){const t=r.toLowerCase(),n=Ki.find((r=>r.component===e&&(r.labelExactMatch?t===r.labelExactMatch:r.labelEndsWith?t.endsWith(r.labelEndsWith):!!r.labelIncludes&&t.includes(r.labelIncludes))));if(n)return n.category}return"divi/range"===e?!0===t?.cssSliderUI?"effects":"numbers":zi[e]??null}const Ji={colors:"color",fonts:"font",weights:"font",numbers:"number",text:"text",media:"image",shapes:null,styles:null,effects:null,layout:null,icons:null,links:null,code:null,attributes:null},Yi=e=>{if("divi/upload"===e.name&&"video"===e.props?.dataType)return null;const t=Zi(e.name,e.props);return t?Ji[t]??null:null},Xi=(e,t,r,n)=>{let i={};if("numbers"===t)i={cssProperty:"all",hideNumericSpinner:!0};else if("weights"===t)i={options:ae.fontWeightOptions};else if("styles"===t&&"divi/button-options"===e)i={options:ae.fontStyleOptions,showLabel:!1,fullwidth:!0};else if("layout"===t&&"divi/select"===e)i={options:{block:{label:(0,a.__)("Block","et_builder")},flex:{label:(0,a.__)("Flex","et_builder")},grid:{label:(0,a.__)("Grid","et_builder")}}};else if("effects"===t)i={cssProperty:"transform"};else if("media"===t&&"divi/upload"===e){i={dataType:(r[0]?.toLowerCase()||"").includes("video")?"video":"image"}}else if("code"===t&&"divi/code"===e){i="CSS"===(r[0]||"")?{mode:"css",inlineCssSelector:null}:{mode:"htmlmixed"}}return{fieldComponent:{name:e,props:i},label:r[0]||e,defaultValue:null}},Qi=(e,t)=>{const r=e.fieldLabels||[e.fieldInfo.label||t],n=function(e){const[t]=e;return t?e.length>1?`${t} + ${e.length-1} ${(0,a.__)("More","et_builder")}`:t:(0,a.__)("Unknown Field","et_builder")}(r),i=function(e){return 0===e.length?(0,a.__)("No fields found","et_builder"):e.join("\n")}(r),o=(0,a.__)("Update this value in all detected locations.","et_builder");return{fieldLabels:r,enhancedLabel:n,fieldTooltip:e.fieldLabels&&e.fieldLabels.length>1?i:null,description:o}},ea=["colors","numbers","fonts","weights","styles","shapes","effects","layout","text","media","icons","links","code","attributes"],ta={colors:{},numbers:{},fonts:{},weights:{},styles:{},shapes:{},effects:{},layout:{},text:{},media:{},icons:{},links:{},code:{},attributes:{}},ra={modulePresets:{},optionGroupPresets:{}},na=["divi/gradient","divi/border-radius","divi/spacing","divi/transform-translate","divi/transform-scale","divi/transform-skew","divi/transform-rotate","divi/attributes","divi/icon-picker"],ia=["interactions","conditions"],aa=["gradient","icon","attributes"],oa={topLeft:(0,a.__)("Top Left","et_builder"),topRight:(0,a.__)("Top Right","et_builder"),bottomLeft:(0,a.__)("Bottom Left","et_builder"),bottomRight:(0,a.__)("Bottom Right","et_builder")},la={top:(0,a.__)("Top","et_builder"),right:(0,a.__)("Right","et_builder"),bottom:(0,a.__)("Bottom","et_builder"),left:(0,a.__)("Left","et_builder")},sa={x:(0,a.__)("X","et_builder"),y:(0,a.__)("Y","et_builder")},ca={x:(0,a.__)("X","et_builder"),y:(0,a.__)("Y","et_builder"),z:(0,a.__)("Z","et_builder")},da={stopLabel:(0,a.__)("Stop","et_builder"),fallbackLabel:(0,a.__)("Gradient","et_builder")},ua=((0,a.__)("Icon Unicode","et_builder"),(0,a.__)("Icon Type","et_builder"),(0,a.__)("Icon Weight","et_builder"),(0,a.__)("Icon","et_builder"),e=>e<=3?0:e<=10?8:e<=25?16:e<=50?32:e<=100?64:128),pa=({pendingPresetMatches:e,onConfirm:t,onCancel:r})=>{const n=e.reduce(((e,t)=>{const r=`${t.presetType}-${t.presetId}`;return e[r]||(e[r]=t),e}),{}),i=Object.values(n);return l().createElement("div",{className:"et-vb-modal__overlay"},l().createElement("div",{className:"et-vb-modal__overlay__header"}),l().createElement("div",{className:"et-vb-modal__overlay__content"},l().createElement(p.ConfirmationDialog,{title:(0,a.__)("Update Presets?","et_builder"),confirmButtonText:(0,a.__)("Update All Presets","et_builder"),onConfirm:t,onCancel:r},l().createElement("p",null,(0,a.__)("This attribute exists in the following presets:","et_builder")),l().createElement("ul",{style:{marginTop:"10px",paddingLeft:"20px"}},i.map((e=>l().createElement("li",{key:`${e.presetType}-${e.presetId}`},l().createElement("strong",null,e.presetName),e.moduleName&&` (${e.moduleName})`,e.groupName&&` (${e.groupName})`)))),l().createElement("p",{style:{marginTop:"15px"}},(0,a.__)("Would you like to update this attribute in all of these presets as well?","et_builder")))))},ma={},ha=(0,o.memo)((({preset:e,onPresetChangeCallback:t})=>{const r=(0,d.useSelect)((t=>"module"===e.type&&e.moduleName?t("divi/global-data").getModulePresetsList({moduleName:e.moduleName,presetType:"module"}):"option-group"===e.type&&e.groupName?t("divi/global-data").getAllGroupPresetData({groupName:e.groupName}):null),[e.type,e.moduleName,e.groupName]),n=(0,o.useMemo)((()=>r?r.asMutable({deep:!0}):ma),[r]),i=(0,o.useMemo)((()=>{const e={};return Object.entries(n).forEach((([t,r])=>{const n=r;e[t]={label:n.name||t}})),e}),[n]),s=(0,o.useMemo)((()=>{const t=e.moduleIds.length,r=t>1?` (${t} modules)`:"";if("module"===e.type){const t=e.moduleName||(0,a.__)("Module","et_builder"),n=t.split("/")[1]||t;return n.charAt(0).toUpperCase()+n.slice(1)+r}if("option-group"===e.type){return(e.groupName||(0,a.__)("Option Group","et_builder"))+r}return(0,a.__)("Preset","et_builder")+r}),[e.type,e.moduleName,e.groupName,e.moduleIds.length]);return Object.keys(i).length<=1?null:l().createElement(p.FieldWrapper,{label:s,description:`${(0,a.__)("Current:","et_builder")} ${e.name}`,id:`preset-selector-${e.id}`,enableReset:!0,onReset:()=>{t(e,"")}},l().createElement(M.Select,{name:`preset-selector-${e.id}`,value:e.id,options:i,onChange:r=>{const n=r.inputValue;n&&n!==e.id&&t(e,n)},searchable:Object.keys(i).length>10,defaultValue:e.id}))}));ha.displayName="PresetSelector";const ga=(0,o.memo)((({groupId:e,title:t,presets:r,expandedGroupId:n,onToggleGroup:i,onPresetChangeCallback:a})=>Object.keys(r).length>0?l().createElement(p.Group,{key:e,id:e,title:t,opened:n===e,onTitleClick:()=>i(e),onMouseEnter:()=>{},onMouseLeave:()=>{}},Object.entries(r).map((([t,r])=>l().createElement(ha,{key:`${e}-${t}`,preset:r,onPresetChangeCallback:a})))):null));ga.displayName="PresetGroup";const fa=(0,o.memo)((({selectedModuleId:e,attributeValues:t,expandedGroupId:r,extractedAttributes:n,extractedPresets:i,activeTab:s,onAttributeChange:c,onToggleGroup:m,onTabChange:h,onPresetChange:g,showPresetConfirmationDialog:f,pendingPresetMatches:b,onConfirmPresetUpdates:v,onCancelPresetUpdates:y,bodySiblingHeight:w})=>{const[_,E]=(0,o.useState)(null),[C,x]=(0,o.useState)(""),[S,k]=(0,o.useState)(null),[I,M]=(0,o.useState)(w),A=(0,o.useMemo)((()=>(e=>ea.map((t=>{const r=e[t];return r&&Object.values(r)[0]?.moduleIds?.[0]||null})).find((e=>null!==e))||"")(n)),[n]),F=(0,d.useSelect)((e=>e("divi/settings").getEnabledBreakpoints()||[]),[]),N=(0,o.useMemo)((()=>F.map((e=>e.name))),[F]),T=(0,d.useSelect)((e=>e("divi/settings").checkRolePermission("divi_ai")),[]),O=(0,d.useSelect)((e=>e("divi/app-ui").isSidebarModal("divi/inspector")),[]),P=(0,d.useSelect)((e=>A?e("divi/edit-post").getModule(A):null),[A]),D=(0,d.useSelect)((e=>A&&e("divi/settings").getBaseBreakpointName()||"desktop"),[A]),L=(0,o.useMemo)((()=>({isDiviAIEnabled:T,currentModule:P,baseBreakpoint:D})),[T,P,D]),R=(0,o.useMemo)((()=>(({firstModuleId:e,currentModule:t,baseBreakpoint:r,breakpointNames:n})=>e&&t?{moduleId:e,attr:t?.props?.attrs||{},attrName:"",appBaseBreakpoint:r,appBreakpoint:"desktop",appBreakpointNames:n,appState:"value",parentOnChange:!0}:null)({firstModuleId:A,currentModule:L.currentModule,baseBreakpoint:L.baseBreakpoint,breakpointNames:N})),[A,L.currentModule,L.baseBreakpoint,N]);ue([{pattern:e=>e.startsWith("inspector-"),handler:(e,t)=>{const r=t.replace("inspector-","");r&&c&&c(r,e)}}]);const V=(0,o.useMemo)((()=>((e,t)=>{if(!t?.trim())return e;const r=t.toLowerCase(),n={};return ea.forEach((e=>{n[e]={}})),Object.entries(e).forEach((([e,t])=>{const i=e;Object.entries(t||{}).forEach((([e,t])=>{const a=t;a?.fieldInfo&&[a.fieldInfo.label||"",...a.fieldLabels||[],a.attrName].join(" ").toLowerCase().includes(r)&&(n[i][e]=a)}))})),n})(n,C)),[n,C]),B=(e,t,r)=>{const{enhancedLabel:n,fieldTooltip:i,description:a}=Qi(t,e),o=((e,t)=>{const r=Yi(e.fieldInfo.fieldComponent);return e.moduleIds&&0!==e.moduleIds.length?{moduleId:e.moduleIds[0],attrName:e.attrName,subName:e.subName,fieldComponent:e.fieldInfo.fieldComponent,label:t,defaultValue:e.fieldInfo.defaultValue,dynamicContentType:r,features:{dynamicContent:!!r&&{type:r}}}:null})(t,n),s=((e,t,r)=>{const n=Yi(e.fieldInfo.fieldComponent);return e.moduleIds&&0!==e.moduleIds.length?{moduleId:e.moduleIds[0],attrName:e.attrName,subName:e.subName,fieldLabel:t,fieldValue:r,defaultValue:e.fieldInfo.defaultValue,fieldComponent:e.fieldInfo.fieldComponent,dynamicContentType:n,features:{dynamicContent:!!n&&{type:n}}}:null})(t,n,r),d=te(r,(t=>c(e,t))),u=ce({sourceFieldInfo:s,activeDynamicContentField:_,setActiveDynamicContentField:E,value:r,onChange:t=>c(e,t),isDiviAIEnabled:T,fieldKey:`inspector-${e}`,customActiveAIField:`inspector-${e}`});return l().createElement(p.FieldWrapper,{key:e,label:n,labelTooltip:i,description:a,id:`inspector-${e}`,enableReset:!0,onReset:d,additionalButtons:u},l().createElement(ge,{value:r,onChange:t=>c(e,t),fieldInfo:o,name:e,setActiveDynamicContentField:E,activeDynamicContentField:_,fieldKey:`inspector-${e}`,modalContext:R?{...R,attrName:t.attrName}:null,excludeDefaultValue:!0}))},j=(0,o.useMemo)((()=>((e,t)=>{const r=[{id:"colors",title:(0,a.__)("Colors","et_builder")},{id:"numbers",title:(0,a.__)("Numbers","et_builder")},{id:"fonts",title:(0,a.__)("Fonts","et_builder")},{id:"weights",title:(0,a.__)("Weights","et_builder")},{id:"styles",title:(0,a.__)("Font Style","et_builder")},{id:"shapes",title:(0,a.__)("Shapes","et_builder")},{id:"effects",title:(0,a.__)("Effects","et_builder")},{id:"layout",title:(0,a.__)("Layout","et_builder")}],n=[{id:"media",title:(0,a.__)("Media","et_builder")},{id:"icons",title:(0,a.__)("Icons","et_builder")},{id:"links",title:(0,a.__)("Links","et_builder")},{id:"code",title:(0,a.__)("Code","et_builder")},{id:"attributes",title:(0,a.__)("Attributes","et_builder")},{id:"text",title:(0,a.__)("Text","et_builder")}],i=[{id:"module-presets",title:(0,a.__)("Module Presets","et_builder")},{id:"option-group-presets",title:(0,a.__)("Option Group Presets","et_builder")}];return{styles:r.map((t=>({...t,attributes:e[t.id]}))),content:n.map((t=>({...t,attributes:e[t.id]}))),presets:i.map((e=>({...e,presets:t["module-presets"===e.id?"modulePresets":"optionGroupPresets"]})))}})(V,i)),[V,i]),q=(0,o.useMemo)((()=>(e=>{const t=e.styles.some((e=>Object.keys(e.attributes||{}).length>0)),r=e.content.some((e=>Object.keys(e.attributes||{}).length>0)),n=e.presets.some((e=>Object.keys(e.presets||{}).length>0)),i=[];return t&&i.push({id:"styles",title:(0,a.__)("Styles","et_builder")}),r&&i.push({id:"content",title:(0,a.__)("Content","et_builder")}),n&&i.push({id:"presets",title:(0,a.__)("Presets","et_builder")}),i})(j)),[j]),W=(0,o.useMemo)((()=>((e,t)=>{if(0===t.length)return"content";const r=t.find((t=>t.id===e));if(r)return r.id;const n=t.find((e=>"content"===e.id));if(n)return n.id;const i=t.find((e=>"presets"===e.id));if(i)return i.id;const a=t.find((e=>"styles"===e.id));return a?a.id:t[0].id})(s,q)),[s,q]);(0,o.useEffect)((()=>{let t=0;q.length>1&&(t+=48),e&&""!==e&&!O&&(t+=30),M(w+t)}),[q.length,e,O,w]);const G=e=>{const n=e.attributes&&Object.keys(e.attributes).length>0,i=e.presets&&Object.keys(e.presets).length>0;if(!n&&!i)return null;const a=Boolean(C?.trim()),o=a||r===e.id;if(i){const t=e.id;return l().createElement(ga,{key:e.id,groupId:t,title:e.title,presets:e.presets,expandedGroupId:a?t:r,onToggleGroup:m,onPresetChangeCallback:g})}return l().createElement(p.Group,{key:e.id,id:e.id,title:e.title,opened:o,onTitleClick:()=>m(e.id),onMouseEnter:()=>{},onMouseLeave:()=>{}},Object.entries(e.attributes||{}).sort((([,e],[,t])=>{const r=e,n=t,i=r.moduleIds?.length||0,a=n.moduleIds?.length||0;if(i!==a)return a-i;const o=r.fieldInfo?.label||"",l=n.fieldInfo?.label||"";return o.localeCompare(l,[],{sensitivity:"base"})})).map((([e,r])=>{const n=r;return B(e,n,t[e]??n.value)})))};return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--inspector",componentName:"et-vb-divi-modals--inspector"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:"divi/inspector",draggable:!0,expandable:!0,snappable:!0,resizable:!0,bodySiblingHeight:I,owner:e},l().createElement(p.Header,{name:(0,a.__)("Inspector","et_builder"),renderBefore:()=>e?l().createElement(p.Breadcrumb,{moduleId:e}):null}),q.length>1&&l().createElement(p.Tabs,null,q.map((e=>l().createElement(p.Tab,{key:e.id,onClick:()=>h(e.id),active:W===e.id},e.title)))),l().createElement(p.SearchFilter,{value:C,onChange:x,placeholder:(0,a.__)("Search attributes...","et_builder"),name:"inspector-search",showFilter:!1,activeFilter:S,onFilterChange:k,onTabChange:e=>{const t={design:"styles",content:"content",advanced:"content"}[e];t&&h(t)}}),l().createElement(p.BodyContainer,{className:C?"et-vb-modal-body--search-active":""},l().createElement(p.PanelContainer,{id:"inspector",opened:!0},(()=>{const e=C?.trim();if(e)return l().createElement(l().Fragment,null,j.styles.map(G),j.content.map(G));switch(W){case"styles":return j.styles.map(G);case"content":return j.content.map(G);case"presets":return j.presets.map(G);default:return null}})())),f&&l().createElement(pa,{pendingPresetMatches:b,onConfirm:v,onCancel:y}))))}));fa.displayName="InspectorModal";function ba(e){const t=(0,d.select)("divi/edit-post");return e.map((e=>({id:e,moduleName:t.getModuleName(e)||"",moduleAttrs:t.getModuleAttrs(e),modifiedAttrs:"getModuleModifiedAttrs"in t&&"function"==typeof t.getModuleModifiedAttrs&&t.getModuleModifiedAttrs(e)||{}}))).filter((e=>e.moduleName&&Object.keys(e.modifiedAttrs).length>0))}function va(e,t,r,n,i){return{path:e,value:t,componentName:r,label:`${n} (${i})`,fieldPath:e}}const ya=new Map;function wa(e,t,r){if(e)try{const n=r||JSON.stringify(e);let i;ya.has(n)?i=ya.get(n):(i=(0,Y.flattenAttrs)(e),ya.set(n,i));const a=Object.entries(i);if(0===a.length)return;a.forEach((([e,r])=>{(0,Y.isMeaningfulValue)(r)&&t(e,r)}))}catch(e){}}function _a(){ya.clear()}const Ea=(e,t)=>{try{if(!e?.trim()||!t?.trim())return null;const r=(0,d.select)("divi/global-data").getGroupPresetItem({groupName:e,presetId:t,useDefaultFallback:!1});return r?r.asMutable({deep:!0}):null}catch(e){return null}},Ca=(e,t)=>{try{if(!e?.trim()||!t?.trim())return null;const r=(0,d.select)("divi/global-data").getModulePreset({moduleName:e,id:t,presetType:"module"});return r?(0,Y.isImmutableObject)(r)?r.asMutable({deep:!0}):r:null}catch(e){return null}};function xa(e,t){const r=(0,Y.stripAttributeStateSuffixes)(e),n=new RegExp(`\\.(${t.join("|")})\\.value`,"g");return r.replace(n,"").replace(/\.value$/,"")}const Sa=new Set(["100","200","300","400","500","600","700","800","900"]),ka=new Set(["divi","fa"]);function Ia(e,t){const r={};return["unicode","type","weight"].forEach((n=>{const i=`${t}.${n}`.split("."),a=(0,Y.safeGetIn)(e,i);var o;null!=a&&"string"==typeof a&&a.length>0&&("weight"===n?(o=a,Sa.has(o)&&(r[n]=a)):"type"===n?function(e){return ka.has(e)}(a)&&(r[n]=a):"unicode"===n&&function(e){return e.length>0&&/^[a-fA-F0-9&#;x]+$/.test(e)}(a)&&(r[n]=a))})),r.unicode?r:null}const Ma=(e,t,r,n,i)=>{const a=e.match(/(.+)\.(margin|padding)\.(\w+)$/);if(!a)return[];const[,o,l,s]=a;if(!["top","right","bottom","left"].includes(s))return[];const c=`${o.replace(/\.\w+\.value$/,"")}.${l}`;return[{value:t,moduleId:r,componentName:"divi/common-css-numeric",label:`${i[c]||c} ${l} ${la[s]||s}`,attributePath:e}]},Aa=[{pathIncludes:".radius.",extractor:(e,t,r,n,i)=>{const a=e.match(/(.+)\.radius\.(\w+)$/);if(!a)return[];const[,o,l]=a;if(!["topLeft","topRight","bottomLeft","bottomRight"].includes(l))return[];const s=`${o.replace(/\.\w+\.value$/,"")}.radius`;return[{value:t,moduleId:r,componentName:"divi/common-css-numeric",label:`${i[s]||s} ${oa[l]||l}`,attributePath:e}]}},{pathIncludes:".margin.",extractor:Ma},{pathIncludes:".padding.",extractor:Ma},{pathIncludes:".transform.",extractor:(e,t,r,n,i)=>{const a=e.match(/(.+)\.transform\.\w+\.value\.(\w+)\.([xyz])$/);if(!a)return[];const[,o,l,s]=a,c=`${o}.transform.${l}`,d=i[c]||c;return[{value:t,moduleId:r,componentName:"divi/common-css-numeric",label:"rotate"===l?`${d} ${ca[s]||s}`:`${d} ${sa[s]||s}`,attributePath:e}]}},{pathIncludes:".gradient.stops",extractor:(e,t,r,n,i)=>{const a=e.match(/(.+)\.gradient\.stops$/);if(!a)return[];if(!Array.isArray(t))return[];const[,o]=a,l=i[`${o.replace(/\.\w+\.value$/,"")}.gradient.stops`]||da.fallbackLabel;let s=0;return t.map(((t,n)=>{if(null===t)return null;if("object"!=typeof t)return null;if(!("color"in t))return null;return s++,{value:t.color,moduleId:r,componentName:"divi/color-picker",label:`${l} ${da.stopLabel} ${s}`,attributePath:`${e}.${n}.color`}})).filter((e=>null!==e))}},{pathIncludes:".attributes",extractor:(e,t,r)=>{if(!e.match(/(.+)\.attributes$/))return[];if(!Array.isArray(t))return[];let n=0;return t.map(((t,i)=>{if(null===t)return null;if("object"!=typeof t)return null;if(!("value"in t))return null;const a=t;n++;const o=a.name||`Attribute ${n}`;return{value:a.value,moduleId:r,componentName:"divi/text",label:`${o} Attribute Value`,attributePath:`${e}.${i}.value`}})).filter((e=>null!==e))}},{pathIncludes:".icon.",extractor:(e,t,r,n,i)=>{const a=e.match(/(.+)\.icon\.(\w+)$/);if(!a)return[];const[,o,l]=a;if("unicode"!==l)return[];const s=`${o}.icon`,c=i[o.replace(/\.\w+\.value$/,".icon")]||"Icon",d=Ia(n,s);return d&&(0,Y.isMeaningfulValue)(d)?[{value:d,moduleId:r,componentName:"divi/icon-picker",label:c,attributePath:s}]:[]}}];function Fa(e){return e.replace(/['"\\]/g,"").replace(/\s+/g,"-").replace(/[{}[\]]/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")}const Na=new Map;function Ta(e,t,r,n,i){const a=function(e){if(Na.has(e))return Na.get(e);const t=Fa(e);return Na.set(e,t),t}("string"==typeof e.value?e.value:String(e.value??"")),o=`preset-${r}-${e.fieldPath.replace(/\./g,"-")}-${a}`,l=n[o];l?(l.moduleIds.includes(t)||l.moduleIds.push(t),l.fieldLabels.includes(e.label)||l.fieldLabels.push(e.label),l.attributePaths||(l.attributePaths=[]),l.attributePaths.includes(e.path)||l.attributePaths.push(e.path)):n[o]={value:e.value,moduleIds:[t],componentName:e.componentName,label:e.label,fieldLabels:[e.label],attributePaths:[e.path],presetMatches:[{presetId:r,presetName:i||`Preset ${r}`,moduleName:"",presetType:"module",attributePath:e.path}]}}function Oa(e){const{attrPath:t,value:r,attrGroup:n,moduleAttrs:i,moduleId:a,presetId:o,presetName:l,fieldLabelsMap:s,result:c}=e,d=Aa.find((({pathIncludes:e})=>t.includes(e)));if(!d)return!1;return d.extractor(t,r,a,i,s).forEach((e=>{const t=[n,...e.attributePath.split(".")];if(!(null!==i.getIn(t,null))){Ta(va(e.attributePath,e.value,e.componentName,e.label,l),a,o,c,l)}})),!0}function Pa(e,t,r=new Set){const n=(0,d.select)("divi/edit-post").getModuleStructureIds(e);if(0===n.length)return;const i=ba(n).map((({id:e,moduleName:t,moduleAttrs:r})=>({id:e,moduleName:t,moduleAttrs:r})));if(0===i.length)return;!function(e,t,r,n){e.forEach((({id:e,moduleName:i,moduleAttrs:a})=>{if(!n.has(e)){n.add(e);try{const n=(0,Te.getAttrsMaps)({attrsMapsType:"module",moduleName:i}),o=n?.fieldLabelsMap||{};if(!n||!o)return;const l=(i,l,s)=>{["styleAttrs","attrs"].forEach((c=>{const d=i[c];if(d)try{wa(d,((i,d)=>{const u=[c,...i.split(".")];if(null!==a.getIn(u,null))return;if(Oa({attrPath:i,value:d,attrGroup:c,moduleAttrs:a,moduleId:e,presetId:l,presetName:s,fieldLabelsMap:o,result:r}))return;let p=n.attrsComponentMap[i]||null;const m=xa(i,t);if(!p&&(p=n.attrsComponentMap[m]||null,!p)){const e=m.split(".");if(e.length>1){const t=e.join("__");p=n.attrsComponentMap[t]||null}}if(!p)return;Ta(va(i,d,p,o[m]||o[i]||m,s),e,l,r,s)}),`${l}-${c}`)}catch(e){}}))},s=a.getIn(["modulePreset"]),c=(0,d.select)("divi/global-data").getDefaultPresetID({presetSubType:i,presetType:"module"});let u=(0,Y.normalizePresetStack)(s);0===u.length&&c&&(u=[c]),u.forEach((a=>{if(a&&""!==a){const s=Ca(i,a);if(s){const c=s.name||a;if(l(s,a,c),s.groupPresets){const a={groupPresets:s.groupPresets};Da(xi()(a),e,i,t,o,r,n)}}}})),Da(a,e,i,t,o,r,n)}catch(e){}}}))}(i,(0,d.select)("divi/settings")?.getEnabledBreakpointNames?.()||["desktop"],t,r)}function Da(e,t,r,n,i,a,o){const l=(r,s=[])=>{if(!r||"object"!=typeof r)return;const c=(0,Y.isImmutableObject)(r)?r.asMutable({deep:!0}):r;Object.entries(c).forEach((([r,c])=>{const d=[...s,r];if(("groupPreset"===r||"groupPresets"===r)&&c&&"object"==typeof c){const r=c;Object.entries(r).forEach((([,r])=>{if(r&&"object"==typeof r){const l=r,{presetId:s,groupName:c}=l;if(s&&c&&"string"==typeof c){(0,Y.normalizePresetStack)(s).forEach((r=>{if(r&&""!==r){const l=Ea(c,r);if(l){const s=l.name||r;["styleAttrs","attrs"].forEach((d=>{const u=l[d];if(u){wa(u,((l,c)=>{const u=[d,...l.split(".")];if(null!==e.getIn(u,null))return;if(Oa({attrPath:l,value:c,attrGroup:d,moduleAttrs:e,moduleId:t,presetId:r,presetName:s,fieldLabelsMap:i,result:a}))return;let p=o?.attrsComponentMap[l]||null;const m=xa(l,n);if(!p&&o&&(p=o.attrsComponentMap[m]||null,!p)){const e=m.split(".");if(e.length>1){const t=e.join("__");p=o.attrsComponentMap[t]||null}}if(!p)return;Ta(va(l,c,p,i[m]||i[l]||m,s),t,r,a,s)}),`group-${c}-${r}-${d}`)}}))}}}))}}}))}c&&"object"==typeof c&&l(c,d)}))};l(e)}function La(){_a()}const Ra=new Map;function Va(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ba=new Map,ja=new Map,qa=new Set;class Wa{constructor(e){Va(this,"result",void 0),Va(this,"processedKeys",new Set),this.result=e}static stringifyValue(e){if(ja.has(e))return ja.get(e);let t;return t="string"==typeof e?e:"number"==typeof e||"boolean"==typeof e?String(e):JSON.stringify(e),ja.set(e,t),t}static getSanitizedKey(e){if(Ba.has(e))return Ba.get(e);const t=Fa(e);return Ba.set(e,t),t}addEntry({value:e,moduleId:t,componentName:r,label:n,attributePath:i,customKey:a}){if(!(0,Y.isMeaningfulValue)(e))return;const o=Wa.stringifyValue(e),l=Wa.getSanitizedKey(o),s=`${i}:${t}:${n}:${o}`;if(qa.has(s))return;const c=a||((e,t)=>{const r=`${e}|${t}`;if(Ra.has(r))return Ra.get(r);const n=`${e.replace(/\./g,"-")}-${t}`;return Ra.set(r,n),n})(i,l);if(this.processedKeys.has(c))return this.updateExistingEntry(c,t,n,i),void qa.add(s);this.processedKeys.add(c),qa.add(s),this.result[c]?this.updateExistingEntry(c,t,n,i):this.createNewEntry(c,{value:e,moduleId:t,componentName:r,label:n,attributePath:i})}updateExistingEntry(e,t,r,n){const i=this.result[e];i.moduleIds.includes(t)||i.moduleIds.push(t),i.fieldLabels.includes(r)||i.fieldLabels.push(r),i.attributePaths?.includes(n)||(i.attributePaths=i.attributePaths||[],i.attributePaths.push(n))}createNewEntry(e,{value:t,moduleId:r,componentName:n,label:i,attributePath:a}){this.result[e]={value:t,moduleIds:[r],componentName:n,label:i,fieldLabels:[i],attributePaths:[a]}}addBatch(e){e.filter((e=>(0,Y.isMeaningfulValue)(e.value))).forEach((e=>{this.addEntry(e)}))}}const Ga=()=>{Ba.clear(),ja.clear(),Ra.clear(),qa.clear()};const Ha=new Map,Ua=new Map;function $a(e,t){const r=`${e}-${t.join(",")}`;if(Ua.has(r))return Ua.get(r);const n=xa(e,t);return Ua.set(r,n),n}function za(e,t=!1){const r={};t||Pa(e,r);const n=(0,d.select)("divi/edit-post").getModuleStructureIds(e);if(0===n.length)return r;const i=ba(n);if(0===i.length)return r;const a=(0,d.select)("divi/settings")?.getEnabledBreakpointNames?.()||["desktop"],o=new Wa(r);Ga();const l=function(e,t,r,n,i){return e.forEach((({id:e,moduleName:n,moduleAttrs:i,modifiedAttrs:a})=>{const o=function(e){if(Ha.has(e))return Ha.get(e);try{const t=(0,Te.getAttrsMaps)({attrsMapsType:"module",moduleName:e});return Ha.set(e,t),t}catch(t){return Ha.set(e,null),null}}(n);if(!o?.attrsComponentMap||!o?.fieldLabelsMap)return;if(!i||0===Object.keys(a).length)return;const l=new Set,s=[];Object.keys(a).forEach((r=>{const n=function(e,t){const r=(0,Y.stripAttributeStateSuffixes)(e),n=t[r];if(n)return n;const i=r.split(".");if(i.length>1){const e=t[i.join("__")];if(e)return e}return null}(r,o.attrsComponentMap);if(!n)return;const c=$a(r,t);if(!c||l.has(c))return;l.add(c);if(!na.includes(n)){const r=Object.keys(a).filter((e=>$a(e,t)===c));r.forEach((r=>{const a=function(e,t){const r=t.split("."),n=(0,Y.safeGetIn)(e,r);return null!==n&&(0,Y.isImmutableObject)(n)?n.asMutable({deep:!0}):n}(i,r);if(null!==a&&""!==a&&void 0!==a){const i=$a(r,t),l=o.fieldLabelsMap[i]||o.fieldLabelsMap[c]||c;s.push({value:a,moduleId:e,componentName:n,label:l,attributePath:r})}}))}})),s.length>0&&r.addBatch(s),o.attrsComponentMap&&o.fieldLabelsMap&&function(e){const{modifiedAttrs:t,resultBuilder:r}=e;if(0===Object.keys(t).length)return;const n=Aa.flatMap((({pathIncludes:r,extractor:n})=>Object.entries(t).filter((([e])=>e.includes(r))).flatMap((([t,r])=>n(t,r,e.moduleId,e.moduleAttrs,e.attrsMaps.fieldLabelsMap)))));n.length>0&&r.addBatch(n)}({moduleId:e,moduleAttrs:i,modifiedAttrs:a,attrsMaps:{attrsComponentMap:o.attrsComponentMap,fieldLabelsMap:o.fieldLabelsMap},enabledBreakpointNames:t,processedPaths:new Set,resultBuilder:r})})),i}(i,a,o,0,r);return l}function Ka(e,t){e.forEach(((e,r)=>{const{category:n,componentNames:i,value:a,fieldLabels:o,moduleIds:l}=e,s=Array.from(o),c=Array.from(l),d=Array.from(e.attributePaths),u=Array.from(i);if(0===c.length||0===d.length||0===u.length)return;const p=c[0],m=d[0],h=`${n}-${Fa(p)}-${Fa(m)}`,g=u[0],f={attrName:r,value:a,fieldInfo:Xi(g,n,s),moduleIds:c,fieldLabels:s};t[n][h]=f}))}function Za(e,t){const{value:r,moduleIds:n,componentName:i,label:a,attributePaths:o}=e,l=Zi(i,null,a);if(!l)return;let s;s="divi/icon-picker"===i&&"object"==typeof r&&null!==r?JSON.stringify(r):String(r??"");const c=`${l}-${Fa("colors"===l?(0,Y.normalizeColorValue)(s):s)}`,d=t.get(c);d?(d.fieldLabels.add(a),d.componentNames.add(i),n.forEach((e=>d.moduleIds.add(e))),o?.forEach((e=>d.attributePaths.add(e)))):t.set(c,{category:l,componentNames:new Set([i]),value:r,fieldLabels:new Set([a]),moduleIds:new Set(n),attributePaths:new Set(o||[])})}const Ja=(e,t,r,n=[])=>{if(!e||"object"!=typeof e)return;const i=e;Object.entries(i).forEach((([e,i])=>{const a=[...n,e];if("groupPreset"===e&&i&&"object"==typeof i){const e=i;Object.entries(e).forEach((([e,n])=>{if((0,Y.isValidGroupPresetConfig)(n)){const{presetId:i,groupName:a}=n;(0,Y.normalizePresetStack)(i).forEach((n=>{const i=Ea(a,n);if(i){const o=`${a}-${n}`;r[o]?r[o].moduleIds.includes(t)||r[o].moduleIds.push(t):r[o]={id:n,name:i.name||n,type:"option-group",groupName:a,groupId:e,isActive:!0,moduleIds:[t]}}}))}}))}i&&"object"==typeof i&&Ja(i,t,r,a)}))},Ya=e=>{if(!e)return{modulePresets:{},optionGroupPresets:{}};const t={},r={};return(0,d.select)("divi/edit-post").getModuleStructureIds(e).forEach((e=>{const n=(0,d.select)("divi/edit-post").getModuleName(e),i=(0,d.select)("divi/edit-post").getModuleAttrs(e);if(!n||!i)return;const a=i?.getIn(["modulePreset"]),o=(0,d.select)("divi/global-data").getDefaultPresetID({presetSubType:n,presetType:"module"});let l=(0,Y.normalizePresetStack)(a);0===l.length&&o&&(l=[o]),l.forEach((i=>{const a=Ca(n,i);if(a){const o=`${n}-${i}`;t[o]?t[o].moduleIds.includes(e)||t[o].moduleIds.push(e):t[o]={id:i,name:a.name||i,type:"module",moduleName:n,isActive:!0,moduleIds:[e]},((e,t,r)=>{if(e.groupPresets&&"object"==typeof e.groupPresets){const n=(0,Y.isImmutable)(e.groupPresets)?e.groupPresets.asMutable({deep:!0}):e.groupPresets;Object.entries(n).forEach((([e,n])=>{if((0,Y.isValidGroupPresetConfig)(n)){const{presetId:i,groupName:a}=n;(0,Y.normalizePresetStack)(i).forEach((n=>{const i=Ea(a,n);if(i){const o=`${a}-${n}`;r[o]?r[o].moduleIds.includes(t)||r[o].moduleIds.push(t):r[o]={id:n,name:i.name||n,type:"option-group",groupName:a,groupId:e,isActive:!0,moduleIds:[t]}}}))}}))}})(a,e,r)}}));const s=i.asMutable({deep:!0});Ja(s,e,r)})),{modulePresets:t,optionGroupPresets:r}},Xa=e=>{let t=0;for(let r=0;r<e.length;r++){t=(31*t+e.charCodeAt(r))%2147483647}return t.toString()},Qa=e=>{const t=(0,d.select)("divi/edit-post"),r=t.getModuleAttrs(e),n="getModuleModifiedAttrs"in t&&"function"==typeof t.getModuleModifiedAttrs?Object.keys(t.getModuleModifiedAttrs(e)||{}).length:0,i=(0,Y.safeGetIn)(r,["modulePreset"]);return`${e}-${n}-${i?Xa(JSON.stringify(i)):""}-${r?Xa(JSON.stringify(r)):""}`},eo=(e,t)=>{const r=ea.find((r=>e[r]?.[t]));return r&&e[r]?.[t]||null},to=(e,t)=>eo(e,t)?.value??null;function ro(e,t,r){const n="string"==typeof e&&e.startsWith("$variable(")&&e.includes('"type":"color"'),i="string"==typeof t&&t.startsWith("$variable(")&&t.includes('"type":"color"'),a="string"==typeof r&&r.startsWith("$variable(")&&r.includes('"type":"color"');if(!n||!i||!a)return null;try{const n=e=>{if(!e.startsWith("$variable(")||!e.endsWith(")$"))return null;const t=e.slice(10,-2);if(!t||0===t.trim().length)return null;const r=JSON.parse(t);if(null===r||"object"!=typeof r)return null;if("type"in r&&"value"in r){const e=r.value;if(e&&"object"==typeof e&&"name"in e)return r}return null},i=n(e),a=n(t),o=n(r);if(i&&a&&o&&i.value.name===a.value.name&&i.value.name===o.value.name){const e={...i,value:{...i.value,settings:o.value.settings||{}}};return`$variable(${JSON.stringify(e)})$`}}catch(e){return null}return null}function no(e,t,r,n,i="value"){return{...e&&"object"==typeof e?e:{},[t]:{...r,[i]:n}}}function io(e,t,r,n){const i=aa.some((t=>(0,s.has)(e,t))),a=function(e,t,r){if(!(0,s.has)(e,"icon"))return null;if(!(0,s.isObject)(e.icon))return null;if(!(0,s.isObject)(t))return null;if(!(0,s.isObject)(r))return null;const n=e.icon,i=t,a=r;return n.unicode===i.unicode&&n.type===i.type&&n.weight===i.weight?{...e,icon:a}:null}(e,t,r)||function(e,t,r){if(!(0,s.has)(e,"gradient"))return null;if(!(0,s.isObject)(e.gradient))return null;const n=e.gradient;if(!(0,s.has)(n,"stops"))return null;if(!Array.isArray(n.stops))return null;const i=n.stops;let a=!1;const o=""===r,l=[];return i.forEach((e=>{(0,s.isObject)(e)&&(0,s.has)(e,"color")&&("string"==typeof e.color&&"string"==typeof t?(0,Y.normalizeColorValue)(e.color)===(0,Y.normalizeColorValue)(t):e.color===t)?(a=!0,o||l.push({...e,color:r})):l.push(e)})),a?{...e,gradient:{...n,stops:l}}:null}(e,t,r)||function(e,t,r){if(!(0,s.isObject)(e))return null;if(!(0,s.has)(e,"attributes"))return null;if(!Array.isArray(e.attributes))return null;const n=e.attributes;let i=!1;const a=n.map((e=>{if(!(e&&"object"==typeof e&&"name"in e&&"value"in e))return e;const n=e;return n.value===t?(i=!0,{...n,value:r}):e}));return i?{...e,attributes:a}:null}(e,t,r);if(a)return a;if(!i){const i=n(e,t,r);if(!(0,s.isEqual)(e,i))return i}return null}function ao(e,t,r,n){if(!(0,s.isObject)(e))return e;const i={...e},a=n??(0,d.select)("divi/settings").getEnabledBreakpointNames()??[];return Object.entries(i).forEach((([e,n])=>{if(ia.includes(e))return;if(Array.isArray(n))return void((0,s.isEqual)(n,t)&&(i[e]=r));if(!(0,s.isObject)(n)){if(n===t)i[e]=r;else if("string"==typeof n&&"string"==typeof t&&"string"==typeof r){if((0,Y.normalizeColorValue)(n)===(0,Y.normalizeColorValue)(t))i[e]=r;else{const a=ro(n,t,r);a&&(i[e]=a)}}return}const o=n;if(a.some((e=>(0,s.has)(o,e))))a.forEach((n=>{if(!(0,s.has)(o,n)||!(0,s.isObject)(o[n]))return;const l=o[n];Y.states.forEach((c=>{(0,s.has)(l,c)&&function(e,t,r,n,i,a,o,l,c,d){if((0,s.isObject)(e)){const s=d(e,t,r);s&&(l[c]=no(n,i,a,s,o))}else if(e===t)l[c]=no(n,i,a,r,o);else if("string"==typeof e&&"string"==typeof t)if((0,Y.normalizeColorValue)(e)===(0,Y.normalizeColorValue)(t))l[c]=no(n,i,a,r,o);else{const s=ro(e,t,r);s&&(l[c]=no(n,i,a,s,o))}}(l[c],t,r,o,n,l,c,i,e,((e,t,r)=>io(e,t,r,((e,t,r)=>ao(e,t,r,a)))))}))}));else{const n=ao(o,t,r,a);(0,s.isEqual)(o,n)||(i[e]=n)}})),i}const oo=e=>`[Inspector] Bulk Replace: ${e} modules`,lo=()=>{},so=(0,s.debounce)((()=>{const e=(0,d.select)("divi/edit-post").getContent();if(!e)return;const t=new Date;(0,d.dispatch)("divi/history").addLayoutItem({label:"Edited Styles",moduleId:"",moduleLabel:"",moduleName:"",state:e,timestamp:t.getTime(),humanTime:t.toLocaleTimeString(),type:"INSPECTOR_BULK_REPLACE",storeName:"divi/edit-post"})}),500);function co(e,t,r,n){oo(e.length);const i=[];if(e.forEach((e=>{if(n&&function(e,t){const r=(0,d.select)("divi/edit-post").getModuleName(e);return!!r&&"divi/row-inner"===r&&"layout"===t}(e,n))return;const a=(0,d.select)("divi/edit-post").getModuleAttrs(e);if(!a)return;const o=a.asMutable({deep:!0}),l=ao(o,t,r);((e,t)=>{if(e===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!0;const i=r.some((r=>{const n=e[r],i=t[r];if(n!==i){if("object"!=typeof n&&"object"!=typeof i)return!0;if(typeof n!=typeof i)return!0}return!1}));return!!i||!(0,s.isEqual)(e,t)})(o,l)&&i.push({id:e,attrs:xi()(l)})})),i.length>0){let e=(0,d.select)("divi/edit-post").getContent();e&&(i.forEach((({id:t,attrs:r})=>{e=e.setIn([t,"props","attrs"],r)})),(0,d.dispatch)("divi/edit-post").setLayoutState({location:"content",layoutState:e}),so())}lo()}const uo=new Map,po=new Map,mo=(e,t,r=!0)=>{if(e)try{const n=JSON.stringify(e);let i;uo.has(n)?i=uo.get(n):(i=(0,Y.flattenAttrs)(e),uo.set(n,i));const a=Object.entries(i);if(0===a.length)return;a.forEach((([e,n])=>{if(r){const e=JSON.stringify(n);let t;if(po.has(e)?t=po.get(e):(t=(0,Y.isMeaningfulValue)(n),po.set(e,t)),!t)return}t(e,n)}))}catch(e){}},ho={generateVersionHash:(e,t)=>`${e}-${t}`,checkSyncState:(e,t,r)=>e!==t?{needsSync:!0,reason:"version_mismatch"}:r.pendingInvalidation?{needsSync:!0,reason:"pending_invalidation"}:Date.now()-r.lastSuccessfulSync>5e3?{needsSync:!0,reason:"stale_sync"}:{needsSync:!1,reason:"up_to_date"},logSyncOperation:()=>{},createInitialSyncState:()=>({isExtractingAttributes:!1,lastSuccessfulSync:Date.now(),pendingInvalidation:!1})},go=(e,t,r,n,i)=>{const a={presetId:e.id,presetName:e.name,moduleName:"module"===t?e.moduleName??"":"",presetType:t,attributePath:`${r}.${n}`,currentValue:i};return"group"===t&&e.groupName&&(a.groupName=e.groupName),a},fo=(e,t,r,n,i,a)=>{if(!e)return[];if(!a){const a=[];return mo(e,((e,o)=>{(0,Y.areValuesEqual)("unknown",o,i)&&a.push(go(r,n,t,e,o))}),!1),a}const o=a.split("."),l=(0,Y.isImmutableObject)(e)?e:xi()(e),s=(0,Y.safeGetIn)(l,o);return null!=s&&(0,Y.areValuesEqual)(a,s,i)?[go(r,n,t,a,s)]:[]};function bo(e,t,r,n,i){const a=i(e);if(!a)return[];return[...fo(a.styleAttrs,"styleAttrs",e,t,n),...fo(a.attrs,"attrs",e,t,n)]}const vo=(e,t,r=500)=>{const[n,i]=(0,o.useState)([]),[a,l]=(0,o.useState)(!1),[s,c]=(0,o.useState)(null),d=(0,o.useRef)(null),u=(0,o.useCallback)(((r,n,a)=>{if(!t.current)return;const o=((e,t,r)=>[...Object.values(r.modulePresets).filter((e=>e.moduleName&&e.id)).flatMap((e=>bo(e,"module",0,t,(e=>Ca(e.moduleName,e.id))))),...Object.values(r.optionGroupPresets).filter((e=>e.groupName&&e.id)).flatMap((e=>bo(e,"group",0,t,(e=>Ea(e.groupName,e.id)))))])(0,n,e);if(o.length>0){const e=o.map((e=>({...e,currentValue:a})));i(e),c({path:r,value:a}),l(!0)}}),[e,t]),p=(0,o.useCallback)((()=>{l(!1),i([]),c(null)}),[]),m=(0,o.useCallback)(((e,t,n)=>{d.current&&clearTimeout(d.current),d.current=setTimeout((()=>{u(e,t,n)}),r)}),[u,r]),h=(0,o.useCallback)((()=>{La(),p()}),[p]),g=(0,o.useCallback)((()=>{p()}),[p]);return(0,o.useEffect)((()=>()=>{d.current&&clearTimeout(d.current)}),[]),{pendingPresetMatches:n,showConfirmationDialog:a,lastChangedAttribute:s,onAttributeChangeCallback:m,onCancelConfirmationCallback:h,onConfirmPresetUpdateCallback:g,setPendingPresetMatches:i,setShowConfirmationDialog:l,setLastChangedAttribute:c}},{checkSyncState:yo,logSyncOperation:wo,createInitialSyncState:_o}=ho,Eo=()=>{const{sourceModuleId:e,isPageSettingsActive:t,bodySiblingHeight:r}=(0,d.useSelect)((e=>({sourceModuleId:e("divi/modal-library").getModalProperty({modalName:"divi/inspector",property:"owner"})||"",isPageSettingsActive:e("divi/modal-library").isModalActive("divi/page-settings"),bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/inspector",property:"bodySiblingHeight"})||0})),[]),n=(0,o.useRef)(!1),i=(0,o.useRef)(""),a=(0,o.useRef)(_o()),l=(0,o.useRef)(ta),c=(0,o.useRef)(0),u=(0,o.useRef)(!1),p=(0,o.useRef)(null),m=(0,o.useRef)(),h=(0,o.useRef)(0),g=(0,o.useRef)(""),f=(0,o.useRef)(null),[b,v]=(0,o.useState)(!1),[y,w]=(0,o.useState)({selectedModuleId:e||"",attributeValues:{},expandedGroupId:"colors",activeTab:"styles"});(0,o.useEffect)((()=>{const t=e||"";t!==y.selectedModuleId&&(n.current=!1,w((e=>({...e,selectedModuleId:t,attributeValues:{}}))))}),[e,y.selectedModuleId]);const _=(0,d.useSelect)((e=>{if(!y.selectedModuleId){const t=e("divi/edit-post").getRootModuleIds();return(0,Te.collectModuleIdsFromRootModules)(t)}return e("divi/edit-post").getModuleStructureIds(y.selectedModuleId)}),[y.selectedModuleId]);(0,o.useEffect)((()=>{Ha.clear(),Ua.clear(),Ga(),uo.clear(),po.clear(),La(),Na.clear(),_a();const e=setTimeout((()=>{n.current=!0}),100);return()=>{clearTimeout(e),m.current&&m.current.cancel(),a.current.pendingInvalidation=!1,a.current.isExtractingAttributes=!1,u.current=!1,p.current&&(clearTimeout(p.current),p.current=null)}}),[y.selectedModuleId,_]),((e,t)=>{(0,o.useEffect)((()=>{t&&e&&(async()=>{try{const t=(0,d.select)("divi/edit-post").getModuleStructureIds(e);await(0,Te.getOrWaitForAttrsMaps)({moduleIds:t,processModule:()=>{},onComplete:()=>{}})}catch(e){}})().catch((()=>{}))}),[e,t])})(y.selectedModuleId,!0);const E=!y.selectedModuleId||t&&!e,C=(0,d.useSelect)((()=>{const e=E?(0,Te.collectModuleIdsFromRootModules)((0,d.select)("divi/edit-post").getRootModuleIds()):_;if(!e||0===e.length)return"";const t=(r=e)&&0!==r.length?r.map(Qa).join("|"):"";var r;return g.current=t,t}),[E,y.selectedModuleId,_]),x=(0,d.useSelect)((()=>E?null:y.selectedModuleId),[E,y.selectedModuleId,_,C]);(0,o.useEffect)((()=>{(async()=>{v(!1);const e=(0,Te.collectModuleIdsByContext)(E,x,E?_:[]);await(0,Te.preGenerateAttrsMaps)({moduleIds:e,onComplete:()=>{v(!0)}})})().catch((()=>{v(!0)}))}),[E,_,x]);const S=(0,d.useSelect)((e=>e("divi/global-data").getAllPresetData({presetType:"module"})),[]),k=(0,d.useSelect)((e=>e("divi/global-data").getAllPresetData({presetType:"group"})),[]),I=(0,o.useMemo)((()=>{La();const e=ta;if(!b)return e;const t=C,r=yo(t,i.current,a.current);let n;if(a.current.isExtractingAttributes=!0,r.needsSync&&wo(),E){const t=E?_:[];n=0===t.length?e:(e=>{const t=Object.fromEntries(ea.map((e=>[e,{}]))),r=new Map,n={};return e.forEach((e=>{try{Pa(e,n)}catch(e){}})),e.forEach((e=>{try{const t=za(e,!0);Object.assign(n,t)}catch(e){}})),Object.entries(n).forEach((([,e])=>{Za(e,r)})),Ka(r,t),t})(t)}else try{n=x?function(e){const t={colors:{},numbers:{},fonts:{},weights:{},styles:{},shapes:{},effects:{},layout:{},text:{},media:{},icons:{},links:{},code:{},attributes:{}};try{if((0,d.select)("divi/edit-post").getModuleStructureIds(e).length>3){const r={};Pa(e,r);const n=za(e,!0);Object.assign(r,n);const i=new Map;Object.entries(r).forEach((([,e])=>{Za(e,i)})),Ka(i,t)}else{const r=za(e),n=new Map;Object.entries(r).forEach((([,e])=>{Za(e,n)})),Ka(n,t)}return t}catch(e){return t}}(x):e}catch(t){wo(),n=e}return a.current.isExtractingAttributes=!1,a.current.lastSuccessfulSync=Date.now(),a.current.pendingInvalidation=!1,i.current=t,r.needsSync&&wo(),n}),[E,_,x,C,b,S,k]);(0,o.useEffect)((()=>{l.current=I}),[I]);const M=(0,o.useRef)(new Map),A=(0,o.useRef)(new Map);(0,o.useEffect)((()=>{if(!b||!n.current)return;if(0===Object.keys(y.attributeValues).length)return;const e=Object.entries(y.attributeValues).some((([e,t])=>{const r=to(I,e);if((0,Y.areValuesEqual)(e,r,t))return!1;const n=M.current.get(e);if(void 0===n)return!1;if((0,Y.areValuesEqual)(e,t,n)){const t=A.current.get(e);return void 0!==t&&!(0,Y.areValuesEqual)(e,r,t)}return!(0,Y.areValuesEqual)(e,r,n)}));e&&(w((e=>({...e,attributeValues:{}}))),M.current.clear(),A.current.clear(),f.current=null)}),[I,b]);const F=(0,o.useMemo)((()=>{const e=ra;if(E){const t=E?_:[];return 0===t.length?e:(e=>{const t={modulePresets:{},optionGroupPresets:{}};return e.forEach((e=>{try{const r=Ya(e);Object.entries(r.modulePresets).forEach((([e,r])=>{if(t.modulePresets[e]){const n=t.modulePresets[e].moduleIds,i=r.moduleIds.filter((e=>!n.includes(e)));t.modulePresets[e].moduleIds.push(...i)}else t.modulePresets[e]=r})),Object.entries(r.optionGroupPresets).forEach((([e,r])=>{if(t.optionGroupPresets[e]){const n=t.optionGroupPresets[e].moduleIds,i=r.moduleIds.filter((e=>!n.includes(e)));t.optionGroupPresets[e].moduleIds.push(...i)}else t.optionGroupPresets[e]=r}))}catch(e){}})),t})(t)}try{return x?Ya(x):e}catch(t){return e}}),[E,_,x,C,S,k]),{pendingPresetMatches:N,showConfirmationDialog:T,lastChangedAttribute:O,onAttributeChangeCallback:P,onCancelConfirmationCallback:D,onConfirmPresetUpdateCallback:L,setPendingPresetMatches:R,setShowConfirmationDialog:V,setLastChangedAttribute:B}=vo(F,n,500),j=(0,o.useCallback)(((r,n,i)=>{try{let a;if(i){const e=l.current;a=ea.find((t=>{const r=e[t];return Boolean(r?.[i])}))}if(!y.selectedModuleId||t&&!e){const e=(0,d.select)("divi/edit-post").getRootModuleIds(),t=e.flatMap((e=>{try{return(0,d.select)("divi/edit-post").getModuleStructureIds(e)}catch(e){return[]}}));t.length>0&&co(t,r,n,a)}else!function(e,t,r,n){co((0,d.select)("divi/edit-post").getModuleStructureIds(e),t,r,n)}(y.selectedModuleId,r,n,a)}catch(e){}}),[y.selectedModuleId,t]),q=(0,o.useRef)([]);(0,o.useEffect)((()=>{if(E){const e=(0,d.select)("divi/edit-post").getRootModuleIds(),t=(0,Te.collectModuleIdsFromRootModules)(e);c.current=t.length}else c.current=_.length}),[E,_]);const W=(0,o.useCallback)((()=>(e=>{const{moduleCount:t,pendingBatch:r,throttlingTimeoutRef:n,isThrottlingActiveRef:i,onBulkReplace:a,lastInspectorValuesRef:o,originalExtractedValuesRef:l}=e,c=ua(t);return(0,s.throttle)((()=>{if(0===r.current.length)return;const e=[...r.current];r.current=[];const t=new Map;e.every((e=>Boolean(e.fieldKey)))?(e.forEach((({oldValue:e,newValue:r,fieldKey:n})=>{t.has(n)?t.get(n).finalNewValue=r:t.set(n,{finalOldValue:e,finalNewValue:r})})),t.forEach((({finalOldValue:e,finalNewValue:t},r)=>{a(e,t,r),o&&(l&&!l.current.has(r)&&l.current.set(r,e),o.current.set(r,t))}))):e.forEach((({oldValue:e,newValue:t,fieldKey:r})=>{a(e,t,r),r&&o&&(l&&!l.current.has(r)&&l.current.set(r,e),o.current.set(r,t))})),n.current&&clearTimeout(n.current);const s=2*c;n.current=setTimeout((()=>{i.current=!1}),s)}),c,{leading:!1,trailing:!0})})({moduleCount:c.current,pendingBatch:q,throttlingTimeoutRef:p,isThrottlingActiveRef:u,onBulkReplace:j,lastInspectorValuesRef:M,originalExtractedValuesRef:A})),[j]);(0,o.useEffect)((()=>{m.current&&m.current.cancel(),m.current=W()}),[W]);const G=(0,o.useCallback)(((e,t,r)=>{r&&(A.current.has(r)||A.current.set(r,e),M.current.set(r,t)),j(e,t,r)}),[j]),H=(0,o.useCallback)(((e,t)=>{if(!n.current)return;const r=Date.now(),o=(0===h.current?1/0:r-h.current)<256;if(a.current.isExtractingAttributes)return void wo();if(!a.current.pendingInvalidation){const e=yo(C,i.current,a.current);e.needsSync&&"version_mismatch"===e.reason&&(wo(),a.current.pendingInvalidation=!0)}let l=null,s=null;h.current=r,w((r=>{const n=r.attributeValues[e]||to(I,e)||null;if((0,Y.areValuesEqual)(e,n,t))return r;if(n&&n!==t){const r=u.current;if(r||o){const i=c.current;ua(i)>0&&!r&&(u.current=!0),q.current.push({oldValue:n,newValue:t,fieldKey:e}),1===q.current.length&&m.current&&m.current()}else G(n,t,e);l=n,f.current?.key===e?s=f.current.value:(f.current={value:n,key:e},s=n)}return{...r,attributeValues:{...r.attributeValues,[e]:t}}}));const d=eo(I,e);let p="";const g=e.split("-");g.length>6&&(p=g.slice(6).join("-"));if(e.startsWith("preset-")){const e=d?.presetMatches;e&&e.length>0&&(R(e.map((e=>({...e,currentValue:t})))),B({path:d.attributePaths?.[0]||"",value:t}),V(!0))}else{if(!l)return;const e=s??l,r=p||(d?.attributePaths&&d.attributePaths.length>0?d.attributePaths[0]:"");P(r||"",e,t)}}),[I,G,P]),U=(0,o.useCallback)((e=>{w((t=>({...t,expandedGroupId:t.expandedGroupId===e?null:e})))}),[]),$=(0,o.useCallback)((e=>{w((t=>({...t,activeTab:e,expandedGroupId:"styles"===e?"colors":"content"===e?"media":"module-presets"})))}),[]),z=(0,o.useCallback)(((e,t)=>{try{"module"===e.type?((e,t,r)=>{r?e.forEach((e=>{(0,d.dispatch)("divi/edit-post").replaceModulePresetInStack({id:e,oldPresetId:r,newPresetId:t,caller:"user"})})):""===t?e.forEach((e=>{(0,d.dispatch)("divi/edit-post").removeModuleAttributes({id:e,attrNames:["modulePreset"],caller:"user"})})):e.forEach((e=>{(0,d.dispatch)("divi/edit-post").addModulePresetToStack({id:e,presetId:t,caller:"user"})}))})(e.moduleIds,t,e.id):"option-group"===e.type&&((e,t,r,n,i)=>{i&&r?e.forEach((e=>{(0,d.dispatch)("divi/edit-post").replaceGroupPresetInStack({id:e,groupId:r,oldPresetId:i,newPresetId:t,caller:"user"})})):""===t||"default"===t?r&&e.forEach((e=>{(0,d.dispatch)("divi/edit-post").removeGroupPresetAttribute(e,"groupPreset",r,"user")})):n&&r&&e.forEach((e=>{(0,d.dispatch)("divi/edit-post").addGroupPresetToStack({id:e,groupId:r,groupName:n,presetId:t,caller:"user"})}))})(e.moduleIds,t,e.groupId,e.groupName,e.id)}catch(e){}}),[]),K=(0,o.useCallback)((()=>{if(N.length>0&&O){const e=[];O&&N.forEach((t=>{const r=t.attributePath.replace(/^(styleAttrs|attrs)\./,""),n=Object.keys(y.attributeValues).find((e=>e.includes(r)));n&&e.push(n)})),((e,t)=>{const r=(0,d.dispatch)("divi/global-data"),n=null===t;e.forEach((e=>{const i=e.attributePath.replace(/^(styleAttrs|attrs)\./,""),a=[e.attributePath.startsWith("styleAttrs")?"styleAttrs":"attrs"];n?r.removePresetAttribute({presetType:e.presetType,presetSubType:"module"===e.presetType?e.moduleName:e.groupName,presetId:e.presetId,attrName:i,attrsGroup:a}):r.editPresetAttribute({presetType:e.presetType,presetSubType:"module"===e.presetType?e.moduleName:e.groupName,presetId:e.presetId,attrName:i,attrValue:t,updated:Date.now(),attrsGroup:a})})),r.savePreset()})(N,O.value),L();const t={};e.forEach((e=>{t[e]=O.value})),w((e=>({...e,attributeValues:t}))),M.current.clear(),e.forEach((e=>{A.current.delete(e)})),f.current=null}}),[N,O,L,y.attributeValues]),Z=(0,o.useCallback)((()=>{w((e=>({...e,attributeValues:{}}))),D()}),[D]);return{selectedModuleId:y.selectedModuleId,attributeValues:y.attributeValues,expandedGroupId:y.expandedGroupId,extractedAttributes:I,extractedPresets:F,activeTab:y.activeTab,onAttributeChange:H,onToggleGroup:U,onTabChange:$,onPresetChange:z,showPresetConfirmationDialog:T,pendingPresetMatches:N,onConfirmPresetUpdates:K,onCancelPresetUpdates:Z,bodySiblingHeight:r}},Co={name:"divi/inspector",type:"multiInstanceModal",component:()=>{const e=Eo();return(0,o.createElement)(fa,e)},sidebarPosition:"left",snappable:!0,dimension:{width:250,height:400},dimensionMinimum:{width:250,height:280}},xo="divi/interaction-editor",So=(0,a.__)("Edit Interaction","et_builder"),ko={click:{label:(0,a.__)("Click","et_builder")},mouseEnter:{label:(0,a.__)("Mouse Enter","et_builder")},mouseExit:{label:(0,a.__)("Mouse Exit","et_builder")},viewportEnter:{label:(0,a.__)("Viewport Enter","et_builder")},viewportExit:{label:(0,a.__)("Viewport Exit","et_builder")},load:{label:(0,a.__)("Load","et_builder")}},Io={toggleVisibility:{label:(0,a.__)("Toggle Visibility","et_builder")},addVisibility:{label:(0,a.__)("Show Element","et_builder")},removeVisibility:{label:(0,a.__)("Hide Element","et_builder"),separator:{bottom:!0}},togglePreset:{label:(0,a.__)("Toggle Preset","et_builder")},addPreset:{label:(0,a.__)("Add Preset","et_builder")},removePreset:{label:(0,a.__)("Remove Preset","et_builder"),separator:{bottom:!0}},toggleAttribute:{label:(0,a.__)("Toggle Attribute","et_builder")},addAttribute:{label:(0,a.__)("Add Attribute","et_builder")},removeAttribute:{label:(0,a.__)("Remove Attribute","et_builder"),separator:{bottom:!0}},toggleCookie:{label:(0,a.__)("Toggle Cookie","et_builder")},addCookie:{label:(0,a.__)("Add Cookie","et_builder")},removeCookie:{label:(0,a.__)("Remove Cookie","et_builder"),separator:{bottom:!0}},scrollToElement:{label:(0,a.__)("Scroll To Element","et_builder")},mirrorMouseMovement:{label:(0,a.__)("Mirror Mouse Movement","et_builder")}},Mo={translate:{label:(0,a.__)("Translate","et_builder")},scale:{label:(0,a.__)("Scale","et_builder")},opacity:{label:(0,a.__)("Opacity","et_builder")},tilt:{label:(0,a.__)("Tilt","et_builder")},rotate:{label:(0,a.__)("Rotate","et_builder")}},Ao={id:"",enableInteraction:"on",trigger:"click",effect:"toggleVisibility",target:{moduleId:"",targetClass:"",label:""},replaceExistingPreset:!1,sensitivity:50,mouseMovementType:"translate",cookieName:"",cookieValue:""},Fo=({currentInteraction:e,triggerOptions:t,effectOptions:r,moduleOptions:n,presetOptions:i,mouseMovementTypeOptions:o,isFormValid:s,onTriggerChange:c,onEffectChange:d,onTargetChange:m,onAttributeNameChange:h,onAttributeValueChange:g,onCookieNameChange:f,onCookieValueChange:b,onAdminLabelChange:v,onTimeDelayChange:y,onPresetIdChange:w,onReplaceExistingPresetChange:_,onAdminLabelReset:E,onTriggerReset:C,onEffectReset:x,onTargetReset:S,onTimeDelayReset:k,onAttributeNameReset:I,onAttributeValueReset:A,onCookieNameReset:F,onCookieValueReset:N,onPresetIdReset:T,onReplaceExistingPresetReset:O,onSensitivityChange:P,onSensitivityReset:D,onMouseMovementTypeChange:L,onMouseMovementTypeReset:R,onSave:V,onCancel:B})=>l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--interaction-editor"},l().createElement(p.WrapperContainer,{modalName:xo,draggable:!0,expandable:!0,resizable:!0,clampVerticalOffset:!0},l().createElement(p.Header,{name:(0,a.__)("Edit Interaction","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"interaction-editor",opened:!0},l().createElement("div",{className:"et-vb-interaction-editor-modal-form"},l().createElement(p.FieldWrapper,{label:(0,a.__)("Admin Label","et_builder"),description:(0,a.__)("Optional label for identification","et_builder"),id:"admin-label",enableReset:Boolean(e.adminLabel),onReset:E},l().createElement(M.Text,{name:"admin-label",value:e.adminLabel||"",onChange:v,defaultValue:""})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Trigger Event","et_builder"),description:(0,a.__)("Choose when this interaction should be triggered","et_builder"),id:"interaction-trigger",enableReset:"click"!==e.trigger,onReset:C},l().createElement(M.SelectContainer,{name:"interaction-trigger",options:t,value:e.trigger,onChange:c})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Effect Action","et_builder"),description:(0,a.__)("Choose what action should be performed","et_builder"),id:"interaction-action",enableReset:"toggleVisibility"!==e.effect,onReset:x},l().createElement(M.SelectContainer,{name:"interaction-action",options:r,value:e.effect,onChange:d})),!e.effect.includes("Cookie")&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Target Module","et_builder"),description:(0,a.__)("Choose which module should receive the effect","et_builder"),id:"interaction-target",enableReset:Boolean(e.target.moduleId),onReset:S},l().createElement(M.SelectContainer,{name:"interaction-target",options:n,value:e.target.moduleId,onChange:m,searchable:!0,searchPlaceholder:(0,a.__)("Search modules...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Time Delay","et_builder"),description:(0,a.__)("Delay before the effect is executed","et_builder"),id:"time-delay",enableReset:"0ms"!==e.timeDelay&&Boolean(e.timeDelay),onReset:k},l().createElement(M.CSSNumeric,{cssProperty:"transition-delay",name:"time-delay",value:e.timeDelay||"0ms",defaultValue:"0ms",defaultUnit:"ms",onChange:y})),e.effect.includes("Attribute")&&l().createElement(l().Fragment,null,l().createElement(p.FieldWrapper,{label:(0,a.__)("Attribute Name","et_builder"),description:(0,a.__)("Enter the HTML attribute name (e.g., class, id, data-state, aria-expanded)","et_builder"),id:"attribute-name",enableReset:Boolean(e.attributeName),onReset:I},l().createElement(M.Text,{name:"attribute-name",value:e.attributeName||"",onChange:h,defaultValue:""})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Attribute Value","et_builder"),description:(0,a.__)("Enter the attribute value to toggle/add/remove","et_builder"),id:"attribute-value",enableReset:Boolean(e.attributeValue),onReset:A},l().createElement(M.Text,{name:"attribute-value",value:e.attributeValue||"",onChange:g,defaultValue:""}))),e.effect.includes("Cookie")&&l().createElement(l().Fragment,null,l().createElement(p.FieldWrapper,{label:(0,a.__)("Cookie Name","et_builder"),description:(0,a.__)("Enter the cookie name (e.g., user_preference, theme_mode, cart_items)","et_builder"),id:"cookie-name",enableReset:Boolean(e.cookieName),onReset:F},l().createElement(M.Text,{name:"cookie-name",value:e.cookieName||"",onChange:f,defaultValue:""})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Cookie Value","et_builder"),description:(0,a.__)("Enter the cookie value to toggle/add/remove","et_builder"),id:"cookie-value",enableReset:Boolean(e.cookieValue),onReset:N},l().createElement(M.Text,{name:"cookie-value",value:e.cookieValue||"",onChange:b,defaultValue:""}))),e.effect.includes("Preset")&&l().createElement(l().Fragment,null,l().createElement(p.FieldWrapper,{label:(0,a.__)("Preset","et_builder"),description:e.target.moduleId?(0,a.__)("Choose a preset for the selected module","et_builder"):(0,a.__)("Select a target module first to see available presets","et_builder"),id:"preset-selection",enableReset:Boolean(e.presetId),onReset:T},l().createElement(M.SelectContainer,{name:"preset-selection",options:i,value:e.presetId||"",onChange:w,disabled:!e.target.moduleId||0===Object.keys(i).length,searchable:!0,searchPlaceholder:(0,a.__)("Search presets...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Replace Existing Preset","et_builder"),description:(0,a.__)("When enabled, any existing preset class will be removed when applying the preset","et_builder"),id:"replace-existing-preset",enableReset:Boolean(e.replaceExistingPreset),onReset:O},l().createElement(M.Toggle,{name:"replace-existing-preset",value:e.replaceExistingPreset?"on":"off",onChange:_,defaultValue:"off"}))),"mirrorMouseMovement"===e.effect&&l().createElement(l().Fragment,null,l().createElement(p.FieldWrapper,{label:(0,a.__)("Movement Type","et_builder"),description:(0,a.__)("Choose how the target element responds to mouse movement","et_builder"),id:"mouse-movement-type",enableReset:"translate"!==e.mouseMovementType,onReset:R},l().createElement(M.SelectContainer,{name:"mouse-movement-type",options:o,value:e.mouseMovementType||"translate",onChange:L})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Sensitivity","et_builder"),description:(0,a.__)("Adjust how sensitive the mirror movement is to mouse position","et_builder"),id:"sensitivity",enableReset:50!==e.sensitivity,onReset:D},l().createElement(M.CSSNumeric,{cssProperty:"opacity",name:"sensitivity",value:(e.sensitivity||50).toString(),onChange:P,defaultValue:"50",min:0,max:100})))))),l().createElement(p.Footer,{buttons:[{name:"cancel",label:(0,a.__)("Cancel","et_builder"),onClick:B},{name:"save",label:(0,a.__)("Save Interaction","et_builder"),buttonColor:"primary",onClick:V,disabled:!s}]}))),No=(e,t)=>e.replace(`et-interaction-${t}-`,""),To={autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal",component:()=>{const{attributes:e}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/interaction-editor",property:"attributes"})})),[]),{interaction:t,onSave:r,onCancel:n,allInteractions:i=[]}=e,{editModuleAttribute:a}=(0,d.useDispatch)("divi/edit-post"),[l,s]=(0,o.useState)({currentInteraction:t||Ao}),c=(e=>{const t=e.currentInteraction.target.moduleId,r=(0,d.useSelect)((e=>t?e("divi/edit-post").getModuleName(t):null),[t]),n=(0,d.useSelect)((e=>t?e("divi/edit-post").getModule(t):null),[t]),i=(0,d.useSelect)((e=>{if(!r)return null;const t=n?.props?.attrs,i=(0,Y.maybeConvertPresetModuleName)(r,t);return e("divi/global-data").getModulePresetsList({moduleName:i})}),[r,n?.props?.attrs]);return{presetOptions:(0,o.useMemo)((()=>{const e={};return i&&Object.values(i).forEach((t=>{t?.id&&t?.name&&(e[t.id]={label:t.name})})),e}),[i]),moduleOptions:(0,Y.useAllModulesWithLabels)({enabled:!0,markGlobalAsDisabled:!0})}})(l),u=No(t?.target?.targetClass,"target"),p=(0,d.select)("divi/edit-post").findModuleByInteractionTarget(u);(0,o.useEffect)((()=>{if(t){let e={...Ao,...t,replaceExistingPreset:t.replaceExistingPreset??!1};if(t.target.targetClass&&(!t.target.moduleId||!c.moduleOptions[t.target.moduleId])&&p){const t=c.moduleOptions[p];e={...e,target:{...e.target,moduleId:p,label:t?.label||e.target.label}}}s((t=>({...t,currentInteraction:e})))}}),[t,c.moduleOptions,p]);const m=e=>{s((t=>({...t,...e})))},h=Boolean((l.currentInteraction.effect.includes("Cookie")||""!==l.currentInteraction.target.moduleId)&&(!l.currentInteraction.effect.includes("Preset")||l.currentInteraction.presetId)&&(!l.currentInteraction.effect.includes("Attribute")||l.currentInteraction.attributeName&&l.currentInteraction.attributeValue)&&(!l.currentInteraction.effect.includes("Cookie")||l.currentInteraction.cookieName&&l.currentInteraction.cookieValue));return(0,o.createElement)(Fo,{currentInteraction:l.currentInteraction,triggerOptions:ko,effectOptions:Io,moduleOptions:c.moduleOptions,presetOptions:c.presetOptions,mouseMovementTypeOptions:Mo,isFormValid:h,onTriggerChange:e=>{m({currentInteraction:{...l.currentInteraction,trigger:e.inputValue}})},onEffectChange:e=>{m({currentInteraction:{...l.currentInteraction,effect:e.inputValue}})},onTargetChange:e=>{const t=e.inputValue,r=c.moduleOptions[t]?.label||"",n=(0,M.findOrCreateTargetClass)(t,i);m({currentInteraction:{...l.currentInteraction,target:{moduleId:t,targetClass:n,label:r},presetId:""}})},onAttributeNameChange:e=>{m({currentInteraction:{...l.currentInteraction,attributeName:e.inputValue}})},onAttributeValueChange:e=>{m({currentInteraction:{...l.currentInteraction,attributeValue:e.inputValue}})},onCookieNameChange:e=>{m({currentInteraction:{...l.currentInteraction,cookieName:e.inputValue}})},onCookieValueChange:e=>{m({currentInteraction:{...l.currentInteraction,cookieValue:e.inputValue}})},onAdminLabelChange:e=>{m({currentInteraction:{...l.currentInteraction,adminLabel:e.inputValue}})},onTimeDelayChange:e=>{m({currentInteraction:{...l.currentInteraction,timeDelay:e}})},onPresetIdChange:e=>{m({currentInteraction:{...l.currentInteraction,presetId:e.inputValue}})},onReplaceExistingPresetChange:e=>{m({currentInteraction:{...l.currentInteraction,replaceExistingPreset:"on"===e.inputValue}})},onAdminLabelReset:()=>{m({currentInteraction:{...l.currentInteraction,adminLabel:""}})},onTriggerReset:()=>{m({currentInteraction:{...l.currentInteraction,trigger:"click"}})},onEffectReset:()=>{m({currentInteraction:{...l.currentInteraction,effect:"toggleVisibility"}})},onTargetReset:()=>{m({currentInteraction:{...l.currentInteraction,target:{moduleId:"",label:"",targetClass:""},presetId:""}})},onTimeDelayReset:()=>{m({currentInteraction:{...l.currentInteraction,timeDelay:"0ms"}})},onAttributeNameReset:()=>{m({currentInteraction:{...l.currentInteraction,attributeName:""}})},onAttributeValueReset:()=>{m({currentInteraction:{...l.currentInteraction,attributeValue:""}})},onCookieNameReset:()=>{m({currentInteraction:{...l.currentInteraction,cookieName:""}})},onCookieValueReset:()=>{m({currentInteraction:{...l.currentInteraction,cookieValue:""}})},onPresetIdReset:()=>{m({currentInteraction:{...l.currentInteraction,presetId:""}})},onReplaceExistingPresetReset:()=>{m({currentInteraction:{...l.currentInteraction,replaceExistingPreset:!1}})},onSensitivityChange:e=>{m({currentInteraction:{...l.currentInteraction,sensitivity:parseInt(e||"50",10)}})},onSensitivityReset:()=>{m({currentInteraction:{...l.currentInteraction,sensitivity:50}})},onMouseMovementTypeChange:e=>{m({currentInteraction:{...l.currentInteraction,mouseMovementType:e.inputValue}})},onMouseMovementTypeReset:()=>{m({currentInteraction:{...l.currentInteraction,mouseMovementType:"translate"}})},onSave:()=>{const{currentInteraction:e}=l;if(e.target.moduleId&&!e.target.targetClass&&(e.target.targetClass=(0,M.findOrCreateTargetClass)(e.target.moduleId,i)),e.target.targetClass&&e.target.moduleId){const t=No(e.target.targetClass,"target");a({id:e.target.moduleId,attrName:"module.decoration.interactionTarget",value:t,subName:!1})}r(e)},onCancel:()=>{n()}})},label:So,name:xo,type:"multiInstanceModal",attributesMergeStrategy:"replace",dimensionMinimum:{width:400,height:450}};let Oo;Oo||(Oo={});const Po=({draggedModuleType:e,dropZoneStyle:t})=>l().createElement("div",{className:me()({"et-vb-layer-drop-zone":!0}),"data-module-type":e,style:t}),Do=({moduleIconName:e})=>{const t=["divi/section","divi/row","divi/column"].includes(e);return"string"!=typeof e||""===e||t?l().createElement(ie.IconSvg,{name:"divi/module-menu",size:8,viewBox:"2.5 2 11 11"}):l().createElement(ie.IconSvg,{name:e,size:8,viewBox:"0 0 16 16"})},Lo=({id:e,level:t=1,moduleName:r,moduleIcon:n,moduleTitle:i,moduleType:c,childrenModuleIds:u,layerChildModules:p,isHovered:m=!1,isDragged:g=!1,isDragging:f=!1,hasDropZone:b=!1,hoveredArea:v="bottom",onMouseDown:y,onMouseEnter:w,onMouseLeave:_,onMouseMove:E,isActiveModule:C,layerModule:x,isSearchActive:S,searchModule:k,filterModules:I,isFilterActive:M,isGlobalModule:A=!1,isChildHovered:F=!1,isColumnOnlyChildToRow:N=!1,hideLayerOptions:T=!1,isHighlighted:O=!1,isDisabled:P=!1,isModuleTitleDynamic:D=!1,draggedModuleType:L="module"})=>{const[R,V]=(0,o.useState)(!1),[B,j]=(0,o.useState)(0),[q,W]=(0,o.useState)(!1),G=(0,o.useRef)(null);(0,o.useEffect)((()=>{x?.active&&((0,d.dispatch)("divi/modal-library").setLayersViewActiveModuleId(e),(0,d.dispatch)("divi/modal-library").setLayersViewModule({moduleId:e,data:{active:!1}}))}),[]),(0,o.useEffect)((()=>{x?.active&&setTimeout((()=>{G.current?.scrollIntoView()}),300)}),[G]),(0,o.useEffect)((()=>{C&&G.current?.scrollIntoView({behavior:"auto",block:"center"})}),[C,M]),(0,o.useEffect)((()=>{C||W(!1)}),[C]);const H=t=>{t.preventDefault(),t.stopPropagation(),(0,d.dispatch)("divi/modal-library").setLayersViewActiveModuleId(e),T||(0,ae.contextMenuCallback)({cursorPosition:{x:t.clientX,y:t.clientY},moduleType:c,moduleName:r,moduleId:e,windowLocation:"top",modalName:"divi/layers"})},U=t=>{t.preventDefault(),t.stopPropagation();if((0,Y.isModuleAccessible)(r))if((0,d.dispatch)("divi/modal-library").setLayersViewActiveModuleId(e),W(!0),(0,Y.scrollToModule)(e),"divi/shortcode-module"===r){const t=(0,d.select)("divi/settings").getSetting(["shortcodeModuleDefinitions"]);if(!t||0===Object.keys(t).length)return;const r=(0,d.select)("divi/edit-post").getModule(e)?.props?.attrs?.shortcodeName;if(!r||!t[r])return;(0,d.dispatch)("divi/modal-library").open({owner:e,name:"divi/module-shortcode"})}else(0,d.dispatch)("divi/modal-library").open({owner:e,name:"divi/module"})},$={onClick:t=>{const r=t.timeStamp-B;j(t.timeStamp);r<300?(0,d.dispatch)("divi/modal-library").setLayersViewModule({moduleId:e,childrenModuleIds:u,checkChildren:!0,data:{expand:x?.expand}}):(0,d.dispatch)("divi/modal-library").setLayersViewModule({moduleId:e,childrenModuleIds:u,data:{expand:!x?.expand}})},onContextMenu:H,id:e,expand:x?.expand},z=u.length&&!S&&!M,K=T?null:l().createElement("button",{type:"button",className:me()({"et-vb-button":!0,"et-vb-button-hidden":"transparent"===k?.visibility||"transparent"===I?.visibility}),onClick:h.handleOnClickFallback,onContextMenu:H,"data-tooltip-id":`options-${c}-${e}`,onMouseDown:H},l().createElement(ie.IconSvg,{name:"divi/more",size:8,viewBox:"-8 -1 20 20",iconComponentProps:{color:"#ffffff"}}),l().createElement(be.TooltipContainer,{windowLocation:"top",id:`options-${c}-${e}`},(0,a.__)("More Options","et_builder"))),Z=b?l().createElement(Po,{draggedModuleType:L}):null,J=b&&"top"===v?Z:null,X=b&&"bottom"===v?Z:null,Q="transparent"===k?.visibility||"transparent"===I?.visibility,ee="hidden"===k?.visibility||"hidden"===I?.visibility;return l().createElement(l().Fragment,null,J,l().createElement("div",{ref:G,role:"button",tabIndex:0,"data-module-type":c,className:me()({"et-vb-layer-module":!0,[`et-vb-layer-module-level--${t}`]:!0,"et-vb-layer-module--is-active":C||g,"et-vb-layer-module--is-global-module":A,"et-vb-layer-module--is-hidden":ee,"et-vb-layer-module--is-faded":Q,"et-vb-layer-module--is-dragged":g,"et-vb-layer-module--is-dragging-happening":f,"et-vb-layer-module--is-drag-disabled":N,"et-vb-layer-module--is-child-module-hovered":F,"et-vb-layer-module--is-highlighted":O,"et-vb-layer-module--has-toggle":z}),"data-id":e,"data-module-name":r,onMouseLeave:_,onMouseEnter:w},l().createElement("div",{className:"et-vb-layer-module-inner"},l().createElement("div",{"aria-hidden":"true",className:"et-vb-layer-module-mousetrap",onClick:h.handleOnClickFallback,onContextMenu:H,onKeyDown:s.noop,onMouseDown:e=>{y(e),U(e)},onMouseMove:m?e=>E(e.nativeEvent):null}),z?(({onClick:e,onContextMenu:t,expand:r})=>l().createElement("button",{type:"button",className:"et-vb-layer-module-toggle-button",onClick:h.handleOnClickFallback,onContextMenu:t,"aria-label":r?(0,a.__)("Collapse","divi"):(0,a.__)("Expand","divi"),onMouseDown:e},l().createElement(ie.IconSvg,{name:r?"divi/caret-down":"divi/caret-right",size:8,styles:{width:"9px",height:"9px",minWidth:"9px",marginTop:"3px",marginRight:"1px"},viewBox:"0 0 8 8"})))($):null,!R&&l().createElement(Do,{moduleIconName:n}),Q||D||!q?l().createElement("span",{className:me()("et-vb-layer-module-title",{"et-vb-layer-module-title--disabled":P})},i):l().createElement(ae.InlineTextEditorContainer,{attrName:"module.meta.adminLabel",className:me()({"et-vb-layer-module-title":!0,"et-vb-layer-module-title--editing":R,"et-vb-layer-module-title--disabled":P}),moduleId:e,tagName:"span",text:i,fixedBreakpoint:"desktop",fixedState:"value",callbackEditingStatusChange:(e,t)=>{V(t)},handleContextMenu:H})),K),p,X)};var Ro=window.divi.dynamicData;const Vo=({event:e,moduleElement:t,moduleType:r,draggedModuleType:n,draggedModule:i,currentModuleId:a,currentModuleName:o,defaultBottomOffsetTop:l,isEmptyStructuralElement:s,draggedModules:c})=>(0,Y.calculateHoveredArea)({event:e,moduleElement:t,moduleType:r,draggedModuleType:n,draggedModule:i,currentModuleId:a,currentModuleName:o,defaultBottomOffsetTop:l,isEmptyStructuralElement:s,draggedModules:c,topZonePercent:.33,bottomZonePercent:.33,moduleSelector:".et-vb-layer-module"}),Bo=(e,t,r)=>{if(!e)return(0,a.__)("Unknown Module","divi");let n="";const i=(0,d.select)("divi/module-library").getModule(e),o=i?.title||"",l=(0,s.get)(i,["defaultSettingsAttrs","module","meta","adminLabel","desktop","value"])||"";if(t){const e=(0,d.select)("divi/edit-post").getModule(t)?.props?.attrs;n=(0,s.get)(e,["module","meta","adminLabel","desktop","value"])||""}return n||r||o||l||(0,a.__)("Unknown Module","divi")},jo=(e,t={})=>{const r=(0,d.select)("divi/edit-post"),n=(0,d.select)("divi/module-library");let i={};return e.forEach((e=>{const a=r.getModule(e),o=a?.name,l=n.getModule(o),s=Bo(a?.name,e),c=l?.category;if(i[e]={id:e,expand:t?.expand||!1,...o&&{moduleName:o},...s&&{adminLabel:s},...c&&{moduleCategory:c}},a?.children?.length){const e=jo(a.children,t);i={...i,...e}}})),i};var qo=r(79762);const Wo=e=>{const{id:t,level:r,ancestorId:n,ancestorBottomOffsetTop:a,ancestorHoveredArea:c,setActiveLayerModuleId:u}=e,[p,m]=(0,o.useState)(0),[g,f]=(0,o.useState)("bottom"),{name:b,childrenModuleIds:v,globalModule:y,globalParent:w,moduleType:_,moduleTitle:E,moduleName:C,moduleIcon:x,isDisabled:S,isNestedModule:k}=(0,d.useSelect)((e=>{const r=e("divi/edit-post").getModule(t),n=e("divi/module-library").getModule(r?.name),i=r?.props?.attrs,a=e("divi/edit-post").getParentModule(t),o=e("divi/module-library").getModule(a?.name)?.callbacks?.content?.[r?.name]?.itemTitleCallback;let l;if(o&&"function"==typeof o&&i)try{const e=o(i);e&&(l=e)}catch(e){}let s=Bo(r?.name,t,l);if("divi/shortcode-module"===r?.name){const t=(0,Y.parseShortcode)(r?.props?.innerHTML)?.[0];let n;r?.props?.attrs&&"object"==typeof r.props.attrs&&"shortcodeName"in r.props.attrs&&(n=r.props.attrs.shortcodeName);const i=e("divi/settings").getSetting(["shortcodeModuleDefinitions",n||t?.name]),a=e("divi/settings").getSetting(["structureModuleDefinitions",n||t?.name]);s=""===(t?.attrs?.admin_label??"")?i?.name??a?.name:t?.attrs?.admin_label}return{name:r?.name,childrenModuleIds:r?.children,globalModule:r?.props?.attrs?.globalModule,globalParent:r?.props?.attrs?.globalParent,moduleType:(0,Y.getModuleType)(r?.name,r?.props?.attrs),moduleTitle:s,moduleName:n?.name,moduleIcon:n?.moduleIcon,isDisabled:e("divi/edit-post").isDisabled(t),isNestedModule:Boolean(n?.nestable)&&e("divi/edit-post").isNestedModule({moduleId:t})}})),{isDynamic:I,isLoading:M,resolvedValue:A}=(0,Ro.useDynamicData)(E),F=A&&!M?A:"",N=""!==(y||"")||""!==(w||""),T=Y.structuralModules.includes(b)&&0===v.length,{isDragged:O,isDragging:P,isHovered:D,hoveredModule:L,draggedModules:R}=(0,d.useSelect)((e=>{const r=e("divi/events").isHovered(t),n=e("divi/events").isDragged(t,"layers"),i=e("divi/events").getDraggingStatus("layers");let a,o;return r&&(a=e("divi/events").getHoveredModule()),(n||i)&&(o=e("divi/events").getDraggedModules()),{isDragged:n,isDragging:i,isHovered:r,hoveredModule:a,draggedModules:o}})),V=R?.[0],B=V?.moduleType,j=L?.payload?.ancestorId===t,q=L?.payload?.parentId===t,W=D||j,G=(0,Y.isValidChildWithNestedSupport)({parentModuleType:_,draggedModuleType:B,draggedModule:V,parentModuleId:t,parentModuleName:b}),H=D&&G&&"group"!==_&&"inside"===g;let U=P&&!O&&W&&(0,Y.shouldRenderDropZone)(t,g);const{isActiveModule:$,layerModule:z,searchModule:K,filterModules:Z,isSearchActive:J,isFilterActive:X}=(0,d.useSelect)((e=>({isActiveModule:e("divi/modal-library").getLayersViewActiveModuleId()===t,layerModule:e("divi/modal-library").getLayersViewModule(t),searchModule:e("divi/modal-library").getLayersViewSearchModule(t),filterModules:e("divi/modal-library").getLayersViewFilterModule(t),isSearchActive:e("divi/modal-library").isLayersViewSearchActive(),isFilterActive:e("divi/modal-library").isLayersViewFilterActive()}))),{id:Q,name:ee,props:{attrs:te},children:re}=(0,d.useSelect)((e=>e("divi/edit-post").getParentModule(t))),ne=(0,Y.getModuleType)(ee,te),ie=1===re?.length,ae="row-inner"===ne&&ie&&"column-inner"===_,oe="row"===ne&&ie&&"column"===_,le="specialty-section"===ne&&["column","specialty-column"].includes(_),se=ae||oe||le,ce="group"===B;Q===V?.id&&ce&&(U=!1);const de=n??(_===V?.moduleType?t:null),ue=a??(_!==B||ce?null:p),pe=c??(_===V?.moduleType?g:null),me=r+1,he=(0,o.useMemo)((()=>{if(!v?.length)return null;return!0===z?.expand||"visible"===K?.visibility||"visible"===Z?.visibility||"transparent"===K?.visibility||"transparent"===Z?.visibility?l().createElement("div",{className:"et-vb-layer-module-children"},v.map((e=>l().createElement(Wo,{key:e,id:e,level:me,ancestorId:de,ancestorBottomOffsetTop:ue,ancestorHoveredArea:pe,isActiveModule:$,setActiveLayerModuleId:u})))):null}),[v,z?.expand,me,de,ue,pe,K?.visibility,Z?.visibility]);(0,o.useEffect)((()=>{U&&f(L?.payload?.ancestorHoveredArea)}),[L?.payload?.ancestorHoveredArea]);const ge=(0,s.throttle)((e=>{const r=a??p,i=Vo({event:e,moduleElement:e.target,moduleType:_,draggedModuleType:B,draggedModule:V,currentModuleId:t,currentModuleName:b,defaultBottomOffsetTop:r,isEmptyStructuralElement:T,draggedModules:R}),o=(0,d.select)("divi/events").getHoveredModule(),l={label:b,ancestorId:n,ancestorHoveredArea:i};(0,d.dispatch)("divi/events").setHoveredArea(i),o.id===t?(0,d.dispatch)("divi/events").setCurrentHoverProperty({name:"payload",value:{...o.payload,...l}}):(0,d.dispatch)("divi/events").onMouseEnter("module",t,l,i),f(i)}),200,{trailing:!1}),fe=e=>{if((0,i.applyFilters)("divi.modalLibrary.layers.dragMove.enable",!0,t)){if(!(0,d.select)("divi/events").getDraggingStatus("layers")){const e=[{id:t,moduleType:_}];(0,d.dispatch)("divi/events").startDrag(e,"layers")}(0,d.dispatch)("divi/events").setCursorPosition(e.pageX,e.pageY,e.clientX,e.clientY)}},be=()=>{if(!(0,i.applyFilters)("divi.modalLibrary.layers.dragEnd.enable",!0,t))return;const e={top:"before",bottom:"after",inside:"inside",left:"before",right:"after"},r=(0,d.select)("divi/events").getHoveredModule(),n=(0,d.select)("divi/events").getDraggedModules();if(1===n.length&&(r?.payload?.parentId!==n?.[0]?.id||"group"!==n?.[0]?.moduleType)){const t=n?.[0]?.id,i=r?.payload?.ancestorHoveredArea??r?.area,a=r?.id,o=document.querySelector(`[data-id="${t}"]`);window.scrollBy({top:o.offsetTop}),t!==a&&(0,d.dispatch)("divi/edit-post").moveModule(t,e[i],a),setTimeout((()=>{(0,Y.scrollToModule)(t)}),100)}(0,d.dispatch)("divi/events").clearSelection(),(0,d.dispatch)("divi/events").endDrag(),h.topWindow.removeEventListener("mousemove",fe),h.topWindow.removeEventListener("mouseup",be)};return(0,o.createElement)(Lo,{id:t,level:r,moduleName:C,moduleIcon:x,moduleTitle:F,moduleType:_,childrenModuleIds:v,layerChildModules:he,hasDropZone:U,hoveredArea:g,isHovered:D,isDragged:O,isDragging:P,onMouseDown:e=>{e.preventDefault();if(!(0,Y.isModuleAccessible)(C))return;if(e.detail>1){if("divi/shortcode-module"===b){const e=(0,d.select)("divi/edit-post").getModule(t)?.props?.attrs?.shortcodeName,r=(0,d.select)("divi/settings").getSetting(["shortcodeModuleDefinitions"]);if(!(e&&r&&r[e]))return}(0,d.dispatch)("divi/modal-library").open({name:"divi/module",owner:t})}const r=!se&&0===e.button,n={isColumnOnlyChildToRow:se,button:e.button};(0,i.applyFilters)("divi.modalLibrary.layers.dragStart.enable",r,t,n)&&((0,d.dispatch)("divi/events").setCursorPosition(e.pageX,e.pageY,e.clientX,e.clientY),h.topWindow.addEventListener("mousemove",fe),h.topWindow.addEventListener("mouseup",be))},onMouseEnter:e=>{const r=Ne()(e.currentTarget).closest(".et-vb-layer-module"),i=r.height(),a=r.offset().top+i/2;m(a);const o=c??Vo({event:e,moduleElement:e.currentTarget,moduleType:_,draggedModuleType:B,draggedModule:V,currentModuleId:t,currentModuleName:b,defaultBottomOffsetTop:a,isEmptyStructuralElement:T,draggedModules:R}),l={label:b,ancestorId:n,ancestorHoveredArea:o,moduleType:_,location:"layers",isNestedModule:k,parentId:Q};if(P&&!z?.expand){const e=(0,s.throttle)((()=>{(0,d.dispatch)("divi/modal-library").setLayersViewModule({moduleId:t,childrenModuleIds:v,data:{expand:!0}})}),200);(0,Y.isValidDescendant)(_,V?.moduleType)&&e()}f(o),(0,d.dispatch)("divi/events").onMouseEnter("module",t,l,o)},onMouseLeave:()=>{const e={label:b};(0,d.dispatch)("divi/events").onMouseLeave("module",t,e)},onMouseMove:ge,isActiveModule:$,setActiveLayerModuleId:u,layerModule:z,isSearchActive:J,searchModule:K,filterModules:Z,isFilterActive:X,isGlobalModule:N,isChildHovered:q,isColumnOnlyChildToRow:se,hideLayerOptions:le,isHighlighted:H,isDisabled:S,isModuleTitleDynamic:I,draggedModuleType:B})},Go=({onToggleAllClick:e,isAnySectionSelfExpanded:t})=>{const r={expand:t,onClick:()=>{e(!t)}};return l().createElement("div",{className:me()({"et-vb-layer-toggle-all":!0,"et-vb-layer-toggle-all--sticky":!1})},(({expand:e,onClick:t})=>l().createElement("button",{type:"button",className:"et-vb-layer-toggle-all-button",onClick:h.handleOnClickFallback,onMouseDown:t},l().createElement("span",{className:"et-vb-layer-toggle-all-button-text"},e?(0,a.__)("Close All"):(0,a.__)("Open All"))))(r))},Ho=({count:e})=>l().createElement("div",{className:me()({"et-vb-layer-search-result-count":!0,"et-vb-layer-search-result-count--sticky":!0})},l().createElement("span",{className:"et-vb-layer-search-result-count__text"},(0,a.sprintf)((0,a._n)("%s result","%s results",e,"et_builder"),e))),Uo=()=>{const{count:e}=(0,d.useSelect)((e=>({count:e("divi/modal-library").getLayersViewSearchResultCount()})));return(0,o.createElement)(Ho,{count:e})},$o=({moduleIcon:e,moduleName:t})=>l().createElement("div",{className:"et-vb-layer-drag-handle"},l().createElement("div",{className:"et-vb-layer-drag-handle-icon"},l().createElement(Do,{moduleIconName:e})),l().createElement("span",{className:"et-vb-layer-drag-handle-title"},t)),zo=({draggedModule:e})=>{const{id:t,name:r}=e,n=(0,d.useSelect)((e=>e("divi/module-library").getModule(r))),i=Bo(r,t),a=n?.moduleIcon;return l().createElement($o,{moduleIcon:a,moduleName:i})},Ko=({onClearFilters:e})=>l().createElement("div",{className:"et-fb-options-filter-notice"},l().createElement("span",null,(0,a.__)("No layers exist for this search query.","et_builder")),l().createElement("button",{type:"button","data-tip":"",className:"et-fb-filter-notice-button",onClick:h.handleOnClickFallback,onMouseDown:e},(0,a.__)("Click here","et_builder")),l().createElement("span",null,(0,a.__)("to clear your search filters.","et_builder"))),Zo=({childrenIds:e,searchInputRef:t})=>l().createElement(Ko,{onClearFilters:()=>{(0,d.dispatch)("divi/modal-library").setLayersViewFilter({filterKeyword:"",isFilterActive:!1,moduleIds:e}),(0,d.dispatch)("divi/modal-library").setLayersViewSearch({searchKeyword:"",isSearchActive:!0,moduleIds:e}),t.current&&(t.current.value="")}}),Jo="divi/layers",Yo=(0,a.__)("Layers","et_builder"),Xo=e=>{const{childrenIds:t,isSearchActive:r,isFilterActive:n,isFilterReset:i,onFilterResetClick:c,onFilterOptionClick:m,shouldDisplayLayerModules:h,filterOptions:g,isAnySectionSelfExpanded:f,onToggleAllClick:b}=e,[v,y]=(0,o.useState)(!1),[w,_]=(0,o.useState)(""),E=(0,o.useRef)(null);return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--layers",componentName:"et-vb-divi-modals--layers"},l().createElement(p.WrapperContainer,{snappable:!0,expandable:!1,draggable:!0,resizable:!0,modalName:Jo},l().createElement(p.Header,{name:(0,a.__)("Layers","et_builder"),sticky:!0}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"layers",opened:!0},l().createElement(p.SearchBar,{placeholder:(0,a.__)("Search Layout","et_builder"),onSearchInputChange:e=>{const r=()=>{y(!1),(0,d.dispatch)("divi/modal-library").setLayersViewSearch({searchKeyword:e,isSearchActive:!0,moduleIds:t})};e.length?(0,s.throttle)(r,500,{leading:!1})():r()},shouldResetSearchInput:v,isSearchActive:r,className:"et-vb-search-bar--sticky",isFilterActive:n,isFilterReset:i,onFilterResetClick:c,onFilterOptionClick:m,filterOptions:g,searchInputRef:E}),r||n?l().createElement(Uo,null):l().createElement(Go,{onToggleAllClick:b,isAnySectionSelfExpanded:f}),h?l().createElement("div",{className:me()({"et-vb-layer-module-wrapper":!0})},t.map((e=>l().createElement(Wo,{key:e,id:e,level:1,isActiveModule:w===e,setActiveLayerModuleId:_}))),l().createElement(ae.DragHandleContainer,{customDragHandle:zo,dragLocation:"layers"})):l().createElement(Zo,{childrenIds:t,searchInputRef:E})))))},Qo=()=>{const{childrenIds:e,isSearchActive:t,isFilterActive:r,isFilterReset:n,isAnySectionSelfExpanded:i,searchResultCount:a,moduleCollections:s}=(0,d.useSelect)((e=>{const t=e("divi/edit-post").getModule("root")?.children||[];return{childrenIds:t,moduleCollections:e("divi/module-library").getModules(),isSearchActive:e("divi/modal-library").isLayersViewSearchActive(),isFilterActive:e("divi/modal-library").isLayersViewFilterActive(),isFilterReset:e("divi/modal-library").isLayersViewFilterReset(),isAnySectionSelfExpanded:e("divi/modal-library").isAnySectionSelfExpanded(t),searchResultCount:e("divi/modal-library").getLayersViewSearchResultCount()}})),c=(0,o.useMemo)((()=>{const e=Object.fromEntries(Object.entries(s).filter((([e,t])=>e&&"structure"===t?.category&&"divi/global-layout"!==t?.name&&"divi/row-inner"!==t?.name&&"divi/column-inner"!==t?.name)).sort().reverse().map((([e,t])=>[e,{name:t.name,label:t.titles}]))),t=Object.fromEntries(Object.entries(s).filter((([e,t])=>e&&"structure"===t.category&&"divi/global-layout"===t.name)).map((([e,t])=>[e,{name:t.name,label:t.titles}]))),r=Object.fromEntries(Object.entries(s).filter((([e,t])=>e&&"module"===t.category)).map((([e,t])=>[e,{name:t.name,label:t.titles}])));return{...e,module:{name:"module",label:"Modules"},...t,...r}}),[s]),u=(0,o.useCallback)((()=>{(0,d.dispatch)("divi/modal-library").setLayersViewFilter({filterKeyword:"",isFilterActive:!1,moduleIds:e})}),[e]),p=(0,o.useCallback)((t=>{(0,d.dispatch)("divi/modal-library").setLayersViewExpandAll({expandAll:t,moduleIds:e})}),[e]),m=(0,o.useCallback)((t=>{(0,d.dispatch)("divi/modal-library").setLayersViewFilter({filterKeyword:t,isFilterActive:!0,moduleIds:e})}),[e]),h=!r&&!t||a>0&&(r||t);return l().createElement(Xo,{childrenIds:e,isSearchActive:t,isFilterActive:r,isFilterReset:n,onFilterResetClick:u,onFilterOptionClick:m,filterOptions:c,isAnySectionSelfExpanded:i,onToggleAllClick:p,shouldDisplayLayerModules:h})},el={name:Jo,label:Yo,sidebarPosition:"left",type:"multiInstanceModal",component:Qo,dimension:{width:200,height:240}},tl=({name:e,previewUrl:t,isProgress:r,progress:n,modalHeading:i})=>l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--library-item-preview"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:e,centered:!1},l().createElement(p.Header,{name:i}),l().createElement(p.BodyContainer,null,r?l().createElement("div",{className:"et-vb-library-item-preview--progressbar"},l().createElement(m.ProgressBar,{progress:n})):l().createElement("div",{className:"et-vb-library-item-preview--iframe"},l().createElement("iframe",{src:t,width:"100%",height:"100%",title:i})))))),rl="divi/library-item-preview",nl=(0,a.__)("Library Item Preview","et_builder"),il={name:rl,label:nl,type:"multiInstanceModal",component:()=>{const{data:e,libraryItemProgress:t,previewUrl:r}=(0,d.useSelect)((e=>{const t=e("divi/modal-library").getModal("divi/library-item-preview"),r=(0,s.get)(t,["attributes"],{});return{data:r.data,libraryItemProgress:r.libraryItemProgress,previewUrl:r.previewUrl}}),[]),{isProgress:n,progress:i}=t,{item:a}=e;return(0,o.createElement)(tl,{name:rl,previewUrl:r,isProgress:n,progress:i,modalHeading:a.name})},canBeSavedOnWorkspace:!1},al="divi/load-code-snippets",ol=(0,a.__)("Load Code Snippets","et_builder"),ll=({bodySiblingHeight:e,onCloudUseItem:t,context:r})=>{const n=()=>{(0,d.dispatch)("divi/modal-library").close({name:al})};return(0,o.useEffect)((()=>(Ne()(window).on("et_code_snippets_library_close",n),()=>{Ne()(window).off("et_code_snippets_library_close",n)})),[]),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--alert",componentName:"et-vb-divi-modals--alert"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{dimension:null,offset:null,modalName:al,bodySiblingHeight:e,caret:!1},l().createElement(c.CloudAppSnippets,{context:r??"code_html",onCloudUseItem:t}))))},sl={name:al,label:ol,type:"multiInstanceModal",component:()=>{const{attributes:e,bodySiblingHeight:t}=(0,d.useSelect)((e=>({bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/load-code-snippets",property:"bodySiblingHeight"}),attributes:e("divi/modal-library").getModalProperty({modalName:"divi/load-code-snippets",property:"attributes"})})));return(0,o.createElement)(ll,{context:e?.context,bodySiblingHeight:t,onCloudUseItem:(t,r)=>{const n=r?"insert":"replace";e?.callback({code:t,replace:n})}})},videos:[{id:"9eqXcrLcnoc",name:"Using pre-made layouts"},{id:"boNZZ0MYU0E",name:" Saving and loading from the library"},{id:"pR8b4i4E2e4",name:" Using Divi Cloud"}]},cl=({id:e,title:t,description:r,classNames:n,bannerText:i,onClickInsertLayoutCard:a,imageUrl:o})=>l().createElement("div",{className:"et-fb-layout-card"},l().createElement("div",{className:me()({...n}),onClick:h.handleOnClickFallback,role:"button",tabIndex:0,onMouseDown:()=>a(e)},l().createElement("img",{src:o,alt:t}),l().createElement("div",{className:"et-fb-layout-creation-card__content"},l().createElement("h3",{className:"et-fb-layout-creation-card__title"},t),l().createElement("p",{className:"et-fb-layout-creation-card__description"},r)),i&&l().createElement("div",{className:"et-fb-layout-creation-card__banner"},i))),dl=({onClickInsertLayoutCard:e,isDiviAIEnabled:t})=>{const r=window?.et_pb_custom?.builder_images_uri,n=[{id:"premade-layouts",title:(0,a.__)("Premade Layout","et_builder"),description:(0,a.__)("Select from thousands of premade layouts designed for every type of site","et_builder"),image:`${r}/layout-insert-premade-layout.svg`,classNames:{"et-fb-layout-creation-card":!0,"et-fb-layout-creation-card__accent-purple":!0}},{id:"your-saved-layouts",title:(0,a.__)("Saved Layout","et_builder"),description:(0,a.__)("Start from a layout in your Divi Library or clone an existing page","et_builder"),image:`${r}/layout-insert-saved-layout.svg`,classNames:{"et-fb-layout-creation-card":!0,"et-fb-layout-creation-card__accent-light-blue":!0}},...t?[{id:"build_with_ai",title:(0,a.__)("Build With AI","et_builder"),description:(0,a.__)("Simply describe your page, sit back, relax and let Divi AI build it for you","et_builder"),image:`${r}/layout-insert-build-with-ai.svg`,classNames:{"et-fb-layout-creation-card":!0,"et-fb-layout-creation-card__accent-dark-blue":!0}}]:[]];return l().createElement("div",{className:"et-fb-layout-creation-cards"},n.map((t=>l().createElement(cl,{id:t.id,title:t.title,description:t.description,classNames:t.classNames,onClickInsertLayoutCard:e,imageUrl:t.image,key:t.id}))))},ul=({bodySiblingHeight:e,onCloudUseItem:t,openTab:r,tab:n,dimension:i,offset:s,isInsertLayoutTab:d,onClickInsertLayoutCard:m,isDiviAIEnabled:g})=>{const[v,y]=(0,o.useState)(!0),[w,_]=(0,o.useState)((0,a.__)("Layout Details","et_builder")),[E,C]=(0,o.useState)(null),x=n||"premade-layouts",S=(0,o.useMemo)((()=>f().find((e=>e.id===x))),[x]),k=(0,o.useMemo)((()=>{if(S&&"context"in S&&S.context)return S.context;switch(x){case"your-saved-layouts":return"layout";case"your-existing-pages":return"page";default:return"premade"}}),[x,S]),I=(0,o.useMemo)((()=>!!S&&("contentType"in S&&"component"===S.contentType)),[S])&&S&&"component"in S?S.component:null;return(0,o.useEffect)((()=>{C(v?null:[h.topWindow.document.querySelector(".et-vb-modal-header-button--back-to-parent")])}),[v]),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--alert",componentName:"et-vb-divi-modals--alert"},l().createElement(p.WrapperContainer,{dimension:i,offset:s,modalName:b,modalActiveTab:x,bodySiblingHeight:e,caret:!1},l().createElement(p.Header,{name:d?(0,a.__)("Insert Layout","et_builder"):v?(0,a.__)("Load From Library","et_builder"):w,backButton:!v,onClickBackButton:()=>y(!0),customButtons:fe(0,x)}),!d&&l().createElement(p.Tabs,null,f().map((({id:e,label:t})=>{const n=e===x;return l().createElement(p.Tab,{key:e,onClick:()=>r(e),active:n},t)}))),l().createElement(p.BodyContainer,null,d?l().createElement(dl,{onClickInsertLayoutCard:m,isDiviAIEnabled:g}):I?l().createElement(I,{tab:x,openTab:r}):l().createElement(c.CloudAppContainer,{context:k,libraryDataTypeToFetch:["layout","page"],onCloudPageChanged:(e,t)=>{y(e),_(t||(0,a.__)("Layout Details","et_builder"))},onCloudUseItem:t,backButton:E}))))},pl=e=>{(0,d.dispatch)("divi/modal-library").openTab({name:b,tabName:e})},ml=(e,t,r)=>{const n=e.getIn(["preset_id_mappings"])||{},i=e.getIn(["defaultImportedModulePresetIds"])||{},a=e.getIn(["defaultImportedGroupPresetIds"])||{};(0,d.dispatch)("divi/edit-post").importContent({content:e.getIn(["content"],""),importOptionsValues:{removeGlobalScope:r?"on":"off",replaceLayout:t?"on":"off",importBackUp:"off",importToCloud:"off",includeGlobalPresets:"off"},presetIdsToReplace:n,defaultImportedModulePresetIds:i,defaultImportedGroupPresetIds:a}),(0,d.dispatch)("divi/modal-library").close({name:b})},hl=e=>{const{adminBarHeight:t,bodySiblingHeight:r,builderBarWidth:n,pageBarHeight:i,sidebarLeftWidth:l,sidebarRightWidth:s,topWindowHeight:c,topWindowWidth:u,isDiviAIEnabled:p}=(0,d.useSelect)((e=>({bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/load-layout",property:"bodySiblingHeight"}),topWindowWidth:e("divi/app-ui").getWindow("width","top"),builderBarWidth:e("divi/app-ui").getElementProperty({elementName:"builderBar",propertyGroup:"dimension",propertyName:"width"}),sidebarLeftWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarLeft",propertyGroup:"dimension",propertyName:"width"}),sidebarRightWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarRight",propertyGroup:"dimension",propertyName:"width"}),topWindowHeight:e("divi/app-ui").getWindow("height","top"),adminBarHeight:e("divi/app-ui").getElementProperty({elementName:"adminBar",propertyGroup:"dimension",propertyName:"height"}),pageBarHeight:e("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"}),isDiviAIEnabled:e("divi/settings").checkRolePermission("divi_ai")}))),[m,h]=(0,o.useState)(!e?.tab||""===e?.tab),g={top:t+i+32,left:n+l+32},v=m?{width:p?606:410,height:289}:{width:u-(n+l+s+64),height:c-(t+i+64)},y={...e,bodySiblingHeight:r,onCloudUseItem:ml,openTab:pl,dimension:v,offset:g,isInsertLayoutTab:m,onClickInsertLayoutCard:e=>{if("build_with_ai"===e){(0,d.dispatch)("divi/modal-library").open({name:"divi/page-settings"});const e={aiMode:"layout",type:"layout_with_ai",contextData:{module:""},additionalInfo:{field_name:"",fields:[]}};jQuery(window).trigger("et_ai_container_ready",[e,"et-ai-app"]),(0,d.dispatch)("divi/modal-library").close({name:b})}else pl(e);h(!1)},isDiviAIEnabled:p};return(0,o.useEffect)((()=>((0,Oe.registerShortcut)({name:"switchTab--divi/load-layout",label:(0,a.__)("Switch Tab","et_builder"),keys:["Shift","Tab"],category:"modal",action:()=>{const e=(0,d.select)("divi/modal-library").getModal("divi/load-layout");if(e&&e?.name===b){const t=f(),r=e.tab||t[0]?.id,n=t.map((e=>e.id)).indexOf(r);if(-1!==n){const e=t[(n+1)%t.length]?.id;e&&pl(e)}}}}),()=>{(0,Oe.unregisterShortcut)("switchTab--divi/load-layout")})),[]),(0,o.createElement)(ul,{...e,...y})},gl={name:b,label:v,component:hl,videos:[{id:"9eqXcrLcnoc",name:"Using pre-made layouts"},{id:"boNZZ0MYU0E",name:" Saving and loading from the library"},{id:"pR8b4i4E2e4",name:" Using Divi Cloud"}],type:"multiInstanceModal",autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal"},fl=(0,d.withSelect)((e=>{const t=e("divi/app-ui"),r=t.getView();return{activeViewName:r,activeView:t.getViewItem(r),topWindow:{width:t.getWindow("width","top"),height:t.getWindow("height","top")},appWindow:{width:t.getWindow("width","app"),height:t.getWindow("height","app")}}}))((({activeViewName:e,activeView:t,topWindow:r,appWindow:n})=>l().createElement("div",{className:"et-vb-app-view-panel",style:{padding:30}},l().createElement("h4",null,"Active View"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Attribute"),l().createElement("th",null,"Value"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"Name"),l().createElement("td",null,l().createElement("code",null,e))),l().createElement("tr",null,l().createElement("td",null,"Width"),l().createElement("td",null,l().createElement("code",null,t.width))),l().createElement("tr",null,l().createElement("td",null,"Height"),l().createElement("td",null,l().createElement("code",null,t.height))))),l().createElement("h4",null,"Top Window"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Attribute"),l().createElement("th",null,"Value"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"Width"),l().createElement("td",null,l().createElement("code",null,r.width))),l().createElement("tr",null,l().createElement("td",null,"Height"),l().createElement("td",null,l().createElement("code",null,r.height))))),l().createElement("h4",null,"App Window"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Attribute"),l().createElement("th",null,"Value"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"Width"),l().createElement("td",null,l().createElement("code",null,n.width))),l().createElement("tr",null,l().createElement("td",null,"Height"),l().createElement("td",null,l().createElement("code",null,n.height)))))))),bl=(0,d.withSelect)((e=>{const t=e("divi/events"),r=t.getSelectedModules().asMutable({deep:!0}),n=(0,s.map)(r,(e=>e.moduleType));return{selectedModules:r,selectedModulesLowest:(0,Y.extractLowestModuleType)(n),draggingStatus:t.getDraggingStatus("layout"),draggedModules:t.getDraggedModules(),cursorPosition:t.getCursorPosition(),hoveredModule:t.getHoveredModule()}}))((({selectedModules:e,selectedModulesLowest:t,draggingStatus:r,draggedModules:n,cursorPosition:i,hoveredModule:a})=>l().createElement("div",{className:"et-vb-draggable-module-panel",style:{padding:30}},l().createElement("h4",null,"Selected Modules"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Type"),l().createElement("th",null,"Id"))),l().createElement("tbody",null,e.map((e=>l().createElement("tr",{key:`selected-module-${e.id}`,className:e.moduleType===t?"highlight":""},l().createElement("td",null,l().createElement("code",null,e.moduleType)),l().createElement("td",null,l().createElement("code",null,e.id))))))),l().createElement("h4",null,"Dragged Modules:",r?l().createElement("code",null,"active"):""),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Type"),l().createElement("th",null,"id"))),l().createElement("tbody",null,n.map((e=>l().createElement("tr",{key:`selected-module-${e.id}`},l().createElement("td",null,l().createElement("code",null,e.moduleType)),l().createElement("td",null,l().createElement("code",null,e.id))))))),l().createElement("h4",null,"Cursor Position"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Name"),l().createElement("th",null,"Data"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"PageX"),l().createElement("td",null,l().createElement("code",null,i.pageX))),l().createElement("tr",null,l().createElement("td",null,"PageY"),l().createElement("td",null,l().createElement("code",null,i.pageY))),l().createElement("tr",null,l().createElement("td",null,"ScreenX"),l().createElement("td",null,l().createElement("code",null,i.clientX))),l().createElement("tr",null,l().createElement("td",null,"ScreenY"),l().createElement("td",null,l().createElement("code",null,i.clientY))))),l().createElement("h4",{style:{marginTop:20}},"Hovered Module"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Name"),l().createElement("th",null,"Data"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"Payload"),l().createElement("td",null,l().createElement("code",null,JSON.stringify((0,s.get)(a,"payload"))))),l().createElement("tr",null,l().createElement("td",null,"id"),l().createElement("td",null,l().createElement("code",null,(0,s.get)(a,"id","-")))),l().createElement("tr",null,l().createElement("td",null,"Area"),l().createElement("td",null,l().createElement("code",null,(0,s.get)(a,"area","-")))),l().createElement("tr",null,l().createElement("td",null,"Target"),l().createElement("td",null,l().createElement("code",null,(0,s.get)(a,"target","-"))))))))),vl=(0,d.withSelect)((e=>({hoveredModule:e("divi/events").getHoveredModule()})))((e=>{const{hoveredModule:t}=e;return l().createElement("div",{className:"et-vb-hovered-module-panel",style:{padding:30}},l().createElement("h4",null,"Target"),l().createElement("pre",null,(0,s.get)(t,"target","n/a")),l().createElement("h4",null,"id"),l().createElement("pre",null,(0,s.get)(t,"id","n/a")),l().createElement("h4",null,"Payload"),l().createElement("pre",null,JSON.stringify((0,s.get)(t,"payload",{}))))})),yl=(0,d.withSelect)((e=>({pressedKeys:e("divi/keyboard-shortcuts").getPressedKeys(),current:e("divi/keyboard-shortcuts").getCurrentShortcut()})))((e=>{const{pressedKeys:t,current:r}=e,n=(0,s.values)(t);return l().createElement("div",{className:"et-vb-keyboard-shortcuts-monitor",style:{padding:30}},l().createElement("h4",null,"Pressed Keys:"),l().createElement("pre",{style:{height:50}},n.join(" + ")),l().createElement("h4",null,"Matching Shortcuts:"),l().createElement("pre",{style:{height:50}},r.name))})),wl=(0,d.withSelect)((e=>({storeState:e("divi/right-click-options").getState()})))((({storeState:e})=>{const{active:t,cursorPosition:r,length:n,optionType:i,owner:a,selected:o,windowLocation:c}=e;return l().createElement("div",{className:"et-vb-right-click-options-module-panel",style:{padding:30}},l().createElement("h4",null,"Right Click Options"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",{style:{width:130}},"State"),l().createElement("th",null,"Value"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"Active"),l().createElement("td",null,t?"Yes":"No")),l().createElement("tr",null,l().createElement("td",null,"Cursor Position X"),l().createElement("td",null,r.x)),l().createElement("tr",null,l().createElement("td",null,"Cursor Position Y"),l().createElement("td",null,r.y)),l().createElement("tr",null,l().createElement("td",null,"Option Type"),l().createElement("td",null,i)),l().createElement("tr",null,l().createElement("td",null,"Options Length"),l().createElement("td",null,n)),l().createElement("tr",null,l().createElement("td",null,"Selected"),l().createElement("td",null,o)),l().createElement("tr",null,l().createElement("td",null,"Window Location"),l().createElement("td",null,c)),l().createElement("tr",null,l().createElement("td",null,"Owner"),l().createElement("td",null,(0,s.isNull)(a)?"-":(e=>{const t=(0,s.keys)(e);return l().createElement("table",{className:"et-vb-debug-subtable"},l().createElement("tbody",null,t.map((t=>{const r=(0,s.get)(e,t);return l().createElement("tr",{key:`et-vb-debug-right-click-option-owner-${t}`},l().createElement("td",null,t),l().createElement("td",null,l().createElement("code",null,(0,s.isString)(r)?r:JSON.stringify(r))))}))))})(a))))))})),_l=(0,d.withSelect)((e=>{const t=e("divi/history");return{editPost:t.getRecentSubHistory("edit-post"),events:t.getRecentSubHistory("events")}}))((e=>{const{editPost:t,events:r,tab:n}=e,i=n||"events",o=(0,a.__)("Logger","et_builder"),c=(0,a.__)("Events","et_builder"),d=(0,a.__)("Edit Post","et_builder"),m=(0,a.__)("Shortcut","et_builder"),h=(0,a.__)("Hovered","et_builder"),g=(0,a.__)("Drag n Drop","et_builder"),f=e=>l().createElement(l().Fragment,null,l().createElement("ol",{className:"et-vb-logger-logs-list"},e.map(((e,t)=>{const r=(0,s.get)(e,"payload.label",""),n=(0,s.get)(e,"payload.details","");let i=e.actionType;r&&(i+=`: ${r}`);const o=n?l().createElement("span",{className:"details"},n):"";return l().createElement("li",{key:`et-vb-log-${e.actionType}--${e.trigger}-${t.toString()}`},l().createElement("strong",{className:"action"},i),l().createElement("span",{className:"trigger"},(0,a.__)("Trigger: ","et_builder"),e.trigger),o)}))));return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--logger",componentName:"et-vb-divi-modals--logger"},l().createElement(p.WrapperContainer,{draggable:!0,resizable:!0,expandable:!0,snappable:!0,modalName:"divi/logger",modalActiveTab:i},l().createElement(p.Header,{name:o}),l().createElement(p.BodyPanelWrapperContainer,null,l().createElement(p.PanelContainer,{id:"events",label:c},f(r)),l().createElement(p.PanelContainer,{id:"edit-post",label:d},f(t)),l().createElement(p.PanelContainer,{id:"keyboard-shortcut",label:m},l().createElement(yl,null)),l().createElement(p.PanelContainer,{id:"hovered-module",label:h},l().createElement(vl,null)),l().createElement(p.PanelContainer,{id:"draggable-module",label:g},l().createElement(bl,null)),l().createElement(p.PanelContainer,{id:"right-click-options",label:(0,a.__)("Right Click","et_builder")},l().createElement(wl,null)),l().createElement(p.PanelContainer,{id:"app-view",label:(0,a.__)("App View","et_builder")},l().createElement(fl,null)))))})),El={name:"divi/logger",label:(0,a.__)("Logger","et_builder"),type:"multiInstanceModal",component:_l};var Cl=window.vendor.ReactDOM;const xl="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function Sl(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function kl(e){return"nodeType"in e}function Il(e){var t,r;return e?Sl(e)?e:kl(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function Ml(e){const{Document:t}=Il(e);return e instanceof t}function Al(e){return!Sl(e)&&e instanceof Il(e).HTMLElement}function Fl(e){return e instanceof Il(e).SVGElement}function Nl(e){return e?Sl(e)?e.document:kl(e)?Ml(e)?e:Al(e)||Fl(e)?e.ownerDocument:document:document:document}const Tl=xl?o.useLayoutEffect:o.useEffect;function Ol(e){const t=(0,o.useRef)(e);return Tl((()=>{t.current=e})),(0,o.useCallback)((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)}),[])}function Pl(e,t){void 0===t&&(t=[e]);const r=(0,o.useRef)(e);return Tl((()=>{r.current!==e&&(r.current=e)}),t),r}function Dl(e,t){const r=(0,o.useRef)();return(0,o.useMemo)((()=>{const t=e(r.current);return r.current=t,t}),[...t])}function Ll(e){const t=Ol(e),r=(0,o.useRef)(null),n=(0,o.useCallback)((e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e}),[]);return[r,n]}function Rl(e){const t=(0,o.useRef)();return(0,o.useEffect)((()=>{t.current=e}),[e]),t.current}let Vl={};function Bl(e,t){return(0,o.useMemo)((()=>{if(t)return t;const r=null==Vl[e]?0:Vl[e]+1;return Vl[e]=r,e+"-"+r}),[e,t])}function jl(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce(((t,r)=>{const n=Object.entries(r);for(const[r,i]of n){const n=t[r];null!=n&&(t[r]=n+e*i)}return t}),{...t})}}const ql=jl(1),Wl=jl(-1);function Gl(e){if(!e)return!1;const{KeyboardEvent:t}=Il(e.target);return t&&e instanceof t}function Hl(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Il(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Ul=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Ul.Translate.toString(e),Ul.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),$l="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function zl(e){return e.matches($l)?e:e.querySelector($l)}const Kl={display:"none"};function Zl(e){let{id:t,value:r}=e;return l().createElement("div",{id:t,style:Kl},r)}function Jl(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return l().createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}const Yl=(0,o.createContext)(null);const Xl={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Ql={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function es(e){let{announcements:t=Ql,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=Xl}=e;const{announce:a,announcement:s}=function(){const[e,t]=(0,o.useState)("");return{announce:(0,o.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}(),c=Bl("DndLiveRegion"),[d,u]=(0,o.useState)(!1);if((0,o.useEffect)((()=>{u(!0)}),[]),function(e){const t=(0,o.useContext)(Yl);(0,o.useEffect)((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}((0,o.useMemo)((()=>({onDragStart(e){let{active:r}=e;a(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:n}=e;t.onDragMove&&a(t.onDragMove({active:r,over:n}))},onDragOver(e){let{active:r,over:n}=e;a(t.onDragOver({active:r,over:n}))},onDragEnd(e){let{active:r,over:n}=e;a(t.onDragEnd({active:r,over:n}))},onDragCancel(e){let{active:r,over:n}=e;a(t.onDragCancel({active:r,over:n}))}})),[a,t])),!d)return null;const p=l().createElement(l().Fragment,null,l().createElement(Zl,{id:n,value:i.draggable}),l().createElement(Jl,{id:c,announcement:s}));return r?(0,Cl.createPortal)(p,r):p}var ts;function rs(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(ts||(ts={}));const ns=Object.freeze({x:0,y:0});function is(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function as(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function os(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function ls(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}const ss=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=ls(t,t.left,t.top),a=[];for(const e of n){const{id:t}=e,n=r.get(t);if(n){const r=is(ls(n),i);a.push({id:t,data:{droppableContainer:e,value:r}})}}return a.sort(as)};function cs(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-n,l=a-r;if(n<i&&r<a){const r=t.width*t.height,n=e.width*e.height,i=o*l;return Number((i/(r+n-i)).toFixed(4))}return 0}const ds=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const e of n){const{id:n}=e,a=r.get(n);if(a){const r=cs(a,t);r>0&&i.push({id:n,data:{droppableContainer:e,value:r}})}}return i.sort(os)};function us(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ns}function ps(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce(((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x})),{...t})}}const ms=ps(1);function hs(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const gs={ignoreTransform:!1};function fs(e,t){void 0===t&&(t=gs);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:n}=Il(e).getComputedStyle(e);t&&(r=function(e,t,r){const n=hs(t);if(!n)return e;const{scaleX:i,scaleY:a,x:o,y:l}=n,s=e.left-o-(1-i)*parseFloat(r),c=e.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=i?e.width/i:e.width,u=a?e.height/a:e.height;return{width:d,height:u,top:c,right:s+d,bottom:c+u,left:s}}(r,t,n))}const{top:n,left:i,width:a,height:o,bottom:l,right:s}=r;return{top:n,left:i,width:a,height:o,bottom:l,right:s}}function bs(e){return fs(e,{ignoreTransform:!0})}function vs(e,t){const r=[];return e?function n(i){if(null!=t&&r.length>=t)return r;if(!i)return r;if(Ml(i)&&null!=i.scrollingElement&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Al(i)||Fl(i))return r;if(r.includes(i))return r;const a=Il(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=Il(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const n=t[e];return"string"==typeof n&&r.test(n)}))}(i,a)&&r.push(i),function(e,t){return void 0===t&&(t=Il(e).getComputedStyle(e)),"fixed"===t.position}(i,a)?r:n(i.parentNode)}(e):r}function ys(e){const[t]=vs(e,1);return null!=t?t:null}function ws(e){return xl&&e?Sl(e)?e:kl(e)?Ml(e)||e===Nl(e).scrollingElement?window:Al(e)?e:null:null:null}function _s(e){return Sl(e)?e.scrollX:e.scrollLeft}function Es(e){return Sl(e)?e.scrollY:e.scrollTop}function Cs(e){return{x:_s(e),y:Es(e)}}var xs;function Ss(e){return!(!xl||!e)&&e===document.scrollingElement}function ks(e){const t={x:0,y:0},r=Ss(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(xs||(xs={}));const Is={x:.2,y:.2};function Ms(e,t,r,n,i){let{top:a,left:o,right:l,bottom:s}=r;void 0===n&&(n=10),void 0===i&&(i=Is);const{isTop:c,isBottom:d,isLeft:u,isRight:p}=ks(e),m={x:0,y:0},h={x:0,y:0},g=t.height*i.y,f=t.width*i.x;return!c&&a<=t.top+g?(m.y=xs.Backward,h.y=n*Math.abs((t.top+g-a)/g)):!d&&s>=t.bottom-g&&(m.y=xs.Forward,h.y=n*Math.abs((t.bottom-g-s)/g)),!p&&l>=t.right-f?(m.x=xs.Forward,h.x=n*Math.abs((t.right-f-l)/f)):!u&&o<=t.left+f&&(m.x=xs.Backward,h.x=n*Math.abs((t.left+f-o)/f)),{direction:m,speed:h}}function As(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Fs(e){return e.reduce(((e,t)=>ql(e,Cs(t))),ns)}function Ns(e,t){if(void 0===t&&(t=fs),!e)return;const{top:r,left:n,bottom:i,right:a}=t(e);ys(e)&&(i<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Ts=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+_s(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+Es(t)),0)}]];class Os{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=vs(t),n=Fs(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,i]of Ts)for(const a of t)Object.defineProperty(this,a,{get:()=>{const t=i(r),o=n[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ps{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Ds(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}var Ls,Rs;function Vs(e){e.preventDefault()}function Bs(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Ls||(Ls={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(Rs||(Rs={}));const js={start:[Rs.Space,Rs.Enter],cancel:[Rs.Esc],end:[Rs.Space,Rs.Enter]},qs=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Rs.Right:return{...r,x:r.x+25};case Rs.Left:return{...r,x:r.x-25};case Rs.Down:return{...r,y:r.y+25};case Rs.Up:return{...r,y:r.y-25}}};class Ws{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Ps(Nl(t)),this.windowListeners=new Ps(Il(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ls.Resize,this.handleCancel),this.windowListeners.add(Ls.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Ls.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&Ns(r),t(ns)}handleKeyDown(e){if(Gl(e)){const{active:t,context:r,options:n}=this.props,{keyboardCodes:i=js,coordinateGetter:a=qs,scrollBehavior:o="smooth"}=n,{code:l}=e;if(i.end.includes(l))return void this.handleEnd(e);if(i.cancel.includes(l))return void this.handleCancel(e);const{collisionRect:s}=r.current,c=s?{x:s.left,y:s.top}:ns;this.referenceCoordinates||(this.referenceCoordinates=c);const d=a(e,{active:t,context:r.current,currentCoordinates:c});if(d){const t=Wl(d,c),n={x:0,y:0},{scrollableAncestors:i}=r.current;for(const r of i){const i=e.code,{isTop:a,isRight:l,isLeft:s,isBottom:c,maxScroll:u,minScroll:p}=ks(r),m=As(r),h={x:Math.min(i===Rs.Right?m.right-m.width/2:m.right,Math.max(i===Rs.Right?m.left:m.left+m.width/2,d.x)),y:Math.min(i===Rs.Down?m.bottom-m.height/2:m.bottom,Math.max(i===Rs.Down?m.top:m.top+m.height/2,d.y))},g=i===Rs.Right&&!l||i===Rs.Left&&!s,f=i===Rs.Down&&!c||i===Rs.Up&&!a;if(g&&h.x!==d.x){const e=r.scrollLeft+t.x,a=i===Rs.Right&&e<=u.x||i===Rs.Left&&e>=p.x;if(a&&!t.y)return void r.scrollTo({left:e,behavior:o});n.x=a?r.scrollLeft-e:i===Rs.Right?r.scrollLeft-u.x:r.scrollLeft-p.x,n.x&&r.scrollBy({left:-n.x,behavior:o});break}if(f&&h.y!==d.y){const e=r.scrollTop+t.y,a=i===Rs.Down&&e<=u.y||i===Rs.Up&&e>=p.y;if(a&&!t.x)return void r.scrollTo({top:e,behavior:o});n.y=a?r.scrollTop-e:i===Rs.Down?r.scrollTop-u.y:r.scrollTop-p.y,n.y&&r.scrollBy({top:-n.y,behavior:o});break}}this.handleMove(e,ql(Wl(d,this.referenceCoordinates),n))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Gs(e){return Boolean(e&&"distance"in e)}function Hs(e){return Boolean(e&&"delay"in e)}Ws.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=js,onActivation:i}=t,{active:a}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class Us{constructor(e,t,r){var n;void 0===r&&(r=function(e){const{EventTarget:t}=Il(e);return e instanceof t?e:Nl(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=Nl(a),this.documentListeners=new Ps(this.document),this.listeners=new Ps(r),this.windowListeners=new Ps(Il(a)),this.initialCoordinates=null!=(n=Hl(i))?n:ns,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Ls.Resize,this.handleCancel),this.windowListeners.add(Ls.DragStart,Vs),this.windowListeners.add(Ls.VisibilityChange,this.handleCancel),this.windowListeners.add(Ls.ContextMenu,Vs),this.documentListeners.add(Ls.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Hs(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(Gs(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ls.Click,Bs,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ls.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:n,props:i}=this,{onMove:a,options:{activationConstraint:o}}=i;if(!n)return;const l=null!=(t=Hl(e))?t:ns,s=Wl(n,l);if(!r&&o){if(Gs(o)){if(null!=o.tolerance&&Ds(s,o.tolerance))return this.handleCancel();if(Ds(s,o.distance))return this.handleStart()}return Hs(o)&&Ds(s,o.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Rs.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const $s={move:{name:"pointermove"},end:{name:"pointerup"}};class zs extends Us{constructor(e){const{event:t}=e,r=Nl(t.target);super(e,$s,r)}}zs.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!(!r.isPrimary||0!==r.button)&&(null==n||n({event:r}),!0)}}];const Ks={move:{name:"mousemove"},end:{name:"mouseup"}};var Zs;!function(e){e[e.RightClick=2]="RightClick"}(Zs||(Zs={}));(class extends Us{constructor(e){super(e,Ks,Nl(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button!==Zs.RightClick&&(null==n||n({event:r}),!0)}}];const Js={move:{name:"touchmove"},end:{name:"touchend"}};var Ys,Xs;function Qs(e){let{acceleration:t,activator:r=Ys.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:l=5,order:s=Xs.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:p,threshold:m}=e;const h=function(e){let{delta:t,disabled:r}=e;const n=Rl(t);return Dl((e=>{if(r||!n||!e)return ec;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[xs.Backward]:e.x[xs.Backward]||-1===i.x,[xs.Forward]:e.x[xs.Forward]||1===i.x},y:{[xs.Backward]:e.y[xs.Backward]||-1===i.y,[xs.Forward]:e.y[xs.Forward]||1===i.y}}}),[r,t,n])}({delta:p,disabled:!a}),[g,f]=function(){const e=(0,o.useRef)(null);return[(0,o.useCallback)(((t,r)=>{e.current=setInterval(t,r)}),[]),(0,o.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),b=(0,o.useRef)({x:0,y:0}),v=(0,o.useRef)({x:0,y:0}),y=(0,o.useMemo)((()=>{switch(r){case Ys.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ys.DraggableRect:return i}}),[r,i,c]),w=(0,o.useRef)(null),_=(0,o.useCallback)((()=>{const e=w.current;if(!e)return;const t=b.current.x*v.current.x,r=b.current.y*v.current.y;e.scrollBy(t,r)}),[]),E=(0,o.useMemo)((()=>s===Xs.TreeOrder?[...d].reverse():d),[s,d]);(0,o.useEffect)((()=>{if(a&&d.length&&y){for(const e of E){if(!1===(null==n?void 0:n(e)))continue;const r=d.indexOf(e),i=u[r];if(!i)continue;const{direction:a,speed:o}=Ms(e,i,y,t,m);for(const e of["x","y"])h[e][a[e]]||(o[e]=0,a[e]=0);if(o.x>0||o.y>0)return f(),w.current=e,g(_,l),b.current=o,void(v.current=a)}b.current={x:0,y:0},v.current={x:0,y:0},f()}else f()}),[t,_,n,f,a,l,JSON.stringify(y),JSON.stringify(h),g,d,E,u,JSON.stringify(m)])}(class extends Us{constructor(e){super(e,Js)}static setup(){return window.addEventListener(Js.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Js.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return!(i.length>1)&&(null==n||n({event:r}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Ys||(Ys={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Xs||(Xs={}));const ec={x:{[xs.Backward]:!1,[xs.Forward]:!1},y:{[xs.Backward]:!1,[xs.Forward]:!1}};var tc,rc;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(tc||(tc={})),function(e){e.Optimized="optimized"}(rc||(rc={}));const nc=new Map;function ic(e,t){return Dl((r=>e?r||("function"==typeof t?t(e):e):null),[t,e])}function ac(e){let{callback:t,disabled:r}=e;const n=Ol(t),i=(0,o.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(n)}),[r]);return(0,o.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}function oc(e){return new Os(fs(e),e)}function lc(e,t,r){void 0===t&&(t=oc);const[n,i]=(0,o.useReducer)((function(n){if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=null!=n?n:r)?i:null;const a=t(e);if(JSON.stringify(n)===JSON.stringify(a))return n;return a}),null),a=function(e){let{callback:t,disabled:r}=e;const n=Ol(t),i=(0,o.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(n)}),[n,r]);return(0,o.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}({callback(t){if(e)for(const r of t){const{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){i();break}}}}),l=ac({callback:i});return Tl((()=>{i(),e?(null==l||l.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==a||a.disconnect())}),[e]),n}const sc=[];function cc(e,t){void 0===t&&(t=[]);const r=(0,o.useRef)(null);return(0,o.useEffect)((()=>{r.current=null}),t),(0,o.useEffect)((()=>{const t=e!==ns;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)}),[e]),r.current?Wl(e,r.current):ns}function dc(e){return(0,o.useMemo)((()=>e?function(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null),[e])}const uc=[];function pc(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Al(t)?t:e}const mc=[{sensor:zs,options:{}},{sensor:Ws,options:{}}],hc={current:{}},gc={draggable:{measure:bs},droppable:{measure:bs,strategy:tc.WhileDragging,frequency:rc.Optimized},dragOverlay:{measure:fs}};class fc extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}const bc={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new fc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:rs},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:gc,measureDroppableContainers:rs,windowRect:null,measuringScheduled:!1},vc={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:rs,draggableNodes:new Map,over:null,measureDroppableContainers:rs},yc=(0,o.createContext)(vc),wc=(0,o.createContext)(bc);function _c(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new fc}}}function Ec(e,t){switch(t.type){case ts.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ts.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case ts.DragEnd:case ts.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ts.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new fc(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case ts.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const o=new fc(e.droppable.containers);return o.set(r,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case ts.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const a=new fc(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Cc(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:i}=(0,o.useContext)(yc),a=Rl(n),l=Rl(null==r?void 0:r.id);return(0,o.useEffect)((()=>{if(!t&&!n&&a&&null!=l){if(!Gl(a))return;if(document.activeElement===a.target)return;const e=i.get(l);if(!e)return;const{activatorNode:t,node:r}=e;if(!t.current&&!r.current)return;requestAnimationFrame((()=>{for(const e of[t.current,r.current]){if(!e)continue;const t=zl(e);if(t){t.focus();break}}}))}}),[n,t,i,l,a]),null}function xc(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...n})),r):r}const Sc=(0,o.createContext)({...ns,scaleX:1,scaleY:1});var kc;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(kc||(kc={}));const Ic=(0,o.memo)((function(e){var t,r,n,i;let{id:a,accessibility:s,autoScroll:c=!0,children:d,sensors:u=mc,collisionDetection:p=ds,measuring:m,modifiers:h,...g}=e;const f=(0,o.useReducer)(Ec,void 0,_c),[b,v]=f,[y,w]=function(){const[e]=(0,o.useState)((()=>new Set)),t=(0,o.useCallback)((t=>(e.add(t),()=>e.delete(t))),[e]),r=(0,o.useCallback)((t=>{let{type:r,event:n}=t;e.forEach((e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)}))}),[e]);return[r,t]}(),[_,E]=(0,o.useState)(kc.Uninitialized),C=_===kc.Initialized,{draggable:{active:x,nodes:S,translate:k},droppable:{containers:I}}=b,M=x?S.get(x):null,A=(0,o.useRef)({initial:null,translated:null}),F=(0,o.useMemo)((()=>{var e;return null!=x?{id:x,data:null!=(e=null==M?void 0:M.data)?e:hc,rect:A}:null}),[x,M]),N=(0,o.useRef)(null),[T,O]=(0,o.useState)(null),[P,D]=(0,o.useState)(null),L=Pl(g,Object.values(g)),R=Bl("DndDescribedBy",a),V=(0,o.useMemo)((()=>I.getEnabled()),[I]),B=function(e){return(0,o.useMemo)((()=>({draggable:{...gc.draggable,...null==e?void 0:e.draggable},droppable:{...gc.droppable,...null==e?void 0:e.droppable},dragOverlay:{...gc.dragOverlay,...null==e?void 0:e.dragOverlay}})),[null==e?void 0:e.draggable,null==e?void 0:e.droppable,null==e?void 0:e.dragOverlay])}(m),{droppableRects:j,measureDroppableContainers:q,measuringScheduled:W}=function(e,t){let{dragging:r,dependencies:n,config:i}=t;const[a,l]=(0,o.useState)(null),{frequency:s,measure:c,strategy:d}=i,u=(0,o.useRef)(e),p=function(){switch(d){case tc.Always:return!1;case tc.BeforeDragging:return r;default:return!r}}(),m=Pl(p),h=(0,o.useCallback)((function(e){void 0===e&&(e=[]),m.current||l((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[m]),g=(0,o.useRef)(null),f=Dl((t=>{if(p&&!r)return nc;if(!t||t===nc||u.current!==e||null!=a){const t=new Map;for(let r of e){if(!r)continue;if(a&&a.length>0&&!a.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}const e=r.node.current,n=e?new Os(c(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t}),[e,a,r,p,c]);return(0,o.useEffect)((()=>{u.current=e}),[e]),(0,o.useEffect)((()=>{p||h()}),[r,p]),(0,o.useEffect)((()=>{a&&a.length>0&&l(null)}),[JSON.stringify(a)]),(0,o.useEffect)((()=>{p||"number"!=typeof s||null!==g.current||(g.current=setTimeout((()=>{h(),g.current=null}),s))}),[s,p,h,...n]),{droppableRects:f,measureDroppableContainers:h,measuringScheduled:null!=a}}(V,{dragging:C,dependencies:[k.x,k.y],config:B.droppable}),G=function(e,t){const r=null!==t?e.get(t):void 0,n=r?r.node.current:null;return Dl((e=>{var r;return null===t?null:null!=(r=null!=n?n:e)?r:null}),[n,t])}(S,x),H=(0,o.useMemo)((()=>P?Hl(P):null),[P]),U=function(){const e=!1===(null==T?void 0:T.autoScrollEnabled),t="object"==typeof c?!1===c.enabled:!1===c,r=C&&!e&&!t;if("object"==typeof c)return{...c,enabled:r};return{enabled:r}}(),$=function(e,t){return ic(e,t)}(G,B.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e;const a=(0,o.useRef)(!1),{x:l,y:s}="boolean"==typeof i?{x:i,y:i}:i;Tl((()=>{if(!l&&!s||!t)return void(a.current=!1);if(a.current||!n)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const i=us(r(e),n);if(l||(i.x=0),s||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){const t=ys(e);t&&t.scrollBy({top:i.y,left:i.x})}}),[t,l,s,n,r])}({activeNode:x?S.get(x):null,config:U.layoutShiftCompensation,initialRect:$,measure:B.draggable.measure});const z=lc(G,B.draggable.measure,$),K=lc(G?G.parentElement:null),Z=(0,o.useRef)({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:j,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),J=I.getNodeFor(null==(t=Z.current.over)?void 0:t.id),Y=function(e){let{measure:t}=e;const[r,n]=(0,o.useState)(null),i=(0,o.useCallback)((e=>{for(const{target:r}of e)if(Al(r)){n((e=>{const n=t(r);return e?{...e,width:n.width,height:n.height}:n}));break}}),[t]),a=ac({callback:i}),l=(0,o.useCallback)((e=>{const r=pc(e);null==a||a.disconnect(),r&&(null==a||a.observe(r)),n(r?t(r):null)}),[t,a]),[s,c]=Ll(l);return(0,o.useMemo)((()=>({nodeRef:s,rect:r,setRef:c})),[r,s,c])}({measure:B.dragOverlay.measure}),X=null!=(r=Y.nodeRef.current)?r:G,Q=C?null!=(n=Y.rect)?n:z:null,ee=Boolean(Y.nodeRef.current&&Y.rect),te=us(re=ee?null:z,ic(re));var re;const ne=dc(X?Il(X):null),ie=function(e){const t=(0,o.useRef)(e),r=Dl((r=>e?r&&r!==sc&&e&&t.current&&e.parentNode===t.current.parentNode?r:vs(e):sc),[e]);return(0,o.useEffect)((()=>{t.current=e}),[e]),r}(C?null!=J?J:G:null),ae=function(e,t){void 0===t&&(t=fs);const[r]=e,n=dc(r?Il(r):null),[i,a]=(0,o.useReducer)((function(){return e.length?e.map((e=>Ss(e)?n:new Os(t(e),e))):uc}),uc),l=ac({callback:a});return e.length>0&&i===uc&&a(),Tl((()=>{e.length?e.forEach((e=>null==l?void 0:l.observe(e))):(null==l||l.disconnect(),a())}),[e]),i}(ie),oe=xc(h,{transform:{x:k.x-te.x,y:k.y-te.y,scaleX:1,scaleY:1},activatorEvent:P,active:F,activeNodeRect:z,containerNodeRect:K,draggingNodeRect:Q,over:Z.current.over,overlayNodeRect:Y.rect,scrollableAncestors:ie,scrollableAncestorRects:ae,windowRect:ne}),le=H?ql(H,k):null,se=function(e){const[t,r]=(0,o.useState)(null),n=(0,o.useRef)(e),i=(0,o.useCallback)((e=>{const t=ws(e.target);t&&r((e=>e?(e.set(t,Cs(t)),new Map(e)):null))}),[]);return(0,o.useEffect)((()=>{const t=n.current;if(e!==t){a(t);const o=e.map((e=>{const t=ws(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,Cs(t)]):null})).filter((e=>null!=e));r(o.length?new Map(o):null),n.current=e}return()=>{a(e),a(t)};function a(e){e.forEach((e=>{const t=ws(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,e]),(0,o.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>ql(e,t)),ns):Fs(e):ns),[e,t])}(ie),ce=cc(se),de=cc(se,[z]),ue=ql(oe,ce),pe=Q?ms(Q,oe):null,me=F&&pe?p({active:F,collisionRect:pe,droppableRects:j,droppableContainers:V,pointerCoordinates:le}):null,he=function(e,t){if(!e||0===e.length)return null;const[r]=e;return t?r[t]:r}(me,"id"),[ge,fe]=(0,o.useState)(null),be=function(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}(ee?oe:ql(oe,de),null!=(i=null==ge?void 0:ge.rect)?i:null,z),ve=(0,o.useCallback)(((e,t)=>{let{sensor:r,options:n}=t;if(null==N.current)return;const i=S.get(N.current);if(!i)return;const a=e.nativeEvent,o=new r({active:N.current,activeNode:i,event:a,options:n,context:Z,onStart(e){const t=N.current;if(null==t)return;const r=S.get(t);if(!r)return;const{onDragStart:n}=L.current,i={active:{id:t,data:r.data,rect:A}};(0,Cl.unstable_batchedUpdates)((()=>{null==n||n(i),E(kc.Initializing),v({type:ts.DragStart,initialCoordinates:e,active:t}),y({type:"onDragStart",event:i})}))},onMove(e){v({type:ts.DragMove,coordinates:e})},onEnd:l(ts.DragEnd),onCancel:l(ts.DragCancel)});function l(e){return async function(){const{active:t,collisions:r,over:n,scrollAdjustedTranslate:i}=Z.current;let o=null;if(t&&i){const{cancelDrop:l}=L.current;if(o={activatorEvent:a,active:t,collisions:r,delta:i,over:n},e===ts.DragEnd&&"function"==typeof l){await Promise.resolve(l(o))&&(e=ts.DragCancel)}}N.current=null,(0,Cl.unstable_batchedUpdates)((()=>{v({type:e}),E(kc.Uninitialized),fe(null),O(null),D(null);const t=e===ts.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=L.current[t];null==e||e(o),y({type:t,event:o})}}))}}(0,Cl.unstable_batchedUpdates)((()=>{O(o),D(e.nativeEvent)}))}),[S]),ye=(0,o.useCallback)(((e,t)=>(r,n)=>{const i=r.nativeEvent,a=S.get(n);if(null!==N.current||!a||i.dndKit||i.defaultPrevented)return;const o={active:a};!0===e(r,t.options,o)&&(i.dndKit={capturedBy:t.sensor},N.current=n,ve(r,t))}),[S,ve]),we=function(e,t){return(0,o.useMemo)((()=>e.reduce(((e,r)=>{const{sensor:n}=r;return[...e,...n.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,r)})))]}),[])),[e,t])}(u,ye);!function(e){(0,o.useEffect)((()=>{if(!xl)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(u),Tl((()=>{z&&_===kc.Initializing&&E(kc.Initialized)}),[z,_]),(0,o.useEffect)((()=>{const{onDragMove:e}=L.current,{active:t,activatorEvent:r,collisions:n,over:i}=Z.current;if(!t||!r)return;const a={active:t,activatorEvent:r,collisions:n,delta:{x:ue.x,y:ue.y},over:i};(0,Cl.unstable_batchedUpdates)((()=>{null==e||e(a),y({type:"onDragMove",event:a})}))}),[ue.x,ue.y]),(0,o.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:i}=Z.current;if(!e||null==N.current||!t||!i)return;const{onDragOver:a}=L.current,o=n.get(he),l=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,s={active:e,activatorEvent:t,collisions:r,delta:{x:i.x,y:i.y},over:l};(0,Cl.unstable_batchedUpdates)((()=>{fe(l),null==a||a(s),y({type:"onDragOver",event:s})}))}),[he]),Tl((()=>{Z.current={activatorEvent:P,active:F,activeNode:G,collisionRect:pe,collisions:me,droppableRects:j,draggableNodes:S,draggingNode:X,draggingNodeRect:Q,droppableContainers:I,over:ge,scrollableAncestors:ie,scrollAdjustedTranslate:ue},A.current={initial:Q,translated:pe}}),[F,G,me,pe,S,X,Q,j,I,ge,ie,ue]),Qs({...U,delta:k,draggingRect:pe,pointerCoordinates:le,scrollableAncestors:ie,scrollableAncestorRects:ae});const _e=(0,o.useMemo)((()=>({active:F,activeNode:G,activeNodeRect:z,activatorEvent:P,collisions:me,containerNodeRect:K,dragOverlay:Y,draggableNodes:S,droppableContainers:I,droppableRects:j,over:ge,measureDroppableContainers:q,scrollableAncestors:ie,scrollableAncestorRects:ae,measuringConfiguration:B,measuringScheduled:W,windowRect:ne})),[F,G,z,P,me,K,Y,S,I,j,ge,q,ie,ae,B,W,ne]),Ee=(0,o.useMemo)((()=>({activatorEvent:P,activators:we,active:F,activeNodeRect:z,ariaDescribedById:{draggable:R},dispatch:v,draggableNodes:S,over:ge,measureDroppableContainers:q})),[P,we,F,z,v,R,S,ge,q]);return l().createElement(Yl.Provider,{value:w},l().createElement(yc.Provider,{value:Ee},l().createElement(wc.Provider,{value:_e},l().createElement(Sc.Provider,{value:be},d)),l().createElement(Cc,{disabled:!1===(null==s?void 0:s.restoreFocus)})),l().createElement(es,{...s,hiddenTextDescribedById:R}))})),Mc=(0,o.createContext)(null),Ac="button";function Fc(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const a=Bl("Droppable"),{activators:l,activatorEvent:s,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:p,over:m}=(0,o.useContext)(yc),{role:h=Ac,roleDescription:g="draggable",tabIndex:f=0}=null!=i?i:{},b=(null==c?void 0:c.id)===t,v=(0,o.useContext)(b?Sc:Mc),[y,w]=Ll(),[_,E]=Ll(),C=function(e,t){return(0,o.useMemo)((()=>e.reduce(((e,r)=>{let{eventName:n,handler:i}=r;return e[n]=e=>{i(e,t)},e}),{})),[e,t])}(l,t),x=Pl(r);Tl((()=>(p.set(t,{id:t,key:a,node:y,activatorNode:_,data:x}),()=>{const e=p.get(t);e&&e.key===a&&p.delete(t)})),[p,t]);return{active:c,activatorEvent:s,activeNodeRect:d,attributes:(0,o.useMemo)((()=>({role:h,tabIndex:f,"aria-disabled":n,"aria-pressed":!(!b||h!==Ac)||void 0,"aria-roledescription":g,"aria-describedby":u.draggable})),[n,h,f,b,g,u.draggable]),isDragging:b,listeners:n?void 0:C,node:y,over:m,setNodeRef:w,setActivatorNodeRef:E,transform:v}}function Nc(){return(0,o.useContext)(wc)}const Tc={timeout:25};function Oc(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function Pc(e,t){return e.reduce(((e,r,n)=>{const i=t.get(r);return i&&(e[n]=i),e}),Array(e.length))}function Dc(e){return null!==e&&e>=0}const Lc=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const a=Oc(t,n,r),o=t[i],l=a[i];return l&&o?{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}:null},Rc={scaleX:1,scaleY:1},Vc=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:a,overIndex:o}=e;const l=null!=(t=a[r])?t:n;if(!l)return null;if(i===r){const e=a[o];return e?{x:0,y:r<o?e.top+e.height-(l.top+l.height):e.top-l.top,...Rc}:null}const s=function(e,t,r){const n=e[t],i=e[t-1],a=e[t+1];if(!n)return 0;if(r<t)return i?n.top-(i.top+i.height):a?a.top-(n.top+n.height):0;return a?a.top-(n.top+n.height):i?n.top-(i.top+i.height):0}(a,i,r);return i>r&&i<=o?{x:0,y:-l.height-s,...Rc}:i<r&&i>=o?{x:0,y:l.height+s,...Rc}:{x:0,y:0,...Rc}};const Bc="Sortable",jc=l().createContext({activeIndex:-1,containerId:Bc,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Lc,disabled:{draggable:!1,droppable:!1}});function qc(e){let{children:t,id:r,items:n,strategy:i=Lc,disabled:a=!1}=e;const{active:s,dragOverlay:c,droppableRects:d,over:u,measureDroppableContainers:p}=Nc(),m=Bl(Bc,r),h=Boolean(null!==c.rect),g=(0,o.useMemo)((()=>n.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[n]),f=null!=s,b=s?g.indexOf(s.id):-1,v=u?g.indexOf(u.id):-1,y=(0,o.useRef)(g),w=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(g,y.current),_=-1!==v&&-1===b||w,E=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(a);Tl((()=>{w&&f&&p(g)}),[w,g,f,p]),(0,o.useEffect)((()=>{y.current=g}),[g]);const C=(0,o.useMemo)((()=>({activeIndex:b,containerId:m,disabled:E,disableTransforms:_,items:g,overIndex:v,useDragOverlay:h,sortedRects:Pc(g,d),strategy:i})),[b,m,E.draggable,E.droppable,_,g,v,d,h,i]);return l().createElement(jc.Provider,{value:C},t)}const Wc=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return Oc(r,n,i).indexOf(t)},Gc=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:a,newIndex:o,previousItems:l,previousContainerId:s,transition:c}=e;return!(!c||!n)&&((l===a||i!==o)&&(!!r||o!==i&&t===s))},Hc={duration:200,easing:"ease"},Uc="transform",$c=Ul.Transition.toString({property:Uc,duration:0,easing:"linear"}),zc={roleDescription:"sortable"};function Kc(e){let{animateLayoutChanges:t=Gc,attributes:r,disabled:n,data:i,getNewIndex:a=Wc,id:l,strategy:s,resizeObserverConfig:c,transition:d=Hc}=e;const{items:u,containerId:p,activeIndex:m,disabled:h,disableTransforms:g,sortedRects:f,overIndex:b,useDragOverlay:v,strategy:y}=(0,o.useContext)(jc),w=function(e,t){var r,n;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(r=null==e?void 0:e.draggable)?r:t.draggable,droppable:null!=(n=null==e?void 0:e.droppable)?n:t.droppable}}(n,h),_=u.indexOf(l),E=(0,o.useMemo)((()=>({sortable:{containerId:p,index:_,items:u},...i})),[p,i,_,u]),C=(0,o.useMemo)((()=>u.slice(u.indexOf(l))),[u,l]),{rect:x,node:S,isOver:k,setNodeRef:I}=function(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const a=Bl("Droppable"),{active:l,dispatch:s,over:c,measureDroppableContainers:d}=(0,o.useContext)(yc),u=(0,o.useRef)({disabled:r}),p=(0,o.useRef)(!1),m=(0,o.useRef)(null),h=(0,o.useRef)(null),{disabled:g,updateMeasurementsFor:f,timeout:b}={...Tc,...i},v=Pl(null!=f?f:n),y=ac({callback:(0,o.useCallback)((()=>{p.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout((()=>{d(Array.isArray(v.current)?v.current:[v.current]),h.current=null}),b)):p.current=!0}),[b]),disabled:g||!l}),w=(0,o.useCallback)(((e,t)=>{y&&(t&&(y.unobserve(t),p.current=!1),e&&y.observe(e))}),[y]),[_,E]=Ll(w),C=Pl(t);return(0,o.useEffect)((()=>{y&&_.current&&(y.disconnect(),p.current=!1,y.observe(_.current))}),[_,y]),Tl((()=>(s({type:ts.RegisterDroppable,element:{id:n,key:a,disabled:r,node:_,rect:m,data:C}}),()=>s({type:ts.UnregisterDroppable,key:a,id:n}))),[n]),(0,o.useEffect)((()=>{r!==u.current.disabled&&(s({type:ts.SetDroppableDisabled,id:n,key:a,disabled:r}),u.current.disabled=r)}),[n,a,r,s]),{active:l,rect:m,isOver:(null==c?void 0:c.id)===n,node:_,over:c,setNodeRef:E}}({id:l,data:E,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:M,activatorEvent:A,activeNodeRect:F,attributes:N,setNodeRef:T,listeners:O,isDragging:P,over:D,setActivatorNodeRef:L,transform:R}=Fc({id:l,data:E,attributes:{...zc,...r},disabled:w.draggable}),V=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.useMemo)((()=>e=>{t.forEach((t=>t(e)))}),t)}(I,T),B=Boolean(M),j=B&&!g&&Dc(m)&&Dc(b),q=!v&&P,W=q&&j?R:null,G=j?null!=W?W:(null!=s?s:y)({rects:f,activeNodeRect:F,activeIndex:m,overIndex:b,index:_}):null,H=Dc(m)&&Dc(b)?a({id:l,items:u,activeIndex:m,overIndex:b}):_,U=null==M?void 0:M.id,$=(0,o.useRef)({activeId:U,items:u,newIndex:H,containerId:p}),z=u!==$.current.items,K=t({active:M,containerId:p,isDragging:P,isSorting:B,id:l,index:_,items:u,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:d,wasDragging:null!=$.current.activeId}),Z=function(e){let{disabled:t,index:r,node:n,rect:i}=e;const[a,l]=(0,o.useState)(null),s=(0,o.useRef)(r);return Tl((()=>{if(!t&&r!==s.current&&n.current){const e=i.current;if(e){const t=fs(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&l(r)}}r!==s.current&&(s.current=r)}),[t,r,n,i]),(0,o.useEffect)((()=>{a&&l(null)}),[a]),a}({disabled:!K,index:_,node:S,rect:x});return(0,o.useEffect)((()=>{B&&$.current.newIndex!==H&&($.current.newIndex=H),p!==$.current.containerId&&($.current.containerId=p),u!==$.current.items&&($.current.items=u)}),[B,H,p,u]),(0,o.useEffect)((()=>{if(U===$.current.activeId)return;if(U&&!$.current.activeId)return void($.current.activeId=U);const e=setTimeout((()=>{$.current.activeId=U}),50);return()=>clearTimeout(e)}),[U]),{active:M,activeIndex:m,attributes:N,data:E,rect:x,index:_,newIndex:H,items:u,isOver:k,isSorting:B,isDragging:P,listeners:O,node:S,overIndex:b,over:D,setNodeRef:V,setActivatorNodeRef:L,setDroppableNodeRef:I,setDraggableNodeRef:T,transform:null!=Z?Z:G,transition:function(){if(Z||z&&$.current.newIndex===_)return $c;if(q&&!Gl(A)||!d)return;if(B||K)return Ul.Transition.toString({...d,property:Uc});return}()}}Rs.Down,Rs.Right,Rs.Up,Rs.Left;const Zc=({value:e,handleValueChange:t})=>{const[r,n]=(0,o.useState)(""),i=Boolean(e),a=(0,o.useMemo)((()=>e?.split("/").pop()),[e]);return l().createElement("section",{className:"et-vb-gv-image-wrapper "+(i?"has-value":"")},i?l().createElement("div",{className:"et-vb-gv-image-preview-container"},l().createElement("div",{className:"et-vb-gv-image-preview-wrapper"},l().createElement("img",{className:"et-vb-gv-image-preview",src:e,alt:r||"Image preview"})),l().createElement("span",{className:"et-vb-gv-image-name"},a)):l().createElement("div",{className:"et-vb-gv-image-preview-placeholder-icon"},l().createElement(ie.IconSvg,{name:"divi/image-placeholder",viewBox:"0 0 16 16",size:8})),l().createElement(m.Button,{onClick:e=>{e.preventDefault(),e.stopPropagation();const r=(0,h.topWindow.wp.media)({title:"Choose an image",button:{text:"Select Image"},multiple:!1,library:{type:"image"}});r.on("select",(()=>{const e=r.state().get("selection").first().toJSON();t(e.url),n(e.alt)})),r.open()},className:`et-vb-button--secondary et-vb-gv-image-${i?"replace":"upload"}-button`,type:"button","aria-label":i?"Replace":"Upload",title:i?"Replace":"Upload"},i?"Replace":"Upload"))};function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jc.apply(this,arguments)}const Yc=e=>{const{index:t,variable:r,groupValueLabel:n,groupKey:i,isDragging:c,invalidFields:d,onFieldChange:u,handleFieldValidation:p,onChangeColor:h,removeVariable:g,disableGlobalColorIds:f=[]}=e,[b,v]=(0,o.useState)(null),[y,w]=(0,o.useState)(!1),{id:_}=r,E=(0,o.useRef)(r.label);(0,o.useEffect)((()=>{E.current=r.label}),[r.label]);const{attributes:C,listeners:x,setNodeRef:S,transform:k,transition:I}=Kc({id:_}),A=(0,o.useRef)(null),F=(0,o.useRef)(null),N="color",{dynamicContent:T,dynamicContentButtonProps:O,dynamicContentSettingsModalProps:P,detachDynamicVariableValue:D,dynamicContentOnDelete:L,dynamicContentOnEdit:R}=(0,ae.useDynamicContent)({initialValue:r.value,onChange:({inputValue:e})=>{h(_,e);const t=E.current;u(_,t,e,i)},dynamicContentType:N}),V=b===t,B=d.filter((({id:e,messageType:t})=>{const n="empty"===t&&r.label;return e===`${_}-label`&&!n})),j=me()({"et-vb-modal-group-content__children-input":!0,"et-vb-modal-group-content__children__empty_field":B.length}),q=d.filter((({id:e,messageType:t})=>{const n="empty"===t&&r.value;return e===`${_}-value`&&!n})),W=me()({"et-vb-modal-group-content__children-input":!0,"et-vb-modal-group-content__children__empty_field":q.length}),G={transform:k?`translate3d(${k.x}px, ${k.y}px, 0)`:void 0,transition:I},H=(0,o.useCallback)((()=>{w(!y)}),[y]),U=(0,o.useCallback)((({inputValue:e})=>{h(_,e);const t=E.current;u(_,t,e,i)}),[]),$=M.ColorPickerContainer,z=(e,t)=>{if(e&&!t.startsWith("valid"))return null;const r=i.slice(0,-1),n={image:(0,a.sprintf)((0,a.__)("upload an %s","et_builder"),r),string:"fonts"===i?(0,a.sprintf)((0,a.__)("select a %s","et_builder"),r):(0,a.sprintf)((0,a.__)("enter a %s","et_builder"),r)}[t];let o=n?(0,a.sprintf)((0,a.__)("Please %s","et_builder"),n):(0,a.sprintf)((0,a.__)("Please enter a %s","et_builder"),t);return"valid url"===t&&(o=`${(0,a.__)("A valid URL should start with a #","et_builder")} ${(0,a.__)("or","et_builder")} 'www.' ${(0,a.__)("or","et_builder")} 'http:'. Example: 'www.elegantthemes.com'`),l().createElement("div",{className:"et-vb-modal-group-content__empty_field"},o)};return l().createElement("div",{className:"et-vb-modal-group-content__children",onMouseEnter:()=>v(t),onMouseLeave:()=>v(null),ref:S,style:G},l().createElement("div",{className:`et-vb-modal-group-content__children-label et-vb-modal-group-content__children-label__${i}`},(c&&V||V)&&r.allowedActions.reorder?l().createElement("span",Jc({},C,x),l().createElement(m.Button,null,l().createElement(ie.IconSvg,{name:"divi/drag",viewBox:"0 0 14 14"}))):null,l().createElement(M.Text,{key:_,className:j,value:r.label,name:(0,s.kebabCase)(r.label),onChange:({inputValue:e})=>u(_,e,r.value,i),onFocus:()=>v(null),autofocus:!1,renderAfter:()=>B.length?z(r.label,"name"):null,readonly:!r.allowedActions.editLabel})),l().createElement("div",{className:"et-vb-modal-group-content__children-value"},l().createElement("div",{className:"et-vb-modal-group-content__children-value__input"},((e,t,r)=>{const n=e=>u(_,t,e,i);switch(i){case"numbers":return l().createElement(M.CSSNumeric,{key:_,name:`${i}-${_}`,value:r,cssProperty:"all",defaultValue:"none",defaultUnit:"",onChange:e=>n(e)});case"strings":return l().createElement("textarea",{key:_,className:e,onChange:({target:e})=>n(e.value),onBlur:()=>p(i,_,"value"),value:(0,Y.stripHTML)(r,{preserveWhitespace:!0})});case"colors":return l().createElement("div",{className:"et-vb-gv-color-input-container",ref:A},l().createElement($,{name:`${i}-${_}`,defaultValue:"#ffffff",value:r,fieldRef:A,disableGlobalColorIds:f,isFilterToggleable:!0,showGlobalColors:!0,onChange:U,onChipClick:(0,fn.isGlobalVariableValue)(r,"color")?H:s.noop}),y&&(0,o.createElement)(ae.DynamicContentOptions,{buttonRef:F,setOptions:H,dynamicContentType:N,activeDynamicContent:T,detachDynamicVariableValue:D,dynamicContentOnDelete:L,dynamicContentOnEdit:R,supportedStyleUnits:[],fieldRef:A,onChange:U,disableGlobalColorIds:f,showCustomFields:!1,showManageVariableButton:!1,...O}));case"fonts":return l().createElement(M.SelectFontContainer,{name:"gv_fonts_family",className:e,value:r,renderGlobalFonts:!1,onChange:e=>n(e.inputValue)});case"images":return l().createElement(Zc,{key:_,value:r,handleValueChange:n});default:return l().createElement(M.Text,{key:_,className:e,value:r,name:(0,s.kebabCase)(r),onChange:({inputValue:e})=>n(e),onFocus:()=>v(null),onBlur:()=>p(i,_,"value")})}})(W,r.label,r.value),q.length?z(r.value,"empty"===q[0].messageType?n:`valid ${n}`):null),!c&&V&&r.allowedActions.remove?l().createElement(m.Button,{onClick:()=>g(_,i),className:"et-vb-global-variable-item-remove-button"},l().createElement(ie.IconSvg,{name:"divi/delete"})):null),(0,o.createElement)(ae.DynamicContentSettingsModal,P))},Xc="divi/manage-global-variable",Qc=(0,a.__)("Global Variables","et_builder"),ed={numbers:(0,a.__)("value","et_builder"),strings:(0,a.__)("string","et_builder"),images:(0,a.__)("image","et_builder"),links:(0,a.__)("url","et_builder"),colors:(0,a.__)("color","et_builder"),fonts:(0,a.__)("string","et_builder")},td={numbers:(0,a.__)("numbers","et_builder"),strings:(0,a.__)("text","et_builder"),images:(0,a.__)("images","et_builder"),links:(0,a.__)("links","et_builder"),colors:(0,a.__)("colors","et_builder"),fonts:(0,a.__)("fonts","et_builder")},rd={numbers:/^[0-9]+(%|ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmax|vmin|vw|ms)$/,images:/^(https?:\/\/[^\s]+|ftps?:\/\/[^\s]+|www\.[^\s]+|#[a-zA-Z0-9\s]+|\/[^\s]*|data:[a-zA-Z0-9/+]+;base64,[a-zA-Z0-9+/=]+)$/,links:/^(https?:\/\/[^\s]+|ftps?:\/\/[^\s]+|www\.[^\s]+|#[a-zA-Z0-9\s\-_]+|\/[^\s]*|mailto:[^\s@]+@[^\s@]+\.[^\s@]+|tel:\+?[0-9\-()\s]+|sms:\+?[0-9\-()?&=a-zA-Z0-9\s]*|file:\/\/[^\s]*|data:[^\s]*|skype:[^\s]*|whatsapp:[^\s]*|geo:[^\s]*|maps:[^\s]*|intent:[^\s]*|market:[^\s]*|slack:[^\s]*|zoommtg:[^\s]*|spotify:[^\s]*)$/,strings:/^[\s\S]*$/,colors:/^#[0-9a-fA-F]{3,8}$/,fonts:/^[\s\S]*$/},nd=(e,t)=>{const r=new Map(e.map((e=>[e.id,e])));return r.set(t.id,t),Array.from(r.values())},id=({onClose:e,onApplyChanges:t,initialOpenGroupId:r=null,globalVariables:n})=>{const i=(0,o.useRef)(null),[c,h]=(0,o.useState)([]),[g,f]=(0,o.useState)(r),[b,v]=(0,o.useState)(!1),[y,w]=(0,o.useState)(null),[_,E]=(0,o.useState)(!1),{globalColors:C}=(0,d.useSelect)((e=>({globalColors:e("divi/global-data").getGlobalColorsByStatus("active")}))),x=(0,o.useMemo)((()=>Object.keys(n.colors).reduce(((e,t)=>(e[t]=(0,fn.findDependentGlobalColors)(t,C),e)),{})),[n.colors,C]);(0,o.useEffect)((()=>{r&&g!==r&&f(r)}),[r]);const S=(e,t,r)=>((e,t,r,n,i,a)=>{const o=a[r][e];let l=[];if(!o||!o[t])return l=nd(n,{id:`${e}-${t}`,messageType:"empty"}),i(l),{isValid:!1,invalidFields:l,messageType:"empty"};let s=!0;s="colors"===r&&"value"===t?(0,M.isValidColor)(o[t])||(0,fn.isGlobalVariableValue)(o[t],"color"):(rd[r]||rd.strings).test(o[t]);if("value"===t&&"numbers"!==r&&!s)return l=nd(n,{id:`${e}-${t}`,messageType:"invalid"}),i(l),{isValid:!1,invalidFields:l,messageType:"invalid"};return l=n.filter((r=>r.id!==`${e}-${t}`)),i(l),{isValid:!0,invalidFields:l}})(t,r,e,c,h,n),k=e=>{if(!e)return!1;const t=[];let r=[...c];return Object.entries(n[e]).forEach((([i])=>{if("archived"===n[e][i].status)return;const a=S(e,i,"label"),o=S(e,i,"value");if(t.push(a,o),!a.isValid){const e={id:`${i}-label`,messageType:a.messageType};r=nd(r,e)}if(!o.isValid){const e={id:`${i}-value`,messageType:o.messageType};r=nd(r,e)}})),h(r),t.some((({isValid:e})=>!e))},I=(e,t)=>{(0,d.dispatch)("divi/global-data").deleteGlobalVariable({id:e,groupKey:t})},A=(e,t,r,n)=>{(0,d.dispatch)("divi/global-data").updateGlobalVariable({id:e,label:t,value:r,groupKey:n})},F=(0,o.useCallback)(((e,t)=>{(e=>{const t=c.filter((t=>t.id!==e));h(t)})(`${e}-value`),(0,d.dispatch)("divi/global-data").setGlobalColorPreviewValue(e,t)}),[]),N=e=>{const t=(0,s.isEmpty)(n[e]),r=me()({"et-vb-button et-vb-component-preview__add-button":!0,"et-vb-component-preview__add-button--empty":t});return l().createElement(m.AddButton,{onClick:()=>{k(e)||(e=>{(0,d.dispatch)("divi/global-data").addGlobalVariable({label:"",value:"",groupKey:e})})(e)},className:r,title:`Add Global ${e.slice(0,-1)}`})},T=e=>{const t=Object.values(n[e]).filter((({status:e})=>"archived"!==e)).sort(((e,t)=>e.order-t.order));if(!t.length)return N(e);const r=ed[e];return l().createElement(l().Fragment,null,l().createElement("div",{className:"et-vb-modal-group-content-wrapper"},l().createElement("div",{className:"et-vb-modal-group-content__children"},l().createElement(p.FieldWrapper,{label:"name"}),l().createElement(p.FieldWrapper,{label:r})),l().createElement("div",{className:`et-vb-modal-group-content__fields et-vb-modal-group-content__fields_${e}`},l().createElement(Ic,{collisionDetection:ss,onDragEnd:t=>((e,t)=>{if(!y)return;const{id:r}=t.over,{order:i}=n[e][r];if("colors"===e&&i<5||"fonts"===e&&i<3)return;const a={id:y.id,order:i,groupKey:e};(0,d.dispatch)("divi/global-data").updateGlobalVariableOrder(a),w(null),E(!1)})(e,t),onDragStart:t=>((e,t)=>{const{active:r}=t,{id:i}=r;w({id:n[e][i].id,order:n[e][i].order}),E(!0)})(e,t)},l().createElement(qc,{items:t,strategy:Vc},t.map(((t,n)=>l().createElement(Yc,{key:t.id,index:n,groupKey:e,variable:t,groupValueLabel:r,invalidFields:c,onFieldChange:A,handleFieldValidation:S,isDragging:_,onChangeColor:F,removeVariable:I,disableGlobalColorIds:"colors"===e&&x[t.id]||[]}))))))),N(e))},O=me()({"et-vb-modal-global-variable-group__overlay":!0,"et-vb-modal-global-variable-group__overlay--active":b});return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--alert",componentName:"et-vb-divi-modals--alert"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:Xc,draggable:!0,resizable:!0,expandable:!0,snappable:!0},l().createElement(p.Header,{name:Qc}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"global-variable",opened:!0},l().createElement("div",{className:"et-vb-modal-global-variable-group",ref:i},l().createElement("div",{className:O}),Object.keys(n).map((e=>l().createElement(p.Group,{key:e,id:e,title:td[e],opened:g===e,onTitleClick:()=>{return t=e,void(k(g)||f(g!==t?t:null));var t},onMouseEnter:null,onMouseLeave:null},T(e))))),b?l().createElement("div",{className:"global-variable-save-alert"},l().createElement("span",{className:"global-variable-save-alert__header"},(0,a.__)("Are you sure?","et_builder")),l().createElement("p",{className:"global-variable-save-alert__description"},(0,a.__)("Changes made to variables will affect all instances across your entire site. Do you wish to proceed?","et_builder")),l().createElement("div",{className:"global-variable-save-alert--action"},l().createElement(m.Button,{className:"global-variable-save-alert--action__cancel",onClick:()=>{v(!1)},isSecondary:!0},(0,a.__)("Continue Editing","et_builder")),l().createElement(m.Button,{className:"global-variable-save-alert--action__apply",onClick:()=>{t(),v(!1)},isPrimary:!0},(0,a.__)("Apply Changes","et_builder")))):null)),b?null:l().createElement(p.Footer,{buttons:[{label:(0,a.__)("Cancel Changes","et_builder"),name:"cancel-changes",onClick:e},{label:(0,a.__)("Save Variables","et_builder"),name:"save-variables",buttonColor:"primary",onClick:()=>{const e=[];Object.keys(n).flatMap((t=>{Object.values(n[t]).filter((({id:e,label:r,value:n,status:i})=>r||n?"archived"!==i:((0,d.dispatch)("divi/global-data").deleteGlobalVariable({id:e,groupKey:t}),!1))).forEach((({id:r,label:n,value:i,status:a})=>{"archived"!==a&&(n||e.push({id:`${r}-label`,messageType:"empty"}),i||e.push({id:`${r}-value`,messageType:"empty"}),!["colors","numbers"].includes(t)&&i&&rd[t]&&!rd[t].test(i)&&e.push({id:`${r}-value`,messageType:"invalid"}),"colors"!==t||(0,M.isValidColor)(i)||(0,fn.isGlobalVariableValue)(i,"color")||e.push({id:`${r}-value`,messageType:"invalid"}))}))})),h(e),e.length||v(!0)}}]}))))},ad={name:Xc,label:Qc,type:"multiInstanceModal",component:()=>{const{modalState:e,globalColors:t,globalVariables:r,customizerFonts:n,hasPermission:i}=(0,d.useSelect)((e=>({modalState:e("divi/modal-library").getModal("divi/manage-global-variable"),globalColors:e("divi/global-data").getGlobalColors(),globalVariables:e("divi/global-data").getGlobalVariables(),customizerFonts:e("divi/fonts").getCustomizerFonts(),hasPermission:e("divi/settings").checkRolePermission("variables_manager","edit_theme_options")}))),[a,l]=(0,o.useState)(!1);if(!i)return null;(0,o.useEffect)((()=>((0,s.size)(r.colors)&&(0,s.size)(r.fonts)&&!(0,s.isUndefined)(r.colors["gcid-primary-color"])&&!(0,s.isUndefined)(r.fonts["--et_global_heading_font"])||(0,fn.bootstrapGlobalVariables)(["colors","fonts"]),()=>{if(!a){(0,d.dispatch)("divi/global-data").resetGlobalVariables();const e=(0,d.select)("divi/global-data").getGlobalPreviewColors();Object.keys(e).forEach((e=>{(0,d.dispatch)("divi/global-data").removeGlobalColorPreviewValue(e)}))}})),[]),(0,o.useEffect)((()=>{(0,fn.bootstrapGlobalVariables)(["fonts"])}),[n]),(0,o.useEffect)((()=>{!(0,fn.maybeUpdateVariableColors)()&&Object.keys(r.colors).length&&Object.entries(t).forEach((([e,{color:t,label:n,status:i}])=>{r.colors[e].value!==t&&(0,d.dispatch)("divi/global-data").updateGlobalVariable({id:e,label:n||t,value:t,groupKey:"colors",status:"active"===i?i:"archived"})}))}),[t]);const c={onClose:()=>{(0,d.dispatch)("divi/global-data").resetGlobalVariables();const e=(0,d.select)("divi/global-data").getGlobalPreviewColors();Object.keys(e).forEach((e=>{(0,d.dispatch)("divi/global-data").removeGlobalColorPreviewValue(e)})),l(!0)},onApplyChanges:()=>{(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/global-data/global-fonts",data:{heading_font:r.fonts["--et_global_heading_font"].value,body_font:r.fonts["--et_global_body_font"].value}},!0).then((e=>{(0,d.dispatch)("divi/fonts").setCustomizerFonts(e)})).catch((e=>{console.log(e)}));const e=((e,t)=>Object.entries(e.colors).reduce(((e,[r,{id:n,label:i,value:a,status:o,order:l,lastUpdated:s}])=>(e[r]={id:n,lastUpdated:s,label:i||a,color:a,order:l,status:"active"===o?"active":"inactive",folder:t[r]?.folder||"",usedInPosts:t[r]?.usedInPosts||[]},e)),{}))(r,t);(0,d.dispatch)("divi/global-data").updateGlobalColors(e),(0,d.dispatch)("divi/global-data").saveGlobalVariables(),(0,d.dispatch)("divi/global-data").updateGlobalVariablesBackup(),l(!0)},initialOpenGroupId:(0,s.get)(e,["attributes","initialOpenGroupId"],null),globalVariables:r};return(0,o.createElement)(id,c)}},od=xi()({}),ld=({modulePanel:e,id:t,owner:r,isMultiPanels:n,label:i,onHelpClick:a,moduleCredit:c,official:u,moduleLabel:m})=>{const h=(0,o.useCallback)(a,[]),g=(0,d.select)("divi/edit-post").getGlobalLayoutId(r),f=(0,d.select)("divi/edit-post").getModuleName(r),{attrs:b,parentAttrs:v,isConfirmationPopupOpen:y,isPresetModal:w}=(0,d.useSelect)((e=>{const t=e("divi/edit-post").getParentModuleId(r);return{attrs:u?od:e("divi/edit-post").getModuleAttrs(r),parentAttrs:e("divi/edit-post").getModuleAttrs(t),isConfirmationPopupOpen:e("divi/global-layouts").isConfirmationPopupOpen(g),isPresetModal:e("divi/global-data").isActivePreset()}})),_=!!g;return(0,s.isFunction)(e)?l().createElement(p.PanelContainer,{id:t,label:i,isMultiPanels:n,heightReduction:g?60:0},"content"===t&&l().createElement(ae.PresetSettingsContainer,{owner:r,presetType:"module"}),(0,o.createElement)(e,{attrs:b,parentAttrs:v,owner:r}),"divi/heading"!==f&&l().createElement(p.HelpButton,{onHelpClick:h}),l().createElement(p.ModuleCredit,{author:c?.author,authorURI:c?.authorURI,moduleURI:c?.moduleURI,official:u,moduleLabel:m}),_&&!w?l().createElement(p.GlobalModuleFooter,{owner:r}):null,_&&y?l().createElement(p.ConfirmationPopup,{onConfirmClick:()=>{(0,d.dispatch)("divi/global-layouts").saveLayout({id:g,owner:r}),(0,d.dispatch)("divi/global-layouts").closeConfirmationPopup({id:g})},onCancelClick:()=>{(0,d.dispatch)("divi/edit-post").revertGlobalModuleEditState({id:g,owner:r}),(0,d.dispatch)("divi/global-layouts").closeConfirmationPopup({id:g})}}):null):null},sd="divi/hover-enhancement",cd="divi/sticky-enhancement",dd=[{name:"desktop-hover",label:(0,a.__)("Hover","et_builder"),icon:{name:sd,styles:{},viewBox:"0 0 28 28",color:"#ffffff",size:14}},{name:"desktop-sticky",label:(0,a.__)("Sticky","et_builder"),icon:{name:cd,styles:{},viewBox:"0 0 28 28",color:"#ffffff"}}],ud=[{name:"settings",label:(0,a.__)("Settings","et_builder"),icon:{name:"divi/settings-enhancement",styles:{},color:"#ffffff"}}],pd=({expand:e,value:t,onToggleExpandClick:r,onOverlayClick:n,onChange:i,onSettingsClick:c,style:d,options:u=dd})=>{const p=(0,s.findIndex)(u,(e=>e.name===t)),m=u?.[p];if(void 0===m){i(u?.[0]?.name??"desktop")}const g=Math.max(0-29*p,-60),f=e?l().createElement(l().Fragment,null,l().createElement("div",{className:"et-vb-modal-responsive-state-picker-options",style:{top:g}},u.map(((e,t)=>l().createElement(o.Fragment,{key:`et-vb-modal-responsive-state-picker-option--${e.name}`},"settings"===e.name&&l().createElement("span",{className:"et-vb-modal-responsive-state-picker-option-divider"}),l().createElement("button",{type:"button",className:me()({"et-vb-modal-responsive-state-picker-option":!0,[`et-vb-modal-responsive-state-picker-option--${e.name}`]:!0,"et-vb-modal-responsive-state-picker-option--selected":t===p}),onClick:h.handleOnClickFallback,onMouseDown:t=>{t.preventDefault(),"settings"===e.name?c():e.onClick?e.onClick(e.name):i(e.name)}},t===p&&l().createElement("span",{className:"et-vb-modal-responsive-state-picker-option-check"},l().createElement(ie.IconSvg,{name:"divi/check",size:10,color:"#ffffff"})),l().createElement("span",{className:"et-vb-modal-responsive-state-picker-option-icon"},l().createElement(ie.IconSvg,{name:e?.icon?.name,styles:e?.icon?.styles,viewBox:e?.icon?.viewBox,color:e?.icon?.color,size:e?.icon?.size,iconComponentProps:{color:t===p?"#ffffff":"var(--medium-gray--inverse)"}})),l().createElement("span",{className:"et-vb-modal-responsive-state-picker-option-label"},e.label)))))),l().createElement("div",{className:"et-vb-modal-responsive-state-picker-options-overlay",tabIndex:0,role:"button",onClick:h.handleOnClickFallback,onKeyPress:n,onMouseDown:n},l().createElement("span",{className:"et-vb-modal-responsive-state-picker-options-overlay-hidden-label"},(0,a.__)("Overlay","et_builder")))):null,b=m?m.icon:u[0].icon;return l().createElement("div",{className:"et-vb-modal-responsive-state-picker",style:d},l().createElement("button",{type:"button",className:"et-vb-modal-responsive-state-picker-value",onClick:h.handleOnClickFallback,onMouseDown:r},l().createElement("span",{className:"et-vb-modal-responsive-state-picker-value-icon"},l().createElement(ie.IconSvg,{name:b?.name,styles:b?.styles,viewBox:b?.viewBox,color:b?.color,size:b?.size})),l().createElement("span",{className:"et-vb-modal-responsive-state-picker-value-label"},m?m.label:u[0].label)),f)},md=(e,t=!0)=>{const r=(0,d.select)("divi/settings").getEnabledBreakpoints().map((e=>e.name)).filter((e=>"desktop"!==e));(0,s.includes)(r,e)?((0,d.dispatch)("divi/app-ui").setView(e),(0,d.dispatch)("divi/app-ui").setAttributeState("value")):((0,d.dispatch)("divi/app-ui").setView("desktop"),(0,s.includes)(["desktop-hover","desktop-sticky"],e)?(0,d.dispatch)("divi/app-ui").setAttributeState(e.split("-")[1]):(0,d.dispatch)("divi/app-ui").setAttributeState("value")),t&&(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/module",attributes:{responsiveStatePickerStatus:!1},merge:!0})},hd=({enabledBreakpoints:e,hasStickyState:t})=>{const r=e.map((e=>({name:e.name,label:e.label,icon:e?.icon}))),n=(0,s.filter)(Y.states,(e=>"sticky"!==e||t));return(0,s.filter)([].concat(r,dd,ud),(e=>{const{name:t}=e,[r,i]=t.split("-");return!(!r||i)||(0,s.includes)(n,i)}))},gd=({view:e,attributeState:t,enabledBreakpointNames:r})=>{const n=(0,s.filter)(Y.states,(e=>"value"!==e));return(0,s.includes)(n,t)?`desktop-${t}`:(0,s.includes)(r,e)?e:"desktop"},fd=()=>{const e=(0,d.select)("divi/modal-library").getModalProperty({modalName:"divi/module",property:"owner"});if(!e)return!1;const t=(0,d.select)("divi/settings").getEnabledBreakpoints(),r=(0,d.select)("divi/settings").getEnabledBreakpointNames(),n=(()=>{const t=(0,d.select)("divi/edit-post").getContent(),r=(0,Y.getAncestorIds)(t,e).map((e=>({name:t?.[e]?.name,attrs:t?.[e]?.props?.attrs})));return(0,ae.isStickyModuleByAttrsWithPresetsBulk)([{name:t?.[e]?.name,attrs:t?.[e]?.props?.attrs},...r],d.select)})(),i=(0,d.select)("divi/app-ui").getView(),a=(0,d.select)("divi/app-ui").getAttributeState(),o=hd({enabledBreakpoints:t,hasStickyState:n}),l=gd({view:i,attributeState:a,enabledBreakpointNames:r}),s=o.findIndex((e=>e.name===l));return!(0>s&&s>=o.length-1)&&{baseBreakpointName:(0,d.select)("divi/settings").getBaseBreakpointName(),options:o,valueIndex:s}},bd=()=>{(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/module",attributes:{responsiveStatePickerStatus:!1},merge:!0})},vd=[{name:"responsiveStatePicker-close",label:(0,a.__)("Close Responsive & State Picker","et_builder"),keys:["Escape"],category:"modal",action:bd},{name:"responsiveStatePicker-prev",label:(0,a.__)("Select Prev Responsive State Picker Option","et_builder"),keys:["ArrowUp"],category:"modal",action:()=>{const e=fd();if(!1===e)return;const{baseBreakpointName:t,valueIndex:r,options:n}=e;let i=n?.[r-1]?.name??n?.[n.length-2]?.name??t;"settings"===i&&(i=n?.[n.length-2]?.name??t),md(i,!1)}},{name:"responsiveStatePicker-next",label:(0,a.__)("Select Next Responsive State Picker Option","et_builder"),keys:["ArrowDown"],category:"modal",action:()=>{const e=fd();if(!1===e)return;const{baseBreakpointName:t,valueIndex:r,options:n}=e;let i=n?.[r+1]?.name??n?.[0]?.name??t;"settings"===i&&(i=n?.[0]?.name??t),md(i,!1)}},{name:"responsiveStatePicker-enter",label:(0,a.__)("Close Responsive & State Picker","et_builder"),keys:["Enter"],category:"modal",action:bd}],yd=()=>{(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/module",attributes:{responsiveStatePickerStatus:!0},merge:!0})},wd=()=>{(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/module",attributes:{responsiveStatePickerStatus:!1},merge:!0})},_d=()=>{const{attributeState:e,enabledBreakpoints:t,hasStickyState:r,modalAttributes:n,view:i}=(0,d.useSelect)((e=>({attributeState:e("divi/app-ui").getAttributeState(),enabledBreakpoints:e("divi/settings").getEnabledBreakpoints(),hasStickyState:(()=>{const t=e("divi/modal-library").getModalOwner("divi/module"),r=e("divi/edit-post").getContent(),n=(0,Y.getAncestorIds)(r,t).map((e=>({name:r?.[e]?.name,attrs:r?.[e]?.props?.attrs})));return(0,ae.isStickyModuleByAttrsWithPresetsBulk)([{name:r?.[t]?.name,attrs:r?.[t]?.props?.attrs},...n],e)})(),modalAttributes:e("divi/modal-library").getModalProperty({modalName:"divi/module",property:"attributes"}),view:e("divi/app-ui").getView()}))),a=gd({view:i,attributeState:e,enabledBreakpointNames:t.map((e=>e.name))}),l=hd({enabledBreakpoints:t,hasStickyState:r}),c=(0,s.get)(n,["responsiveStatePickerStatus"],!1),[u,p]=(0,o.useState)(!1),m=vd.map((e=>e.name));(0,o.useEffect)((()=>{c?((0,Oe.registerShortcuts)(vd),p(!0)):u&&((0,Oe.unregisterShortcuts)(m),p(!1))}),[c]),(0,o.useEffect)((()=>()=>{const e=(0,d.select)("divi/keyboard-shortcuts").getShortcuts();(0,s.forEach)(m,(t=>{(0,s.has)(e,[t])&&(0,Oe.unregisterShortcut)(t)}))}),[]);const g={expand:c,value:a,onChange:md,onToggleExpandClick:yd,onOverlayClick:wd,onSettingsClick:()=>{const e=h.topWindow.jQuery(".et-vb-page-bar-responsive-button--more").offset();(0,d.dispatch)("divi/modal-library").open({name:"divi/breakpoints-settings",offset:{top:(e?.top??0)+28+15,left:e?.left??0}}),(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/module",attributes:{responsiveStatePickerStatus:!1},merge:!0})},style:{},options:l};return(0,o.createElement)(pd,g)},Ed=(e,t)=>{const r=t.replace(/\//g,".");let n=(0,i.applyFilters)("divi.modalLibrary.module.components.bodyPanelNames",{content:(0,a.__)("Content","et_builder"),design:(0,a.__)("Design","et_builder"),advanced:(0,a.__)("Advanced","et_builder")});return n=(0,i.applyFilters)(`divi.modalLibrary.module.components.bodyPanelNames.${r}`,n),n[e]??e},Cd=(0,o.memo)((({moduleSettings:e,owner:t,onHelpClick:r,moduleLabel:n})=>l().createElement(p.BodyPanelWrapperContainer,{beforeTabItems:null,afterTabItems:l().createElement(_d,null),showSearchBar:!0},Object.keys(e?.settings??{}).map((i=>e?.settings?.[i]?l().createElement(ld,{key:`module-setting-panel-${i}`,id:i,owner:t,label:Ed(i,e.name),modulePanel:e?.settings?.[i],onHelpClick:r,official:e?.official,moduleCredit:e?.credit,moduleLabel:n}):null))))),xd=({moduleId:e})=>{const t=(0,d.useSelect)((t=>t("divi/edit-post").getModuleCssVariables(e))),{baseBreakpoint:r,breakpointNames:n,breakpoint:i,state:a}=(0,ae.useAppState)();if(!t)return null;const o=(0,Y.getAttrValue)({attr:t,mode:"getAndInheritAll",breakpoint:i,baseBreakpoint:r,breakpointNames:n,state:a});if(!o)return null;const s=Object.entries(o).map((([e,t])=>`${e}: ${t};`));if(!s.length)return null;const c=s.join(" ");return l().createElement("style",{className:"et-vb-modal-css-variables"},`:root{${c}}`)},Sd=(0,o.memo)((({backButton:e,isActivePreset:t,moduleId:r,name:n,onClickBackButton:i,onContextMenu:o,setIsModalOpen:s,isGlobalColorEditing:c})=>{const u=()=>{s((e=>!e))};return l().createElement(p.Header,{name:n,onContextMenu:o,primary:!0,backButton:e,closeButton:!0,onClickBackButton:i,renderBefore:()=>t?l().createElement("div",{className:"et-vb-modal-header-breadcrumb"},l().createElement("div",{className:"et-vb-modal-header-breadcrumb-item"},(0,a.__)("Preset","et_builder"))):l().createElement(p.Breadcrumb,{moduleId:r}),onClickCloseButton:()=>{if(c)(0,d.dispatch)("divi/modal-library").setIsModalClosing({isClosing:!0});else if(t)(0,d.dispatch)("divi/global-data").closePresetModal();else{(0,d.dispatch)("divi/modal-library").close({name:"divi/module"});const e=(0,d.select)("divi/modal-library").getActiveModalNames({excludeModalNames:[]}).map((e=>(0,d.select)("divi/modal-library").getModal(e)));e.length>0&&e.forEach((e=>{e?.autoCloseOnClickOutside&&(0,d.dispatch)("divi/modal-library").close({name:e.name})}))}},renderCustomPresets:()=>l().createElement(M.PresetStack,{moduleId:r,isActivePreset:t,onTogglePresetSelectCallback:u,type:"module"})})})),kd=(0,o.forwardRef)((({onPresetCancel:e,onSavePreset:t,presetName:r=""},n)=>(0,o.createElement)(p.Footer,{ref:n,buttons:[{label:(0,a.__)("Cancel","et_builder"),name:"cancel-changes",onClick:e},{label:(0,a.__)("Save Preset","et_builder"),name:"save-preset",onClick:t,buttonColor:"primary",disabled:""===r?.trim()}]}))),Id=(0,o.forwardRef)((({onPresetCancel:e,onSavePreset:t,isActivePreset:r,owner:n},i)=>{const a=(0,d.useSelect)((e=>{if(!r)return"";const t=e("divi/edit-post").getModule(n),i=(0,Y.maybeConvertPresetModuleName)(t?.name,t?.props?.attrs),a=e("divi/global-data").getEditingPresetId();return e("divi/global-data").getModulePreset({moduleName:i,id:a,useDefaultFallback:!0})?.name||""}),[r,n]);return(0,o.createElement)(kd,{ref:i,onPresetCancel:e,onSavePreset:t,presetName:a})})),Md=({colorMode:e,owner:t,tab:r,group:n,moduleName:i,moduleLabel:c,moduleInfo:m,isGlobalColorEditing:h,isActivePreset:g,isActiveConfirmationModal:f,onContextMenu:b,onClickBackButton:v,onHelpClick:y,bodySiblingHeight:w,onPresetCancel:_=s.noop,onSavePreset:E=s.noop,isPresetSyncing:C=!1,isGlobalSaving:x=!1})=>{const S=!("divi/section"===i),k=!!(0,d.select)("divi/edit-post").getGlobalLayoutId(t),[I,M]=(0,o.useState)(!1),A=()=>M(!1),F=g?(0,a.__)("%s Presets","et_builder").replace("%s",c):c,[N,T]=(0,o.useState)(w),O=(0,o.useRef)();(0,o.useEffect)((()=>{if(g&&!f){const e=O?.current?.getBoundingClientRect()?.height??0;T(e+w)}else T(w)}),[g,f]);const P=(0,o.useMemo)((()=>({moduleId:t,moduleName:i})),[t,i]);let D="divi-module";return i&&(D+=`--${i.replace("/","-")}`),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--module",componentName:"et-vb-divi-modals--module"},l().createElement(ne.moduleContext.Provider,{value:P},l().createElement(p.WrapperContainer,{colorMode:e,modalName:"divi/module",modalClass:D,modalActiveTab:r||"content",modalGroup:n,draggable:!0,expandable:!0,isGlobal:k,isGlobalSaving:x,owner:t,snappable:!0,resizable:!0,multiPanels:!0,bodySiblingHeight:N},l().createElement(Sd,{isGlobalColorEditing:h,isActivePreset:g,backButton:S,name:F,moduleId:t,onClickBackButton:v,onContextMenu:b,setIsModalOpen:M}),l().createElement(xd,{moduleId:t}),l().createElement(Cd,{moduleSettings:m,owner:t,onHelpClick:y,moduleLabel:c}),l().createElement(ae.PresetSelectionContainer,{open:I,onAddNewPreset:()=>{A()},onAddNewPresetFromCurrentStyles:()=>{A()},onClosePresetSelectionModal:()=>{A()},owner:t}),l().createElement(ae.PresetConfirmationContainer,{open:f}),!g||f?null:C?l().createElement(p.Footer,{ref:O,buttons:[{label:"",icon:"divi/loading",iconAnimation:"rotate-center",showIcon:!0,name:"saving",onClick:null,backgroundColor:"var(--app-color)",textColor:"#fff"}]}):l().createElement(Id,{ref:O,onPresetCancel:_,onSavePreset:E,isActivePreset:g,owner:t}))))},Ad="divi/module",Fd=(0,a.__)("Module","et_builder"),Nd=e=>{if(!e)return;const t=(0,d.select)("divi/edit-post").getModule(e);if(!t)return;const r="divi/shortcode-module"===t.name?"divi/module-shortcode":"divi/module";(0,d.select)("divi/edit-post").getAncestorModules(e).forEach((e=>{(0,d.dispatch)("divi/modal-library").setLayersViewModule({moduleId:e?.id,data:{expand:!0,active:!1}})})),(0,d.dispatch)("divi/modal-library").setLayersViewActiveModuleId(e),(0,d.dispatch)("divi/modal-library").close({name:"divi/module"}),(0,d.dispatch)("divi/modal-library").close({name:"divi/module-shortcode"}),(0,d.dispatch)("divi/modal-library").open({owner:e,name:r})},Td=()=>{const e=(0,d.select)("divi/modal-library").getModalOwner("divi/module"),t=(0,d.select)("divi/modal-library").getModalOwner("divi/module-shortcode"),r=Boolean(e||t),n=(0,d.select)("divi/right-click-options").isActive();return r&&!n},Od={closeModuleModal:{name:"closeModuleModal",label:(0,a.__)("Close Modal","et_builder"),keys:["Escape"],category:"modal",action:()=>{(0,d.dispatch)("divi/modal-library").close({name:"divi/module"})}},editElementAbove:{name:"editElementAbove",label:(0,a.__)("Edit Element Above","et_builder"),keys:["ArrowUp"],category:"modal",isEnabled:Td,action:()=>{const e=(0,d.select)("divi/modal-library").getModalOwner("divi/module")||(0,d.select)("divi/modal-library").getModalOwner("divi/module-shortcode");if(!e)return;const t=(0,d.select)("divi/edit-post").getSiblingModuleIds(e),r=t.indexOf(e);if(r>0){const e=t[r-1];Nd(e)}}},editElementBelow:{name:"editElementBelow",label:(0,a.__)("Edit Element Below","et_builder"),keys:["ArrowDown"],category:"modal",isEnabled:Td,action:()=>{const e=(0,d.select)("divi/modal-library").getModalOwner("divi/module")||(0,d.select)("divi/modal-library").getModalOwner("divi/module-shortcode");if(!e)return;const t=(0,d.select)("divi/edit-post").getSiblingModuleIds(e),r=t.indexOf(e);if(r>=0&&r<t.length-1){const e=t[r+1];Nd(e)}}},editParentElement:{name:"editParentElement",label:(0,a.__)("Edit Parent Element","et_builder"),keys:["ArrowLeft"],category:"modal",isEnabled:Td,action:()=>{const e=(0,d.select)("divi/modal-library").getModalOwner("divi/module")||(0,d.select)("divi/modal-library").getModalOwner("divi/module-shortcode");if(!e)return;const t=(0,d.select)("divi/edit-post").getParentModuleId(e);t&&"root"!==t&&Nd(t)}},editFirstChildElement:{name:"editFirstChildElement",label:(0,a.__)("Edit First Child Element","et_builder"),keys:["ArrowRight"],category:"modal",isEnabled:Td,action:()=>{const e=(0,d.select)("divi/modal-library").getModalOwner("divi/module")||(0,d.select)("divi/modal-library").getModalOwner("divi/module-shortcode");if(!e)return;const t=(0,d.select)("divi/edit-post").getModule(e)?.getIn(["children"]),r=t?.asMutable?t.asMutable():[];if(r.length>0){const e=r[0];Nd(e)}}}},Pd=e=>{const{owner:t,group:r,tab:n}=e,i=(0,o.useRef)(t),{appColorMode:l,moduleName:c,moduleLabel:u,moduleInfo:p,isChildModule:m,parentModuleId:h,isGlobalColorEditing:g,isActivePreset:f,isActiveConfirmationModal:b,bodySiblingHeight:v,isPresetSyncing:y,presetSaveConfirmationDialogFlag:w,isGlobalSaving:_}=(0,d.useSelect)((e=>{const r=e("divi/edit-post").getModuleName(t),n=e("divi/module-library").isChildModule(r),i=e("divi/module-library").getModule(r),a=i?.title,o=e("divi/edit-post").getParentModuleId(t),l=e("divi/global-data").isGlobalColorEditing(),s=e("divi/global-data").isActivePreset(),c=e("divi/global-data").isActiveConfirmationModal(),d=e("divi/edit-post").getGlobalLayoutId(t),u=e("divi/global-layouts").isLayoutSaving(d)||e("divi/global-layouts").isConfirmationPopupOpen(d),p=e("divi/modal-library").getModalProperty({modalName:"divi/module",property:"bodySiblingHeight"}),m=e("divi/global-data").isPresetSyncing(),h=e("divi/global-data").getSyncingPresetType(),g=e("divi/global-data").getOptionGroupPresetEditMode()?.isPresetActive??!1,f=e("divi/global-data").getPresetSaveConfirmationDialogFlag();return{appColorMode:e("divi/app-preferences").get(["app","colorMode"]),moduleName:r,isChildModule:n,moduleLabel:a,moduleInfo:i,parentModuleId:o,isGlobalColorEditing:l,isActivePreset:s,isActiveConfirmationModal:c,bodySiblingHeight:p,isPresetSyncing:m&&!(s&&g&&"group"===h),presetSaveConfirmationDialogFlag:f,isGlobalSaving:u}})),E=f?"light"===l?"dark":"light":null;(0,o.useEffect)((()=>((0,Oe.registerShortcut)(Od.closeModuleModal),(0,Oe.registerShortcut)(Od.editElementAbove),(0,Oe.registerShortcut)(Od.editElementBelow),(0,Oe.registerShortcut)(Od.editParentElement),(0,Oe.registerShortcut)(Od.editFirstChildElement),()=>{(0,Oe.unregisterShortcut)("closeModuleModal"),(0,Oe.unregisterShortcut)("editElementAbove"),(0,Oe.unregisterShortcut)("editElementBelow"),(0,Oe.unregisterShortcut)("editParentElement"),(0,Oe.unregisterShortcut)("editFirstChildElement")})),[]),(0,o.useEffect)((()=>{f&&i.current!==t&&(0,d.dispatch)("divi/global-data").closePresetModal(),i.current=t}),[t]);(0,o.useEffect)((()=>{(0,d.dispatch)("divi/help").setCurrentListName(c)}),[c]);return(0,o.createElement)(Md,{...e,colorMode:E,moduleName:c,moduleLabel:u,moduleInfo:p,isChildModule:m,onContextMenu:e=>{e.preventDefault(),e.stopPropagation();const r={x:e.clientX,y:e.clientY},n=(0,Y.getSettingsComponent)(c),i=["moduleFieldAttribute","moduleGroupAttributes","moduleAttributes"];(0,Te.waitUntilAttrsMapsReady)({id:(0,Te.getComponentAttrsMapsId)({attrsMapsType:"module",moduleName:c}),attrsMapsType:"module",name:c,component:n,callback:e=>{(0,d.dispatch)("divi/right-click-options").set({cursorPosition:r,optionType:"module",owner:{optionType:"module",id:t,clipboardItem:(0,d.select)("divi/clipboard").getLastItem(["module","modules"]),clipboardItemStyle:(0,d.select)("divi/clipboard").getLastItem(i),selectedModuleIds:(0,d.select)("divi/events").getSelectedModules().asMutable({deep:!0}).map((e=>e.id)),attrsMaps:e},windowLocation:"app"})}}).catch((()=>{}))},onClickBackButton:e=>{(0,s.isUndefined)(e)||e.preventDefault(),f&&h&&(0,d.dispatch)("divi/global-data").closePresetModal(),(0,d.dispatch)("divi/modal-library").open({owner:h,name:Ad})},onHelpClick:()=>{(0,d.dispatch)("divi/help").setCurrentVideo(0),(0,d.dispatch)("divi/modal-library").open({name:"divi/help"})},group:r,tab:n,owner:t,isGlobalColorEditing:g,isActivePreset:f,isActiveConfirmationModal:b,bodySiblingHeight:v,onPresetCancel:()=>{(0,d.dispatch)("divi/global-data").closePresetModal()},onSavePreset:()=>{if(w){const e="SAVE_PRESET",t=(0,a.sprintf)((0,a.__)("You've made changes to the <strong>%1$s</strong> Module preset settings. This will affect all <strong>%1$s</strong> Modules across your entire site. Do you wish to proceed?","et_builder"),u),r={},n={confirm:(0,a.__)("Yes","et_builder"),cancel:(0,a.__)("Cancel","et_builder")};(0,d.dispatch)("divi/global-data").openConfirmationModal({confirmationAction:e,confirmationText:t,actionPayload:r,actionLabels:n})}else(0,d.dispatch)("divi/global-data").savePreset({level:"module"}),(0,d.dispatch)("divi/global-data").togglePresetSaveConfirmationDialog({flag:!0})},isPresetSyncing:y,isGlobalSaving:_})},Dd={name:Ad,label:Fd,snappable:!0,type:"singleInstanceModal",component:Pd,dimensionMinimum:{width:280},canBeSavedOnWorkspace:"divi/page-settings"},Ld=(0,a.__)("Create Your Page","et_builder"),Rd=({id:e,title:t,description:r,classNames:n,bannerText:i,onClickPageCreationCard:a,image:o})=>l().createElement("div",{className:me()({...n}),onClick:h.handleOnClickFallback,role:"button",tabIndex:0,onMouseDown:()=>a(e)},l().createElement("img",{src:o,alt:t}),l().createElement("div",{className:"et-vb-page-creation-card--content"},l().createElement("h3",{className:"et-vb-page-creation-card--title"},t),l().createElement("p",{className:"et-vb-page-creation-card--description"},r)),i&&l().createElement("div",{className:"et-vb-page-creation-card--banner"},i)),Vd=({dimension:e,offset:t,onClickPageCreationCard:r,isDiviAIEnabled:n,options:i})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--page-creation",componentName:"et-vb-divi-modals--page-creation"},l().createElement(p.WrapperContainer,{modalName:"divi/page-creation",dimension:e,offset:t},l().createElement(p.Header,{name:Ld,closeButton:!0}),l().createElement(p.BodyContainer,null,l().createElement(u.ErrorBoundary,{componentName:"PageCreationModal"},l().createElement("div",{className:"et-vb-page-creation-cards"},i.map((e=>"build_with_ai"!==e.id||n?l().createElement(Rd,{key:e.id,id:e.id,title:e.title,description:e.description,classNames:e.classNames,bannerText:e.bannerText,image:e.image,onClickPageCreationCard:r}):null))))))),Bd={name:"divi/page-creation",label:Ld,component:()=>{const{adminBarHeight:e,builderBarWidth:t,pageBarHeight:r,sidebarLeftWidth:n,isDiviAIEnabled:i,imagesUrl:l}=(0,d.useSelect)((e=>({builderBarWidth:e("divi/app-ui").getElementProperty({elementName:"builderBar",propertyGroup:"dimension",propertyName:"width"}),sidebarLeftWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarLeft",propertyGroup:"dimension",propertyName:"width"}),adminBarHeight:e("divi/app-ui").getElementProperty({elementName:"adminBar",propertyGroup:"dimension",propertyName:"height"}),pageBarHeight:e("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"}),isDiviAIEnabled:e("divi/settings").checkRolePermission("divi_ai"),imagesUrl:e("divi/settings").getSetting(["urls","builder5Images"])}))),s=[{id:"build_from_scratch",title:(0,a.__)("Build From Scratch","et_builder"),description:(0,a.__)("Build your page from the ground up. Don't worry, you can access our premade layouts at any time.","et_builder"),image:`${l}/layout-insert-saved-layout.svg`,classNames:{"et-vb-page-creation-card":!0,"et-vb-page-creation-card--accent-blue":!0},bannerText:null},{id:"choose_premade_layout",title:(0,a.__)("Choose a Premade Layout","et_builder"),description:(0,a.__)("Choose from hundreds of premade layouts, start from any of your saved layouts, or clone an existing page.","et_builder"),image:`${l}/layout-insert-premade-layout.svg`,classNames:{"et-vb-page-creation-card":!0,"et-vb-page-creation-card--accent-purple":!0},bannerText:null},{id:"build_with_ai",title:(0,a.__)("Build With AI","et_builder"),description:(0,a.__)("Simply describe your page content, sit back, relax, and let Divi AI build your page with the click of a button.","et_builder"),image:`${l}/layout-insert-build-with-ai.svg`,classNames:{"et-vb-page-creation-card":!0,"et-vb-page-creation-card--accent-dark-blue":!0},bannerText:(0,a.__)("Brand New","et_builder")}],c=(0,o.useCallback)((e=>{switch((0,d.dispatch)("divi/modal-library").close({name:"divi/page-creation"}),e){case"choose_premade_layout":(0,d.dispatch)("divi/modal-library").open({name:"divi/load-layout",tab:"premade-layouts",attributes:{skipInsertLayoutTab:!0}});break;case"build_with_ai":{const e={aiMode:"layout",type:"layout_with_ai",contextData:{module:""},additionalInfo:{field_name:"",fields:[]}};jQuery(window).trigger("et_ai_container_ready",[e,"et-ai-app"]);break}}}),[]);return(0,o.createElement)(Vd,{dimension:{width:i?606:410,height:325},offset:{top:e+r+32,left:t+n+32},onClickPageCreationCard:c,isDiviAIEnabled:i,options:s})},type:"multiInstanceModal",autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal"},jd="divi/portability",qd=(0,a.__)("Import & Export","et_builder"),Wd={width:400,height:312},Gd={invalidFile:(0,a.__)("Invalid File format. You should be uploading a JSON file.","et_builder")},Hd=({pageTitle:e,onImportClick:t,onExportClick:r,onHelpClick:n,tab:i,attributes:c})=>{const[d,h]=(0,o.useState)(null),[g,f]=(0,o.useState)(!1),[b,v]=(0,o.useState)(null),[y,w]=(0,o.useState)(e),[_,E]=(0,o.useState)(!1),[C,x]=(0,o.useState)(!1),[S,k]=(0,o.useState)(0),[I,A]=(0,o.useState)(1),[F,N]=(0,o.useState)(!0),[T,O]=(0,o.useState)(!1),[P,D]=(0,o.useState)(!1),[L,R]=(0,o.useState)(!1),[V,B]=(0,o.useState)(!1),[j,q]=(0,o.useState)({replaceLayout:"on",importBackUp:"off",importToCloud:"off",includeGlobalPresets:"off"}),{itemName:W,showTabs:G,isCloudAppAction:H,isCloudEnabled:U,sharedCloudName:$,afterPortabilityClose:z}=c;(0,o.useEffect)((()=>{H&&B(!0)}),[]),(0,o.useEffect)((()=>{W&&w(W)}),[W]),(0,o.useEffect)((()=>{q({replaceLayout:F?"on":"off",importBackUp:T?"on":"off",importToCloud:L?"on":"off",includeGlobalPresets:P?"on":"off"})}),[F,T,L,P]);const K="import"===i,Z=d?(0,s.get)(d,"name",""):"",J=""!==Z?Z:(0,a.__)("No File Selected.","et_builder"),Y=me()({"et-vb-modal-import-placeholder":!0,"et-vb-modal-import-placeholder--active":""!==Z});return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modal--portability",componentName:"et-vb-divi-modal--portability"},l().createElement(p.WrapperContainer,{dimension:null,snappable:!0,expandable:!0,draggable:!0,caret:!1,resizable:!0,modalName:jd,modalActiveTab:i||"export"},(()=>{if(H){const e=K?(0,a.__)("Import","et_builder"):(0,a.__)("Export","et_builder");return l().createElement(p.Header,{name:e,onClickCloseButton:z})}return l().createElement(p.Header,{name:(0,a.__)("Import & Export","et_builder")})})(),l().createElement(p.BodyPanelWrapperContainer,{showTabs:G},l().createElement(p.PanelContainer,{id:"export",label:(0,a.__)("Export","et_builder")},l().createElement("div",{className:"et-vb-modal-settings-options-tab"},_&&(100>S?l().createElement(m.ProgressBar,{progress:S,estimation:I,actionLabel:(0,a.__)("Export","et_builder")}):l().createElement(p.LocalOverlay,{className:"et-vb-modal-local-overlay-centered"},l().createElement("span",{className:"et-vb-modal-loader et-vb-modal-loader-success"}))),!_&&l().createElement(l().Fragment,null,l().createElement("div",{className:"et-vb-modal-export-file-name-field"},l().createElement("h3",null,(0,a.__)("Export File Name","et_builder")),l().createElement(M.Text,{value:y,onChange:e=>w(e.inputValue),name:"filename"})),l().createElement("div",{className:"et-vb-modal-export-error-container"}),l().createElement("div",null,l().createElement(p.HelpButton,{onHelpClick:n}))))),l().createElement(p.PanelContainer,{id:"import",label:(0,a.__)("Import","et_builder")},l().createElement("div",{className:"et-vb-modal-settings-options-tab"},C&&(100>S?l().createElement(m.ProgressBar,{progress:S,estimation:I,actionLabel:(0,a.__)("Import","et_builder")}):l().createElement(p.LocalOverlay,{className:"et-vb-modal-local-overlay-centered"},l().createElement("span",{className:"et-vb-modal-loader et-vb-modal-loader-success"}))),!C&&l().createElement(l().Fragment,null,l().createElement("div",{className:"et-vb-modal-upload-file-container"},l().createElement("h3",null,H?(0,a.__)("Choose Files","et_builder"):(0,a.__)("Choose File","et_builder")),l().createElement("div",{className:Y},J,l().createElement("input",{type:"file",className:"et-vb-modal-import-file",onChange:e=>(e=>{if(V){const{files:t}=e.target,r=Array.from(t).concat(Array.from(d??[]));h(r)}else{const t=(0,s.get)(e,"target.files[0]","");h(t)}})(e),multiple:V})),V&&(()=>{if(!d?.length)return null;const e=(0,s.map)(d,((e,t)=>l().createElement("div",{className:"et-vb-divi-modal--portability-import-files-list-item",key:e.name},l().createElement("span",{role:"button",onKeyDown:s.noop,className:"et-vb-divi-modal--portability-import-files-list-item-remove",onClick:()=>(e=>{const t=d.filter(((t,r)=>r!==e));h(t)})(t),tabIndex:0,"aria-label":"Remove file"},l().createElement(ie.IconSvg,{name:"divi/delete",color:"transparent",iconComponentProps:{color:"#ef5555"}})),e.name)));return l().createElement("div",{className:"et-vb-divi-modal--portability-import-files-list"},l().createElement("label",{className:"et-vb-field-input__label"},l().createElement("span",{className:"et-vb-field-input__label-text"},(0,a.__)("Selected Files:","et_builder"))),e)})()),g&&l().createElement("div",{className:"et-vb-modal-import-error-container"},l().createElement("div",{dangerouslySetInnerHTML:{__html:b||Gd.invalidFile}})),l().createElement("div",{className:"et-vb-modal-portability-options-field"},l().createElement("h3",null,(0,a.__)("Options","et_builder")),!H&&l().createElement(o.Fragment,null,l().createElement(M.Checkboxes,{name:"import-options-replace-layout",options:[{label:(0,a.__)("Replace existing content.","et_builder"),value:"replaceLayout"}],value:F?["replaceLayout"]:[],onChange:({inputValue:e})=>{const t=e.length>0;N(t)}}),l().createElement(M.Checkboxes,{name:"import-options-import-backup",options:[{label:(0,a.__)("Download backup before importing","et_builder"),value:"importBackUp"}],value:T?["importBackUp"]:[],onChange:({inputValue:e})=>{const t=e.length>0;O(t)}})),!L&&l().createElement(M.Checkboxes,{name:"import-options",options:[{label:(0,a.__)("Import Presets","et_builder"),value:"includeGlobalPresets"}],value:P?["includeGlobalPresets"]:[],onChange:({inputValue:e})=>{const t=e.length>0;D(t)}}),H&&!P&&U&&l().createElement(M.Checkboxes,{name:"import-options-import-cloud",options:[{label:(0,a.__)(`Import To ${$} Cloud`,"et_builder"),value:"importToCloud"}],value:L?["importToCloud"]:[],onChange:({inputValue:e})=>{const t=e.length>0;R(t)}})),l().createElement(p.HelpButton,{onHelpClick:n}))))),l().createElement(p.Footer,{buttons:[{name:"portability",label:K?(0,a.__)("Import Divi Builder Layout","et_builder"):(0,a.__)("Export Divi Builder Layout","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:K?()=>t(d,j,f,x,k,A,v):()=>r(E,k,A,""!==y?y:e)}]})))},Ud=(e,t,r,n,i)=>{t+=Date.now()-e,r++;const a=Math.round(r/n*100);return i(a>0?a:1),{totalTime:t,processedItems:r}},$d=({data:e,presets:t,images:r,tags:n,categories:i,totalItems:a,processedItems:o,setError:l,setProgress:c,setEstimation:u})=>{const p=(0,d.select)("divi/cloud-app").getCloudToken(),m=window.ETCloudApp.getActiveFolderEndpoint();let h=0;return Promise.all(e.map(((e,d)=>{const u={},g=[],f=[];Object.values(e.terms).forEach((({taxonomy:e,name:t})=>{u[e]=t;let r=null,a=null;switch(e){case"layout_category":r=(0,s.find)(i,["name",t]),(0,s.isUndefined)(r)||f.push(r.id);break;case"layout_tag":a=(0,s.find)(n,["name",t]),(0,s.isUndefined)(a)||g.push(a.id)}}));const b={context:"et_builder",data:{1:e.post_content},global_colors:e.global_colors,presets:t[d],images:r[d]},v={content:JSON.stringify(b),title:e.post_title,status:"publish",width:u.module_width,tags:g,cats:f,meta:{_et_pb_module_type:"",_et_pb_row_layout:""}};(0,s.has)(e,"post_meta._et_pb_module_type")&&(v.meta._et_pb_module_type=(0,s.first)(e.post_meta._et_pb_module_type)),(0,s.has)(e,"post_meta._et_pb_row_layout")&&(v.meta._et_pb_row_layout=(0,s.first)(e.post_meta._et_pb_row_layout));const y=Date.now();return Vr(p,u.layout_type,v,{},(e=>((e,t)=>{if(e.error&&"max_free_items"===e.error)l(!0),window.ETCloudApp.emitSignal({signal:"showLimitExceededError",data:{}});else{const{totalTime:e,processedItems:r}=Ud(t,h,o,a,c);h=e,o=r}})(e,y)),0,m)}))).then((()=>{const e=h/o,t=a-o,r=Math.round(t*e/100);u(r>0?r:1)})).catch((e=>{console.log(e)}))},zd=async e=>{const t={tags:[],categories:[]},r=[];if((0,s.forEach)(e,(e=>((0,s.isEmpty)(e.terms)||(0,s.forEach)(e.terms,(e=>{let t;switch(e.taxonomy){case"layout_tag":t={taxonomy:"tags",name:e.name};break;case"layout_category":t={taxonomy:"categories",name:e.name}}t&&!(0,s.find)(r,t)&&r.push(t)})),Promise.resolve(t)))),(0,s.isEmpty)(r))return Promise.resolve(t);return(0,s.chunk)(r,5).reduce(((e,r)=>e.then((async()=>{const e=[];return(0,s.forEach)(r,(({name:r,taxonomy:n})=>{e.push(jr(r,n,(0,d.select)("divi/cloud-app").getCloudToken()).then((e=>{(0,s.isEmpty)(e)||(({id:e,name:r,taxonomy:n})=>{"tags"!==n&&"categories"!==n||t[n].push({id:e,name:r})})({name:r,...e})})))})),await Promise.all(e),t}))),Promise.resolve()).catch((e=>{console.error(e)}))},Kd=async({data:e,importToCloud:t,includeGlobalPresets:r,setIsImporting:n,setProgress:i,setError:a,setEstimation:o,totalItems:l})=>{const c=[],u=[],p=[],m=[],h=[];e.forEach((e=>{const t=JSON.parse(e.postContent),n="object"==typeof t&&null!==t&&"context"in t?t.context:null,i=e?.fileName||"";if("et_builder"===n){const e=t,r=i?i.replace(/\.json$/i,"").trim():"";e.global_variables&&m.push(e.global_variables),e.global_colors&&h.push(e.global_colors);const n=e.data;Object.keys(n).forEach((t=>{const i=n[t],a={post_title:r||`Imported Layout ${t}`,post_content:i,post_type:"et_pb_layout",terms:[],module_width:"regular",global_colors:Array.isArray(e.global_colors)?e.global_colors:[],images:e.images?Object.keys(e.images):[],presets:[],post_meta:{_et_pb_module_type:[],_et_pb_row_layout:[]}};c.push(a),e.presets&&u.push(e.presets),e.images&&p.push(e.images)}))}else{const e=t;e.global_variables&&m.push(e.global_variables),e.global_colors&&h.push(e.global_colors),Object.values(e.data).forEach((e=>c.push(e))),"on"===r&&e.presets&&u.push(e.presets),p.push(e.images)}}));const g={tags:[],categories:[]},f=await zd(c);f&&f.tags&&(g.tags=f.tags),f&&f.categories&&(g.categories=f.categories);const b=Math.max(c.length,u.length,p.length),v=Math.ceil(b/5),y=(0,s.chunk)(c,Math.ceil(c.length/v)),w=(0,s.chunk)(u,Math.ceil(u.length/v)),_=(0,s.chunk)(p,Math.ceil(p.length/v));let E=0,C=0;await y.reduce(((e,r,n)=>e.then((async()=>{const e=Date.now(),c=0===n;"on"===t?await $d({data:r,presets:w[n]||[],images:_[n]||[],tags:g.tags,categories:g.categories,setError:a,setProgress:i,setEstimation:o,totalItems:l,processedItems:E}):await(({data:e,presets:t,images:r,globalVariables:n,globalColors:i,totalItems:a,processedItems:o,setError:l,setProgress:c,setEstimation:u})=>{let p=0;return Promise.all(e.map(((e,m)=>{const h={},g=[],f=[];"object"!=typeof e||null===e||(0,s.isEmpty)(e.terms)||Object.values(e.terms).forEach((({id:e,taxonomy:t,name:r})=>{switch(h[t]=r,t){case"layout_category":f.push({id:e,name:r});break;case"layout_tag":g.push({id:e,name:r})}})),(0,d.dispatch)("divi/cloud-app").setLibraryTerms("layout_tag",g),(0,d.dispatch)("divi/cloud-app").setLibraryTerms("layout_category",f);const b=Array.isArray(t)&&t.length,v=Array.isArray(r)&&r.length,y=new FormData;y.append("layout_name",e.post_title),y.append("post_type",e.post_type),y.append("layout_content",e.post_content),y.append("presets",b&&t[m]?JSON.stringify(t[m]):null),y.append("images",v&&r[m]?JSON.stringify(r[m]):null),0===m&&(n&&n.length>0&&y.append("global_variables",JSON.stringify(n)),i&&i.length>0&&y.append("global_colors",JSON.stringify(i))),y.append("layout_type",h.layout_type||"layout"),y.append("module_width",h.module_width||"regular"),y.append("layout_scope",h.layout_scope||"not_global"),y.append("module_type",h.module_type||"");const w=Date.now(),_=e=>(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/create-item",data:e},!0).then((t=>{const r=t;if(void 0!==r.page&&void 0!==r.totalPages){const t=parseInt(r.page),n=parseInt(r.totalPages),i=new FormData;e.forEach(((e,t)=>{"page"!==t&&"timestamp"!==t&&i.append(t,e)})),i.append("page",String(t+1)),i.append("timestamp",r.timestamp);const a=Math.ceil(100*t/n),o=Math.ceil(6*(n-t)/60);return c(a),u(o),_(i)}return t})).catch((e=>{throw l(!0),console.log(e),e}));return _(y).then((e=>{const{totalTime:t,processedItems:r}=Ud(w,p,o,a,c);return p=t,o=r,e}))}))).then((()=>{const e=p/o,t=a-o,r=Math.round(t*e/100);u(r>0?r:1)})).catch((e=>{console.log(e)}))})({data:r,presets:w[n]||[],images:_[n]||[],globalVariables:c?m:[],globalColors:c?h:[],setError:a,setProgress:i,setEstimation:o,totalItems:l,processedItems:E});const u=Date.now();C+=u-e,E+=r.length;const p=Math.round(E/l*100);i(p>0?p:1)}))),Promise.resolve());const x=C/E,S=l-E;if(o(Math.round(S*x/1e3)),i(100),setTimeout((()=>{n(!1),(0,d.dispatch)("divi/modal-library").close({name:"divi/portability"})}),1e3),"on"===t)Dr.clearData(),window.ETCloudApp.emitSignal({signal:"refreshCloudItems",data:{}});else{["layout","section","row","module"].forEach((e=>{Dr.addData([e,"modules_library","localItemsCached"],!1,!0),Dr.addData([e,"modules_library"],{},!0)})),(0,d.dispatch)("divi/cloud-app").purgeLibraryData()}},Zd=({files:e,importOptionsValues:t,setError:r,setProgress:n,setIsImporting:i,setEstimation:a})=>{const o=[],l=e.length,{importToCloud:c,includeGlobalPresets:u}=t;if(((e,t,r)=>{const n=Dr.getData(["totalCloudItems"],0),i=Tr((0,d.select)("divi/cloud-app").getCloudToken());if("free"===(0,s.get)(i,"dcst","")&&"on"===e&&r-n<t)return window.ETCloudApp.emitSignal({signal:"showLimitExceededError",data:{}}),!0;return!1})(c,l,50))return;r(!1),i(!0);(async()=>{try{const t=await Promise.all(e.map((e=>(e=>new Promise(((t,n)=>{const a=new FileReader;a.onload=a=>{const o={postContent:a.target?.result,fileName:e.name};return o.postContent?t(o):(r(!0),i(!1),n())},a.onerror=e=>{r(!0),i(!1),console.log(e),n()},a.readAsText(e)})))(e))));o.push(...t);const l=o.reduce(((e,t)=>{const r=JSON.parse(t.postContent);return e+Object.values(r.data).length}),0);await Kd({data:o,importToCloud:c,includeGlobalPresets:u,setIsImporting:i,setProgress:n,setError:r,setEstimation:a,totalItems:l})}catch(e){console.log(e)}})().catch((e=>{console.log(e)}))},Jd=(e,t)=>{const r={};return(0,s.isEmpty)(t)||(0,s.forEach)(e?.module??{},((e,n)=>{if((0,s.has)(t,n)){const i={};e.forEach((e=>{const r=(0,Y.getSelectedPresetOrDefault)([e],t[n].default),a=t[n].items[r];let o={...a},l=!0;["attrs","styleAttrs","renderAttrs"].forEach((e=>{switch(e){case"attrs":case"styleAttrs":case"renderAttrs":if((0,s.has)(a,e)){const t=(0,Y.removeEmptyObjectRecursive)(a[e]);(0,s.isEmpty)(t)?delete o[e]:(0,s.isEqual)(t,a[e])||(o={...o,[e]:t}),"attrs"!==e||(0,s.isEmpty)(t)||(l=!1)}}})),l&&(0,s.has)(a,"groupPresets")&&!(0,s.isEmpty)(a.groupPresets)&&(l=!1),l||(0,s.isEmpty)(o)||(i[r]=o)})),(0,s.isEmpty)(i)||(r[n]={default:t[n].default,items:i})}})),r},Yd=(e,t)=>{const r={};if((0,s.isEmpty)(t))return r;const n={};return(0,s.forEach)(e?.group??{},(e=>{(0,s.forEach)(e,(e=>{(0,s.forEach)(e,((e,i)=>{(0,s.has)(t,i)&&(n[i]||(n[i]={}),e.forEach((e=>{const r=(0,Y.isValidPresetId)(e)?e:t[i].default,a=t[i].items[r];let o={...a},l=!0;["attrs","styleAttrs","renderAttrs"].forEach((e=>{switch(e){case"attrs":case"styleAttrs":case"renderAttrs":if((0,s.has)(a,e)){const t=(0,Y.removeEmptyObjectRecursive)(a[e]);(0,s.isEmpty)(t)?delete o[e]:(0,s.isEqual)(t,a[e])||(o={...o,[e]:t}),"attrs"!==e||(0,s.isEmpty)(t)||(l=!1)}}})),l||(0,s.isEmpty)(o)||i!==o.groupName||(n[i][r]=o)})),(0,s.isEmpty)(n[i])||(r[i]={default:t[i].default,items:{...n[i]}}))}))}))})),r},Xd=(e,t)=>((0,s.isEmpty)(e)||(t.group||(t.group={}),(0,s.forEach)(e,((e,r)=>{e&&e.items&&(0,s.forEach)(e.items,(e=>{if(e.groupPresets&&"object"==typeof e.groupPresets){const n=(0,Y.isImmutable)(e.groupPresets)?e.groupPresets.asMutable({deep:!0}):e.groupPresets;(0,s.forEach)(n,((e,n)=>{if(e&&e.presetId&&e.groupName){const{presetId:i,groupName:a}=e,o=(0,Y.normalizePresetStack)(i);(0,s.has)(t.group,r)||(t.group[r]={}),(0,s.has)(t.group[r],n)||(t.group[r][n]={}),(0,s.has)(t.group[r][n],a)||(t.group[r][n][a]=[]),o.forEach((e=>{t.group[r][n][a].includes(e)||t.group[r][n][a].push(e)}))}}))}}))}))),t),Qd={component:e=>{const{attributes:t,pageTitle:r,pageID:n,pageContent:i,adminUrl:a,usedGlobalColors:l,usedGlobalVariables:c,isModuleModalActive:u,modulePresets:p,groupPresets:m}=(0,d.useSelect)((e=>{const t=e("divi/edit-post").getContent(),r=JSON.stringify(t);let n=(0,Gr.extractGlobalColorIds)(r),i=(0,Gr.extractGlobalVariablesIds)(r);const a=e("divi/edit-post").getUsedPresets(),o=e("divi/global-data").getAllPresetData({presetType:"module"}),l=e("divi/global-data").getAllPresetData({presetType:"group"}),c=o?.asMutable({deep:!0}),d=l?.asMutable({deep:!0}),u=Jd(a?.asMutable({deep:!0}),c);if(!(0,s.isEmpty)(u)){n=(0,s.uniq)(n.concat((0,Y.extractGlobalColorIdsUsedInPresets)(u))),i=(0,s.uniq)(i.concat((0,Y.extractGlobalVariablesIdsUsedInPresets)(u)));const e=a?.asMutable({deep:!0});e&&Xd(u,e)}const p=Yd(a?.asMutable({deep:!0}),d);(0,s.isEmpty)(p)||(n=(0,s.uniq)(n.concat((0,Y.extractGlobalColorIdsUsedInPresets)(p))),i=(0,s.uniq)(i.concat((0,Y.extractGlobalVariablesIdsUsedInPresets)(p))));const m=e("divi/global-data").getGlobalColors(),h=(0,fn.collectGlobalColorDependencies)(n,m);return{attributes:e("divi/modal-library").getModalProperty({modalName:"divi/portability",property:"attributes"}),pageTitle:e("divi/settings").getSetting(["post","title"]),pageID:e("divi/settings").getSetting(["post","id"]),pageContent:t,adminUrl:e("divi/settings").getSetting(["urls","admin"]),usedGlobalColors:e("divi/global-data").getGlobalColorsToExport(h),usedGlobalVariables:e("divi/global-data").getGlobalVariablesToExport(i),isModuleModalActive:e("divi/modal-library").isModalActive("divi/portability"),modulePresets:u,groupPresets:p}})),{afterPortabilityClose:h,isCloudAppAction:g,layoutContent:f,layoutId:b}=t,v=(e,t,r,n,i,o)=>{(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/portability/export",data:e},!0).then((l=>{const c=(0,s.get)(l,"timestamp","");if(void 0!==l.page&&void 0!==l.totalPages){const a=e;a.append("page",String(Number(l.page)+1)),a.append("timestamp",c),v(a,t,r,n,i,o);const s=Math.ceil(100*parseInt(l.page)/parseInt(l.totalPages)),d=Math.ceil(6*(parseInt(l.totalPages)-parseInt(l.page))/60);t&&(r(s),n(d))}else{const e=new URL(a),{searchParams:n}=e;n.set("et_core_portability","1"),n.set("name",o),n.set("timestamp",c);const l=e.toString();window.onbeforeunload=null,window.location.assign(l),t&&(r(100),setTimeout((()=>{i(!1),(0,d.dispatch)("divi/modal-library").close({name:"divi/portability"})}),1e3))}})).catch((e=>{console.log(e)})).finally((()=>{h&&h()}))};return(0,o.createElement)(Hd,{onExportClick:async(e,t,r,a)=>{t(0),e(!0);const o=new FormData;if(g){o.append("context","et_builder_layouts"),o.append("post",b),o.append("content",f),o.append("portability_type","post_type");try{const e=(0,bi.parseSerializedPostIntoFlatModuleObject)(f);let t=(0,Gr.extractGlobalColorIds)(f),r=(0,Gr.extractGlobalVariablesIds)(f);const n=(0,Y.populateUsedPresets)(e),i=(0,Y.populateUsedGroupPresets)(e),a=(0,d.select)("divi/global-data").getAllPresetData(),l=Jd({module:n},a?.asMutable({deep:!0}));(0,s.isEmpty)(l)||(t=(0,s.uniq)(t.concat((0,Y.extractGlobalColorIdsUsedInPresets)(l))),r=(0,s.uniq)(r.concat((0,Y.extractGlobalVariablesIdsUsedInPresets)(l))),Xd(l,{group:i}));const c=(0,d.select)("divi/global-data").getAllPresetData({presetType:"group"}),u=Yd({group:i},c?.asMutable({deep:!0}));(0,s.isEmpty)(u)||(t=(0,s.uniq)(t.concat((0,Y.extractGlobalColorIdsUsedInPresets)(u))),r=(0,s.uniq)(r.concat((0,Y.extractGlobalVariablesIdsUsedInPresets)(u))));const p=(0,d.select)("divi/global-data").getGlobalColors(),m=(0,fn.collectGlobalColorDependencies)(t,p),h=(0,d.select)("divi/global-data").getGlobalColorsToExport(m),g=(0,d.select)("divi/global-data").getGlobalVariablesToExport(r),b=await(0,Y.convertImagesInVariables)(g);o.append("global_colors",JSON.stringify(h)),o.append("global_variables",JSON.stringify(b));const v={};(0,s.isEmpty)(l)||(v.module=l),(0,s.isEmpty)(u)||(v.group=u),(0,s.isEmpty)(v)||o.append("global_presets",JSON.stringify(v))}catch(e){console.error("Failed to extract global colors/variables/presets from layoutContent:",e)}}else{o.append("context","et_builder"),o.append("post",n);const e=i.asMutable({deep:!0}),t=(0,Gr.serializeModuleFlatObjects)(e,"root","portability");o.append("content",t),o.append("global_colors",JSON.stringify(l&&l.length>0?l:[]));const r=await(0,Y.convertImagesInVariables)(c);o.append("global_variables",JSON.stringify(r));const a={};(0,s.isEmpty)(p)||(a.module=p),(0,s.isEmpty)(m)||(a.group=m),(0,s.isEmpty)(a)||o.append("global_presets",JSON.stringify(a))}v(o,!0,t,r,e,a)},onImportClick:(e,t,a,o,l,c,p)=>{if(g){const r=Array.isArray(e)?e:[e];Zd({files:r,importOptionsValues:t,setError:a,setProgress:l,setIsImporting:o,setEstimation:c})}if(g||Array.isArray(e))return;if(!e||""===e.name)return void a(!0);a(!1),p(null),l(0),o(!0);const{importBackUp:m,includeGlobalPresets:h}=t,f=new FormData;f.append("post",n),f.append("content",(0,Gr.serializeModuleFlatObjects)(i.asMutable({deep:!0}))),f.append("file",e),f.append("import_backup",m),f.append("include_global_presets",h),f.append("context","et_builder"),"on"===m&&v(f,!1,null,null,null,r);const b=e=>{(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/portability/import",data:e},!0).then((r=>{if(void 0!==r.page&&void 0!==r.totalPages){const t=e;t.append("page",String(Number(r.page)+1)),t.append("timestamp",r.timestamp),t.append("file",null);const n=Math.ceil(100*parseInt(r.page)/parseInt(r.totalPages)),i=Math.ceil(6*(parseInt(r.totalPages)-parseInt(r.page))/60);l(n),c(i),b(t)}else{const e=!!r.postContent,n=!!r.presets&&"object"==typeof r.presets&&Object.keys(r.presets).length>0;if(!(e||n)){a(!0);const e=r?.statusText;return(async()=>{try{const t=r?.clone();return(await(t?.json()))?.message||e}catch(t){return console.log(t),e}})().then((e=>{p(e)})).catch((t=>{console.log(t),p(e)})),void o(!1)}if(l(99),u&&"on"===t.replaceLayout&&(0,d.dispatch)("divi/modal-library").close({name:"divi/module"}),r.globalColors){const e=(0,Y.extractGlobalColorIdsUsedInPresets)(r.presets),t=(0,Gr.extractGlobalColorIds)(r.postContent).concat(e),n=(0,fn.collectGlobalColorDependencies)((0,s.uniq)(t),r.globalColors);(0,d.dispatch)("divi/global-data").importGlobalColors(n,r.globalColors)}r.globalVariables&&!(0,s.isEmpty)(r.globalVariables)&&((0,d.dispatch)("divi/global-data").addGlobalVariables(r.globalVariables),(0,d.dispatch)("divi/global-data").saveGlobalVariables(),(0,d.dispatch)("divi/global-data").updateGlobalVariablesBackup());let i={},c={},m={},h={};r.presets&&"on"===t.includeGlobalPresets&&(i=r.preset_id_mappings||{},(0,d.dispatch)("divi/global-data").importPresets((0,Y.removeEmptyObjectRecursive)(r.presets,!0)),m=r.defaultImportedModulePresetIds||{},h=r.defaultImportedGroupPresetIds||{}),r.presets&&"on"!==t.includeGlobalPresets&&(c=(0,Y.getDefaultPresetAttrs)(r.presets)),r.postContent&&(0,d.dispatch)("divi/edit-post").importContent({content:r.postContent,presetIdsToReplace:i,defaultPresetAttrs:c,importOptionsValues:t,defaultImportedModulePresetIds:m,defaultImportedGroupPresetIds:h}),l(100),setTimeout((()=>{o(!1),(0,d.dispatch)("divi/modal-library").close({name:"divi/portability"})}),1e3)}})).catch((e=>{console.log(e)}))};b(f)},onHelpClick:()=>{(0,d.dispatch)("divi/help").setCurrentListName("divi/portability"),(0,d.dispatch)("divi/help").setCurrentVideo(0),(0,d.dispatch)("divi/modal-library").open({name:"divi/help"})},attributes:t,pageTitle:r,...e})},name:jd,label:qd,videos:[{id:"PBmijAL4twA",name:"Importing and exporting layouts"}],dimension:Wd,snappable:!0,type:"multiInstanceModal",autoCloseOnClickOutside:!0,isSubmodal:!0},eu="divi/progress-bar",tu=(0,a.__)("Progress bar","et_builder"),ru=({attributes:{heading:e,progress:t}})=>l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--progressbar"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{centered:!0,dimension:{width:500,height:100},modalName:eu},l().createElement(p.Header,{name:e}),l().createElement(p.BodyContainer,null,l().createElement("div",{className:"et-vb-modal-progressbar"},l().createElement(m.ProgressBar,{progress:t})))))),nu={name:eu,label:tu,type:"multiInstanceModal",component:()=>{const{attributes:e}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/progress-bar",property:"attributes"})})),[]);return(0,o.createElement)(ru,{attributes:e})},canBeSavedOnWorkspace:!1},iu=({onCloseButton:e})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--quick-actions",componentName:"et-vb-divi-modals--quick-actions"},l().createElement(p.WrapperContainer,{modalName:"divi/quick-actions",centered:!0},l().createElement("div",{className:"et-vb-modal-quick-actions-search"},l().createElement("input",{type:"text",className:"et-vb-modal-quick-actions-search-input",placeholder:(0,a.__)("Search...","et_builder")}),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-button-settings"},l().createElement("span",{className:"et-vb-modal-quick-actions-button-label"},(0,a.__)("Settings","et_builder"))),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-button-close",onClick:h.handleOnClickFallback,onMouseDown:t=>{t.preventDefault(),e()}},l().createElement("span",{className:"et-vb-modal-quick-actions-button-label"},(0,a.__)("Close","et_builder")))),l().createElement("div",{className:"et-vb-modal-quick-actions-result"},l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Insert","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Layout","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("View","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Page","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Builder","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Go To","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Help","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Open","et_builder"))))),au=({dimension:e,offset:t})=>{const r=()=>{(0,d.dispatch)("divi/modal-library").close({name:"divi/quick-actions"})};return(0,o.useEffect)((()=>{const e="onCloseButton";return(0,Oe.registerShortcut)({name:e,label:(0,a.__)("Close Quick Action","et_builder"),keys:["Escape"],category:"modal",action:r}),()=>{(0,Oe.unregisterShortcut)(e)}}),[]),l().createElement(iu,{dimension:e,offset:t,onCloseButton:r})},ou={name:"divi/quick-actions",label:(0,a.__)("Quick Actions","et_builder"),type:"multiInstanceModal",component:au},lu="divi/responsive-editor",su=({fieldName:e,breakpoint:t,state:r,subName:n})=>{let i=`${e}.${t}.${r}`;return n&&(i+=`.${n}`),{attrPath:i}},cu=(e,t)=>{const{moduleId:r,fieldInfo:n,fieldProps:i,fieldName:a,lastClipboardItem:o,inheritedValue:l,onFieldReset:s,breakpoint:c,state:d,currentValue:u}=e;if(!n)throw new Error("fieldInfo is required for creating field owner");const p={optionType:"modalField",id:r,modalName:"divi/responsive-editor",modalTab:e.modalTab||"responsive",fieldName:n.fieldComponent.name,fieldOptions:n.fieldComponent.props.options,clipboardItem:o,fieldLabel:i.label||a,attrName:n.attrName,subName:n.subName,groupName:e.groupName||"",fieldComponent:{name:n.fieldComponent.name,props:n.fieldComponent.props||{}},features:n.features||{},fieldDefaultValue:n.defaultValue||"",fieldPlaceholder:"",fieldValue:u,onFieldReset:()=>{s(c,d)},breakpoint:c,state:d,currentValue:u,inheritedValue:l};return t?{...p,source:t}:p},du=({attrPath:e,value:t,presetContext:r,editPresetAttribute:n})=>{if(!r.isInPresetEditingMode||!r.presetType||!r.presetId)return;if(r.isModulePresetEditing&&r.isOptionGroupPresetEditing&&"group"===r.presetType&&r.groupId){if(!e.startsWith(r.groupId)){if(!r.modulePresetId)return;return void n({presetType:"module",presetSubType:r.presetModuleName,presetId:r.modulePresetId,attrName:e,attrValue:t,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})}}"module"===r.presetType?n({presetType:"module",presetSubType:r.presetModuleName,presetId:r.presetId,attrName:e,attrValue:t,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]}):"group"===r.presetType&&r.groupName&&n({presetType:"group",presetSubType:r.groupName,presetId:r.presetId,attrName:e,attrValue:t,updated:Date.now(),attrsGroup:["attrs","renderAttrs","styleAttrs"]})},uu=({fieldData:e,fieldInfo:t,fieldProps:r,fieldName:n,moduleId:i,attributesToUse:a,baseBreakpoint:o,enabledBreakpointNames:s,isDiviAIEnabled:c,activeDynamicContentField:u,setActiveDynamicContentField:m,lastClipboardItem:h,setRightClickOptions:g,modalTab:f,groupName:b,onFieldChange:v,onFieldReset:y,presetContext:w})=>{const{breakpoint:_,state:E,icon:C,currentValue:x,inheritedValue:S,inheritedValueExcludingCurrent:k}=e,I=e=>v(_,E,e),M={setRightClickOptions:g,fieldInfo:t,moduleId:i,fieldProps:r,fieldName:n,lastClipboardItem:h,inheritedValue:S,onFieldReset:y,breakpoint:_,state:E,currentValue:x,modalTab:f,groupName:b},A=(F=M,e=>{if(!F.setRightClickOptions||!F.fieldInfo)return;const t=cu(F);e.preventDefault(),e.stopPropagation(),F.setRightClickOptions({cursorPosition:{x:e.clientX,y:e.clientY},optionType:"modalField",owner:t,windowLocation:"top"})});var F;const N=(e=>t=>{if(!e.setRightClickOptions||!e.fieldInfo)return;const r=cu(e,"rightMenu");t.preventDefault(),t.stopPropagation();const n=t?.target?.getBoundingClientRect();e.setRightClickOptions({cursorPosition:{x:n.right,y:n.bottom},optionType:"modalField",owner:r,windowLocation:"top"})})(M),T=(()=>{if(!t)return null;const e=_===o&&"value"===E?t.defaultValue??"":k,r={...t,defaultValue:e};return null!=x&&""!==x&&null!==x?r:{...r}})(),O=null!=x&&""!==x&&null!==x,P=(()=>{const e=r.label||n;return(0,d.select)("divi/right-click-options").isRightClickMenuActiveForField(e)})(),D=(0,d.useSelect)((e=>{const t=e("divi/app-ui").getBreakpoint(),r=e("divi/app-ui").getAttributeState();return _===t&&E===r}),[_,E]);return l().createElement(p.FieldWrapper,{key:`${_}-${E}`,label:r.label||n,icon:C,description:r.description,id:`${n}-${_}-${E}`,enableReset:O,onReset:()=>{y(_,E)},onContextMenu:A,onRightMenu:N,isIconActive:D,isRightClickMenuEnableForField:P,additionalButtons:(()=>{if(!t)return()=>null;const e=t.features?.dynamicContent&&"object"==typeof t.features.dynamicContent?t.features.dynamicContent.type:null;return ce({sourceFieldInfo:{...t,moduleId:i,fieldLabel:r.label||n,fieldValue:x,defaultValue:S,fieldComponent:t.fieldComponent,dynamicContentType:e,features:t.features?.dynamicContent?{dynamicContent:{type:e}}:{dynamicContent:!1}},activeDynamicContentField:u,setActiveDynamicContentField:m,value:x,onChange:I,isDiviAIEnabled:c,fieldKey:`responsive-${t.attrName}-${_}-${E}`,customActiveAIField:`responsive-${t.attrName}-${_}-${E}`})})()},l().createElement("div",{onFocusCapture:()=>{if(!D){Ne()("html").attr("data-et-app-view",_),(0,d.dispatch)("divi/app-ui").setView(_),"desktop"===_&&(0,d.dispatch)("divi/app-ui").setAttributeState(E);const e=(0,d.select)("divi/app-ui").getAppFrameMaximumPossibleZoom({view:_,format:"percentage",roundingUpPercentage:!1});(0,d.dispatch)("divi/app-ui").setAppFrameZoom({value:e,setter:"visualBuilder"})}}},l().createElement(ge,{value:"divi/gradient"!==t?.fieldComponent.name&&"divi/upload"!==t?.fieldComponent.name&&"divi/toggle"!==t?.fieldComponent.name&&"divi/richtext"!==t?.fieldComponent.name||null!=x&&""!==x?x:S,onChange:I,fieldInfo:T,name:`${n}-${_}-${E}`,setActiveDynamicContentField:m,activeDynamicContentField:u,fieldKey:`responsive-${t?.attrName}-${_}-${E}`,modalContext:{moduleId:i,attr:a,attrName:n,appBaseBreakpoint:o,appBreakpoint:_,appBreakpointNames:s,appState:E,...w.isInPresetEditingMode&&{presetContext:w}}})))},pu=e=>(0,d.useSelect)((t=>{const r={isDiviAIEnabled:t("divi/settings").checkRolePermission("divi_ai"),baseBreakpoint:t("divi/settings").getBaseBreakpointName(),enabledBreakpointNames:t("divi/settings").getEnabledBreakpointNames()},n=t("divi/edit-post").getModuleName(e),i=t("divi/edit-post").getModuleAttrs(e),a=(0,Y.maybeConvertPresetModuleName)(n,i),o=t("divi/global-data").isActivePreset(),{groupId:l,groupName:s}=t("divi/global-data").getOptionGroupPresetModalState(),c=t("divi/global-data").isOptionGroupPresetEditing(l,s);let d=null,u=null,p=null,m=null,h=null;if(o){m=(0,Y.getActiveModulePreset)({moduleName:n,moduleAttrs:i,selectFunction:t,useDefaultFallback:!0});h=t("divi/global-data").getEditingPresetId()||""}if(c&&l&&s){let r=null;if(o&&m){const e=m.groupPresets?.[l],t=e?.presetId;t&&(r={presetId:t,groupName:s})}else r=t("divi/edit-post").getSelectedOptionGroupPreset(e,l);const n=t("divi/global-data").getDefaultPresetID({presetSubType:s,presetType:"group"}),i=t("divi/global-data").getGroupPreset({groupName:s,id:r?.presetId,useDefaultFallback:!0});d=i?.attrs&&(0,Y.isImmutable)(i.attrs)?i.attrs.asMutable({deep:!0}):i?.attrs||null,u="group",p=(0,Y.getSelectedPresetOrDefault)(r?.presetId,n)}else if(o&&m){d=m?.attrs&&(0,Y.isImmutable)(m.attrs)?m.attrs.asMutable({deep:!0}):m?.attrs||null,u="module";p=t("divi/global-data").getEditingPresetId()||""}return{...r,presetContext:{isModulePresetEditing:o,isOptionGroupPresetEditing:c,isInPresetEditingMode:o||c,presetType:u,presetId:p,presetAttributes:d,moduleName:n,presetModuleName:a,groupId:l,groupName:s,modulePresetId:h}}}),[e]),mu=({fieldName:e,fieldProps:t,moduleAttributes:r,moduleId:n,enabledBreakpointsStates:i,onFieldChange:s,onFieldReset:c,fieldInfo:d,lastClipboardItem:m,setRightClickOptions:h,modalTab:g,groupName:f,colorMode:b})=>{const{isDiviAIEnabled:v,baseBreakpoint:y,enabledBreakpointNames:w,presetContext:_}=pu(n),E=_.isInPresetEditingMode&&_.presetAttributes?_.presetAttributes:r,[C,x]=(0,o.useState)(null);ue([{pattern:t=>t.startsWith("responsive-")&&t.includes(e),handler:(t,r)=>{const n=r.replace("responsive-","").split("-");if(n.length<3)return;const i=n.pop(),a=n.pop();n.join("-")===e&&s&&a&&i&&s(a,i,t)}}]);const S=(({enabledBreakpointsStates:e,attributesToUse:t,fieldName:r,fieldProps:n,baseBreakpoint:i,enabledBreakpointNames:a,fieldInfo:l})=>(0,o.useMemo)((()=>e.map((({breakpoint:e,state:o,icon:s})=>({breakpoint:e,state:o,icon:s,currentValue:(0,Y.getFieldInheritedValue)({attr:t,fieldName:r,subName:n.subName,breakpoint:e,state:o,baseBreakpoint:i,breakpointNames:a,mode:"get"}),inheritedValue:(0,Y.getFieldInheritedValue)({attr:t,fieldName:r,subName:n.subName,breakpoint:e,state:o,baseBreakpoint:i,breakpointNames:a,defaultValue:n.baseFieldDefault??l?.defaultValue}),inheritedValueExcludingCurrent:(0,Y.getFieldInheritedValue)({attr:t,fieldName:r,subName:n.subName,breakpoint:e,state:o,baseBreakpoint:i,breakpointNames:a,mode:"inheritAll",defaultValue:l?.defaultValue})})))),[e,t,r,n,i,a,l]))({enabledBreakpointsStates:i,attributesToUse:E,fieldName:e,fieldProps:t,baseBreakpoint:y,enabledBreakpointNames:w,fieldInfo:d});return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--responsive-editor",componentName:"et-vb-divi-modals--responsive-editor"},l().createElement(p.WrapperContainer,{modalName:lu,draggable:!0,expandable:!0,snappable:!1,resizable:!0,clampVerticalOffset:!0,enableContextMenu:!0,colorMode:b},l().createElement(p.Header,{name:(0,a.__)("Responsive Editor","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"responsive-editor",opened:!0},S.map((r=>l().createElement(uu,{key:`${r.breakpoint}-${r.state}`,fieldData:r,fieldInfo:d,fieldProps:t,fieldName:e,moduleId:n,attributesToUse:E,baseBreakpoint:y,enabledBreakpointNames:w,isDiviAIEnabled:v,activeDynamicContentField:C,setActiveDynamicContentField:x,lastClipboardItem:m,setRightClickOptions:h,modalTab:g,groupName:f,onFieldChange:s,onFieldReset:c,presetContext:_})))))))};mu.defaultProps={};const hu={name:lu,label:"Responsive Editor",component:()=>{const e=(0,d.useSelect)((e=>e("divi/modal-library").getModal(lu)?.attributes||{})),{fieldName:t,fieldProps:r,moduleId:n,fieldComponentName:i,fieldComponentProps:a,dynamicContentSettings:l,features:c,fieldSupportsSticky:u,modalTab:p,groupName:m,colorMode:h}=e,g=(0,d.useSelect)((e=>{if(!n)return{};return e("divi/edit-post").getModule(n)?.props?.attrs||{}}),[n]),f=(0,d.useSelect)((e=>{const t=e("divi/settings").getEnabledBreakpoints()||[],r=e("divi/edit-post").getContent()||{},{enabledBreakpointsStates:i}=(({enabledBreakpoints:e,moduleId:t,moduleObjects:r,fieldSupportsSticky:n})=>{const i=[],a=(0,ae.isStickyModule)(t,r),o=(0,ae.isInsideStickyModule)(t,r),l=n&&(a||o);return e&&Array.isArray(e)&&e.forEach((e=>{const t=e?.name,r=e?.label;t&&r&&i.push({breakpoint:t,state:"value",label:`${r}`,icon:e?.icon?.name||null})})),i.push({breakpoint:"desktop",state:"hover",label:"Hover",icon:"divi/hover"}),l&&i.push({breakpoint:"desktop",state:"sticky",label:"Sticky",icon:"divi/sticky"}),{enabledBreakpointsStates:i}})({enabledBreakpoints:t,moduleId:n||"",moduleObjects:r,fieldSupportsSticky:u??!0});return{enabledBreakpointsStates:i,lastClipboardItem:e("divi/clipboard").getLastItem("moduleFieldAttribute")}}),[n,u]),b={fieldName:t,fieldProps:r,moduleAttributes:g,moduleId:n,fieldComponentName:i,fieldComponentProps:a,dynamicContentSettings:l,features:c,modalTab:p,groupName:m,...f},{presetContext:v}=pu(b.moduleId||""),{fieldInfo:y}=(({modalData:e,moduleAttributes:t})=>{const r=(0,o.useMemo)((()=>{const{fieldComponentName:t,fieldName:r,moduleId:n,fieldProps:i,fieldComponentProps:a,dynamicContentSettings:o}=e;if(!t||!r||!n)return null;const l={optionType:"modalField",id:n,modalName:"divi/responsive-editor",modalTab:"content",attrName:r,subName:i?.subName,fieldLabel:i?.label||r,fieldComponent:{name:t,props:a||{}},features:{dynamicContent:!0===o?{type:"text"}:"object"==typeof o&&null!==o&&o},dynamicContentType:o&&"object"==typeof o?o.type:null};return(0,Y.getSourceFieldInfo)({modalAttributes:l})}),[e.fieldComponentName,e.fieldName,e.moduleId,e.fieldProps,e.fieldComponentProps,e.dynamicContentSettings]),n=(0,o.useMemo)((()=>{if(r)return{attrName:r.attrName,subName:e.fieldProps?.subName,fieldComponent:{name:r.fieldComponent.name,props:r.fieldComponent.props||{}},filterComponentProps:e.fieldProps?.filterComponentProps,features:r.features||{dynamicContent:!1},defaultValue:re(r.attrName,e.fieldProps?.subName,e.fieldProps?.baseFieldDefault??r.defaultValue),placeholder:"string"==typeof e.fieldProps?.placeholder?e.fieldProps.placeholder:null};const{fieldComponentName:t,fieldName:n,fieldComponentProps:i,dynamicContentSettings:a}=e;return t&&n?{attrName:n,subName:e.fieldProps?.subName,fieldComponent:{name:t,props:i||{}},filterComponentProps:e.fieldProps?.filterComponentProps,features:{dynamicContent:a||!1},defaultValue:re(n,e.fieldProps?.subName,e.fieldProps?.baseFieldDefault??(0,s.get)(i,"defaultValue")),placeholder:"string"==typeof e.fieldProps?.placeholder?e.fieldProps.placeholder:null}:null}),[r,e.fieldComponentName,e.fieldName,e.fieldComponentProps,e.dynamicContentSettings,e.fieldProps,t]);return{sourceFieldInfo:r,fieldInfo:n}})({modalData:b,moduleAttributes:b.moduleAttributes}),{editModuleAttribute:w,removeModuleAttribute:_}=(0,d.useDispatch)("divi/edit-post"),{editPresetAttribute:E}=(0,d.useDispatch)("divi/global-data"),{set:C}=(0,d.useDispatch)("divi/right-click-options");return(0,o.createElement)(mu,{...b,fieldInfo:y,onFieldChange:(e,i,a)=>{if(!t||!n)return;const{attrPath:o}=su({fieldName:t,breakpoint:e,state:i,subName:r?.subName}),l=a;v.isInPresetEditingMode?du({attrPath:o,value:l,presetContext:v,editPresetAttribute:E}):w({id:n,attrName:o,value:l,subName:r?.subName??!1})},onFieldReset:(e,i)=>{if(!t||!n)return;const{attrPath:a}=su({fieldName:t,breakpoint:e,state:i,subName:r?.subName});v.isInPresetEditingMode?du({attrPath:a,value:null,presetContext:v,editPresetAttribute:E}):_(n,a)},setRightClickOptions:C,colorMode:h})},type:"multiInstanceModal",attributesMergeStrategy:"replace",dimension:{width:280,height:400},autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal",sidebarPosition:!1,snappable:!1},gu=({name:e,onDiscardAndExit:t,onSaveAndExit:r,onCloseModal:n})=>{const i=()=>{(0,d.dispatch)("divi/modal-library").close({name:e})},s=(0,o.useCallback)((()=>[{name:"exit",label:(0,a.__)("Discard & Exit","et_builder"),onClick:e=>{e.preventDefault(),i(),t()}},{name:"save",buttonColor:"primary",label:(0,a.__)("Save & Exit","et_builder"),onClick:e=>{e.preventDefault(),i(),r()}}]),[t,r]);return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--unsaved-changes",componentName:"et-vb-divi-modals--unsaved-changes"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:e,dimension:{width:280,height:267},centered:!0},l().createElement(p.Header,{name:(0,a.__)("You Have Unsaved Changes","et_builder"),onClickCloseButton:()=>{i(),n()}}),l().createElement(p.BodyContainer,null,l().createElement(p.Panel,{id:"unsaved-changes",opened:!0},(0,o.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,a.__)("Your page contains changes that have not been saved. If you close the builder without saving, these changes will be lost. If you would like to leave the builder and save all changes, please select <strong>Save & Exit</strong>. If you would like to discard all recent changes, choose <strong>Discard & Exit</strong>.","et_builder")}}))),l().createElement(p.Footer,{buttons:s()}))))},fu="divi/unsaved-changes",bu=()=>{const{attributes:e}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/unsaved-changes",property:"attributes"})})));return l().createElement(gu,{name:fu,onDiscardAndExit:e?.onDiscardAndExit,onSaveAndExit:e?.onSaveAndExit,onCloseModal:e?.onCloseModal})},vu=(0,a.__)("Unsaved Changes","et_builder"),yu={name:fu,label:vu,type:"multiInstanceModal",component:bu,canBeSavedOnWorkspace:!1},wu=e=>{if("on"===e.fontWeight.all)return"all";const t=[];return(0,s.forEach)(e.fontWeight,((e,r)=>{"on"===e&&t.push(r)})),t.join(",")},_u=[{label:(0,a.__)("Thin 100","et_builder"),value:"100"},{label:(0,a.__)("Ultra Light 200","et_builder"),value:"200"},{label:(0,a.__)("Light 300","et_builder"),value:"300"},{label:(0,a.__)("Regular 400","et_builder"),value:"400"},{label:(0,a.__)("Medium 500","et_builder"),value:"500"},{label:(0,a.__)("Semi Bold 600","et_builder"),value:"600"},{label:(0,a.__)("Bold 700","et_builder"),value:"700"},{label:(0,a.__)("Ultra Bold 800","et_builder"),value:"800"},{label:(0,a.__)("Heavy 900","et_builder"),value:"900"}],Eu="divi/upload-font",Cu=({supportedFileFormats:e,customFonts:t,uploadFont:r,closeModal:n,onChange:i})=>{const[c,d]=(0,o.useState)({fontName:"",fontWeight:{all:"on"},files:{}}),[g,f]=(0,o.useState)(""),[b,v]=(0,o.useState)(!1),[y,w]=(0,o.useState)([]),_=(0,o.useRef)(null),E=()=>{const e=(e=>{const t=[];let r="";""===e.fontName&&t.push("fontName"),(0,s.isEmpty)(e.files)&&(r=(0,a.__)("Please select at least one file.","et_builder"),t.push("fontFile"));const n=(0,s.keys)(e.fontWeight).filter((t=>"on"===e.fontWeight[t]));return"on"!==e.fontWeight.all&&(0,s.isEmpty)((0,s.keys)(n))&&t.push("fontWeight"),{success:(0,s.isEmpty)(t),errorMessage:r,errorElements:t}})(c);if(!e.success)return f(e.errorMessage),void((0,s.isEmpty)(e.errorElements)||w(e.errorElements));const o=new FormData;o.append("et_pb_font_name",c.fontName);const l=JSON.stringify({font_weights:wu(c),generic_family:"sans-serif"});o.append("et_pb_font_settings",l),(0,s.forEach)(c.files,((e,t)=>{o.append(`et_pb_font_file_${t}`,e.file)})),v(!0),(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/custom-font/add",data:o}).then((e=>{v(!1),(0,s.isEmpty)(e.updated_fonts)?r(t):r(e.updated_fonts),(0,s.isEmpty)(e.uploaded_font)||i({inputValue:e.uploaded_font}),n()})).catch((e=>{v(!1),f(e.message)}))},C=(0,s.keys)(c.fontWeight).filter((e=>"on"===c.fontWeight[e]));return l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--font-upload"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:Eu,draggable:!0,expandable:!0,resizable:!0,dimension:null},l().createElement(p.Header,{name:(0,a.__)("Upload Font","et_builder")}),b?l().createElement(m.Loading,null):l().createElement(l().Fragment,null,l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"font-upload",opened:!0},l().createElement("div",{className:"et-vb-divi-modals--font-upload"},!(0,s.isEmpty)(g)&&l().createElement("div",{className:"et-fb-font-upload-error"},g),l().createElement(p.FieldWrapper,{label:(0,a.__)("Font Name","et_builder")},l().createElement(M.Text,{name:"font-name",value:c.fontName,defaultValue:(0,a.__)("Name Your Font","et_builder"),className:y.includes("fontName")?"et-fb-font-error-element":"",onChange:({inputValue:e})=>{d({...c,fontName:e})}})),l().createElement("div",{className:"et-vb-modal-upload-file-container"},l().createElement("div",{className:"et-vb-modal-import-placeholder"},l().createElement("span",{className:"et-core-portability-import-placeholder"},(0,a.__)("Choose Font Files","et_builder")),l().createElement("input",{ref:_,type:"file",className:"et-vb-modal-import-file",accept:".ttf, .otf, .eot, .woff2, .woff",multiple:!0,onChange:t=>{const{files:r}=t.target;let n=c.files;(0,s.size)(r)<1||((0,s.forEach)(r,(t=>{const r=(0,s.toLower)((0,s.get)(t,"name",""));(0,s.forEach)(e,(e=>{(0,s.endsWith)(r,e)&&(n={...n,[e]:{fileName:r,file:t}})}))})),d({...c,files:n}),_.current.value=null)}})),l().createElement("p",{className:"et-font-uploader-hint"},(0,a.__)("Supported File Formats: ","et_builder"),e.join(", "))),!(0,s.isEmpty)(c.files)&&l().createElement("div",{className:"et-vb-font-files-list"},l().createElement("label",{className:"et-vb-field-label"},(0,a.__)("Selected Font Files:","et_builder")),(0,s.map)(c.files,((e,t)=>l().createElement("div",{className:"et-vb-font-files-list-item",key:t},l().createElement("span",{className:"et-vb-font-files-list-item-remove",onClick:h.handleOnClickFallback,onKeyDown:s.noop,role:"button",tabIndex:0,"aria-label":"Remove Font",onMouseDown:()=>{const e={...c.files};delete e[t],d({...c,files:e})}},l().createElement(ie.IconSvg,{name:"divi/delete",color:"#EF5555"})),e.fileName)))),l().createElement(p.FieldWrapper,{label:(0,a.__)("Supported Font Weights","et_builder"),description:(0,a.__)('Choose the font weights supported by your font. Select "All" if you don\'t know this information or if your font includes all weights.',"et_builder"),className:y.includes("fontWeight")?"et-fb-font-error-element":""},l().createElement(M.Checkboxes,{name:"font-weight-all",value:"on"===c.fontWeight.all?["all"]:[],options:[{label:(0,a.__)("All","et_builder"),value:"all"}],onChange:({inputValue:e})=>{const t=e.length>0,r={...c.fontWeight,all:t?"on":"off"};d({...c,fontWeight:r})}}),"off"===c.fontWeight.all&&l().createElement(M.Checkboxes,{name:"font-weight",value:C,options:_u,onChange:({inputValue:e})=>{const t=_u.reduce(((t,r)=>{const n=r.value;return t[n]=e.includes(n)?"on":"off",t}),{}),r={...c.fontWeight,...t};d({...c,fontWeight:r})}}))))),l().createElement(p.Footer,{buttons:[{name:"upload",label:(0,a.__)("Upload","et_builder"),onClick:e=>{e.preventDefault(),E()}}]})))))},xu=(0,a.__)("Upload Font","modal-library"),Su={name:Eu,label:xu,type:"multiInstanceModal",component:()=>{const{attributes:e,supportedFileFormats:t,customFonts:r}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/upload-font",property:"attributes"}),supportedFileFormats:e("divi/settings").getSetting(["fonts","formats"]),customFonts:e("divi/fonts").getCustomFonts()}))),n={supportedFileFormats:t?.asMutable(),customFonts:r,onChange:e.onChange,uploadFont:e=>{(0,d.dispatch)("divi/fonts").setCustomFonts(e)},closeModal:()=>(0,d.dispatch)("divi/modal-library").close({name:"divi/upload-font"})};return(0,o.createElement)(Cu,n)}},ku={[Be.name]:Be,[on.name]:on,[pn.name]:pn,[vn.name]:vn,[Fn.name]:Fn,[Cn.name]:Cn,[On.name]:On,[Rn.name]:Rn,[Wn.name]:Wn,[si.name]:si,[pi.name]:pi,[yi.name]:yi,[ki.name]:ki,[qi.name]:qi,[$i.name]:$i,[Co.name]:Co,[To.name]:To,[el.name]:el,[il.name]:il,[sl.name]:sl,[gl.name]:gl,[El.name]:El,[Bd.name]:Bd,[Dd.name]:Dd,[ad.name]:ad,[Qd.name]:Qd,[nu.name]:nu,[ou.name]:ou,[hu.name]:hu,[yu.name]:yu,[Su.name]:Su},Iu=(0,i.applyFilters)("divi.modalLibrary.modalMapping",ku);var Mu=window.divi.middleware;const Au=e=>({type:"ADD_MODAL",modal:e}),Fu=e=>({type:"CLOSE",params:e}),Nu=e=>({type:"EXPAND",params:e}),Tu=e=>({type:"OPEN",params:e}),Ou=e=>({type:"OPEN_GROUP",params:e}),Pu=e=>({type:"OPEN_GROUP_TAB",params:e}),Du=e=>({type:"OPEN_TAB",params:e}),Lu=e=>({type:"REMOVE_MODAL",name:e}),Ru=e=>({type:"SET_ATTRIBUTES",params:e}),Vu=e=>({type:"SET_BODY_SIBLING_HEIGHT",params:e}),Bu=e=>({type:"SET_DIMENSION",params:e}),ju=e=>({type:"SET_DRAGGING_STATE",params:e}),qu=e=>({type:"SET_AI_ACTIVE_FIELD",params:e}),Wu=e=>({type:"HANDLE_AI_RESULT",params:e}),Gu=e=>({type:"SET_IS_MODAL_CLOSING",params:e}),Hu=e=>({type:"SET_IS_RESIZING",params:e}),Uu=e=>({type:"SET_LAYERS_VIEW_ACTIVE_MODULE_ID",params:{name:"divi/layers",activeLayerModuleId:e}}),$u=e=>({type:"SET_LAYERS_VIEW_EXPAND_ALL",params:{name:"divi/layers",expandAllInfo:e}}),zu=e=>({type:"SET_LAYERS_VIEW_FILTER",params:{name:"divi/layers",filterInfo:e}}),Ku=e=>({type:"SET_LAYERS_VIEW_MODULE",params:{name:"divi/layers",moduleInfo:e}}),Zu=e=>({type:"SET_LAYERS_VIEW_SEARCH",params:{name:"divi/layers",searchInfo:e}}),Ju=e=>({type:"SET_OFFSET",params:e}),Yu=e=>({type:"SET_PANEL_SIZE",params:e}),Xu=e=>({type:"SET_SIDEBAR_POSITION",params:e}),Qu=e=>({type:"SET_TIMESTAMP",params:e}),ep=e=>({type:"SET_LAST_OPENED_TAB",params:e}),tp=e=>({type:"SET_LAST_OPENED_GROUPS",params:e}),rp=(e,t,r)=>({...(0,s.merge)(e?.asMutable({deep:!0}),{...t,attributes:r}),group:t.group??{}}),np={merge:rp,replace:(e,t,r)=>({...(0,s.merge)(e?.asMutable({deep:!0}),t),attributes:r,group:t.group??{}})},ip=(e,t)=>{const r=e?.params?.name;if(!r||!["divi/module","divi/module-shortcode"].includes(r))return;if(!(0,d.select)("divi/modal-library").isModalActive(t))return;const n=e?.params?.owner;n&&(0,d.dispatch)("divi/modal-library").open({name:t,owner:n})},ap={OPEN:[(e,t)=>{const r=t.getState(),n=e?.params?.name;if("singleInstanceModal"===r.getIn([n,"type"])&&r.getIn([n,"overwrittenModalName"])){const e=r.getIn([n,"overwrittenModalName"]);(0,d.dispatch)("divi/app-ui").replaceSidebarModal({modalName:n,overwrittenModalName:e});const t=r.getIn([e,"sidebarPosition"]);t&&(0,d.dispatch)("divi/modal-library").setSidebarPosition({name:n,sidebarPosition:t})}},e=>{const t=e?.params?.name;if((0,d.select)("divi/app-ui").isSidebarModal(t))return;if("saved"===(0,d.select)("divi/app-preferences").get(["modal","preference"]))return;const r=(0,d.select)("divi/modal-library").getModal(t),n=r?.sidebarPosition??!1;if(!n)return;const i="left"===n?"sidebarLeft":"sidebarRight";if((0,d.select)("divi/app-ui").getElements()?.[i]?.visible??!1){const e=(0,d.select)("divi/app-ui").getSidebarProps(n)?.rowIds??[],i=e?.[e?.length-1];(0,d.dispatch)("divi/app-ui").dockModalToSidebarRow({modalName:t,modalType:r.type??"multiInstanceModal",newSidebarRowId:_t(),position:"below",sidebarRowId:i})}else(0,d.dispatch)("divi/app-ui").dockModalToSidebar({modalName:t,modalType:r.type??"multiInstanceModal",sidebarName:i})},e=>{let t=null;const r=e?.params?.name;if("divi/library-item-preview"!==r)return;const n=(t,r)=>{(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/library-item-preview",attributes:{...e.params.attributes,libraryItemProgress:{isProgress:t<100,progress:t},previewUrl:r}})},i=({syncType:e,previewUrl:r})=>{"preview"===e&&r&&(n(98,r),setTimeout((()=>n(100,r)),500)),window.ETCloudApp.emitSignal({signal:"finishDownload",data:{}}),t&&r&&setTimeout((()=>{return e=t,void(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/update-item",data:{data:{itemPayload:{updateType:"delete_permanently"},clickedItem:{id:e}}}}).catch((e=>console.log(e)));var e}),5e3)},{content:a,item:o,layoutType:l}=(0,s.get)(e,["params","attributes","data"]),{name:u,width:p,id:m,type:h}=o,g=JSON.stringify(a),f=async(e,t)=>{const r=h||l,a={post_id:t,content:{post_content:await(0,c.getPreviewBlockStructure)(e,r,p),header:null,body:null,footer:null},syncType:"preview"};(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/sync-to-server",data:a},!0).then((e=>{n(90,null),i(e)})).catch((e=>console.error(e)))};if(a){const e=new FormData,r=new File([g],"layout.json",{type:"application/json"});e.append("file",r),e.append("context","et_builder"),e.append("include_global_presets","on");const n=t=>{const i=e.get("post");(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/portability/import",data:t},!0).then((async e=>{if(void 0!==e.page&&void 0!==e.totalPages){const i=t;i.append("page",String(Number(e.page)+1)),i.append("timestamp",e.timestamp),i.append("file",r),n(i)}else{if(!e.postContent)return;await f(e?.postContent,i)}})).catch((e=>console.log(e)))},i=new FormData;i.append("layout_name",u),i.append("post_type","et_pb_layout"),i.append("layout_type","layout"),i.append("layout_content",g),(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/create-item",data:i},!0).then((r=>{const{post_id:i}=r.layoutData,a=i;t=a,e.append("post",a),n(e)})).catch((e=>console.error("error",e)))}else{const e=m;(0,Wr.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/item",data:{id:m,libraryType:h,builtFor:(0,d.select)("divi/settings").getSetting(["post","type"])}},!0).then((async t=>{n(65,null),await f(t.content,e)})).catch((e=>console.error(e)))}},e=>{ip(e,"divi/extend-attributes")},e=>{ip(e,"divi/find-and-replace")},e=>{const t=e?.params?.name;if("divi/inspector"===t&&e?.params?.owner)return;if(t&&["divi/module","divi/module-shortcode"].includes(t))ip(e,"divi/inspector");else if("divi/page-settings"===t){(0,d.select)("divi/modal-library").isModalActive("divi/inspector")&&(0,d.dispatch)("divi/modal-library").open({name:"divi/inspector",owner:""})}}],CLOSE:[(e,t)=>{const r=e?.params?.name,n=(0,d.select)("divi/app-ui").isSidebarModal(r),i="singleInstanceModal"===t.getState().getIn([r,"type"]),a="divi/page-settings"===r,o=!i||i&&a,{active:l,sidebarRowId:s,sidebarName:c}=(0,d.select)("divi/app-ui").getSidebarModalInfo(e?.params?.name);i&&!a?"divi/module"===r||"divi/module-shortcode"===r?(0,d.dispatch)("divi/app-ui").removeSidebarRow({sidebarName:c,sidebarRowId:s}):(0,d.dispatch)("divi/app-ui").replaceSidebarModal({modalName:"divi/page-settings",overwrittenModalName:r}):n&&o&&((0,d.dispatch)("divi/app-ui").undockModalFromSidebarRow({modalName:r,sidebarRowId:s,intent:"closing"}),l&&(0,d.dispatch)("divi/app-ui").setSidebarRowActiveModal({sidebarRowId:s,activeModal:""}))},e=>{"divi/module"===(0,s.get)(e,["params","name"])&&(0,d.dispatch)("divi/app-ui").setAttributeState("value")}],OPEN_TAB:[e=>{if("divi/module"===e.params.name){const{tabName:t}=e.params;(0,d.dispatch)("divi/modal-library").setLastOpenedTab({tabName:t}),(0,d.dispatch)("divi/modal-library").setLastOpenedGroups({groups:{}})}}],OPEN_GROUP:[e=>{if("divi/module"===e.params.name){const{tabName:t,groupId:r,groupIds:n}=e.params,i=Array.isArray(n)?Object.values(n):[n||r];if(!i.length||!i[0])return;(0,d.dispatch)("divi/modal-library").setLastOpenedTab({tabName:t});const a={[t]:i};(0,d.dispatch)("divi/modal-library").setLastOpenedGroups({groups:a})}}]};function op(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var lp=e=>Array.isArray(e)?e:[e];function sp(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const r=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function cp(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}Symbol(),Object.getPrototypeOf({});var dp="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function up(e,t={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let i,a=0;function o(){let t=r;const{length:o}=arguments;for(let e=0,r=o;e<r;e++){const r=arguments[e];if("function"==typeof r||"object"==typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t={s:0,v:void 0,o:null,p:null},e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t={s:0,v:void 0,o:null,p:null},e.set(r,t)):t=n}}const l=t;let s;if(1===t.s?s=t.v:(s=e.apply(null,arguments),a++),l.s=1,n){const e=i?.deref?.()??i;null!=e&&n(e,s)&&(s=e,0!==a&&a--);i="object"==typeof s&&null!==s||"function"==typeof s?new dp(s):s}return l.v=s,s}return o.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function pp(e,...t){const r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n=0,i=0,a={},o=e.pop();"object"==typeof o&&(a=o,o=e.pop()),op(o,`createSelector expects an output function after the inputs, but received: [${typeof o}]`);const l={...r,...a},{memoize:s,memoizeOptions:c=[],argsMemoize:d=up,argsMemoizeOptions:u=[],devModeChecks:p={}}=l,m=lp(c),h=lp(u),g=sp(e),f=s((function(){return n++,o.apply(null,arguments)}),...m);const b=d((function(){i++;const e=cp(g,arguments);return t=f.apply(null,e),t}),...h);return Object.assign(b,{resultFunc:o,memoizedResultFunc:f,dependencies:g,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:s,argsMemoize:d})};return Object.assign(n,{withTypes:()=>n}),n}var mp=pp(up),hp=Object.assign(((e,t=mp)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e),n=r.map((t=>e[t]));return t(n,((...e)=>e.reduce(((e,t,n)=>(e[r[n]]=t,e)),{})))}),{withTypes:()=>hp});const gp=mp([(e,t)=>e,(e,t)=>t],((e,t)=>e.getIn([t]))),fp={OPEN:[e=>t=>r=>{if("OPEN"!==r.type)return t(r);const{name:n,attributes:i={}}=r.params;if(!n)return t(r);const a=e.getState(),o=a?.getIn([n]),l=a?.getIn([n]);if(!o)return t(r);const{tabToOpen:s,groupToOpen:c}="divi/module"===n?(e=>{const t=(0,d.select)("divi/modal-library").getLastOpenedTab(),r=(0,d.select)("divi/modal-library").getLastOpenedGroups(),n=e??(t||"");let i={};if(n&&r&&r[n]){const e=r[n],t=Array.isArray(e)?e:[];i={[n]:(0,Y.matchCompositeAndStandardAttributes)(t)}}return{tabToOpen:n,groupToOpen:i}})(r.params.tab):{tabToOpen:r.params.tab??"",groupToOpen:{}},u={toggleTimestamp:(new Date).getTime(),bodySiblingHeight:0,owner:r.params.owner,offset:r.params.offset??l?.getIn(["offset"]),dimension:r.params.dimension??l?.getIn(["dimension"]),tab:s,group:c,groupTab:{},panelSize:1,isResizing:!1,isActive:!0,overwrittenModalName:""},p=((e,t,r,n)=>{const i=np[e?.attributesMergeStrategy??"merge"];return i?i(t,r,n):rp(t,r,n)})(o?.asMutable({deep:!0}),l,u,i),m={...r,mergedModalState:p};return t(m)},e=>t=>r=>{const n=e.getState(),i=r?.params?.name,a=gp(n,i);if(a&&"singleInstanceModal"===a.type){const e=gp(n,"divi/module"),t=e?.isActive;if(t){const t=e?.owner;if((0,d.select)("divi/edit-post").getGlobalLayoutId(t)&&(0,d.select)("divi/global-layouts").hasSyncWorthyChanges())return null}}return t(r)},()=>e=>t=>{const{isPresetActive:r,groupId:n,groupName:i}=(0,d.select)("divi/global-data").getOptionGroupPresetEditMode()||{};let a;"params"in t&&t.params&&"name"in t.params&&(a=t.params.name);const o="string"==typeof a&&["divi/module","divi/module-shortcode"].includes(a);r&&o&&(0,d.dispatch)("divi/global-data").closeOptionGroupPresetEditMode({groupId:n,groupName:i});return e(t)}],CLOSE:[e=>t=>r=>{if("divi/module"===r?.params?.name){const t=gp(e.getState(),"divi/module"),r=t?.isActive;if(r){const e=t?.owner,r=(0,d.select)("divi/edit-post").getGlobalLayoutId(e);if(r&&(0,d.select)("divi/global-layouts").hasSyncWorthyChanges())return(0,d.dispatch)("divi/global-layouts").openConfirmationPopup({id:r}),null}}return t(r)}]},bp=(e,t)=>{const r=(0,s.get)(t,"params.name");switch(t.type){case"ADD_MODAL":{const r=(e=>"snappable"in e)(t.modal)?(e=>{let t;switch(e.type){case"single":case"multi":case"confirmation":case"floating":t="multiInstanceModal";break;default:t=e.type}return{...e,type:t}})(t.modal):t.modal,n={...r,isActive:!1,dimension:Ri.dimension,dimensionMinimum:{...Vi.dimension,...r?.dimensionMinimum},offset:Ri.offset,expand:!1,snappable:r?.snappable??!0,owner:"",tab:r?.tab??"",group:r?.group??{},groupTab:r?.groupTab??{}},i=e.getIn(["singleInstanceModalNames"])?.asMutable()??[];return"singleInstanceModal"===r.type?(i.push(r.name),e.setIn([r.name],n).setIn(["singleInstanceModalNames"],i)):e.setIn([r.name],n)}case"REMOVE_MODAL":{const r=e.getIn([t.name]),n=e.getIn(["singleInstanceModalNames"]);return"singleInstanceModal"===r.type?e.without(t.name).setIn(["singleInstanceModalNames"],n.filter((e=>e!==t.name))):e.without(t.name)}case"OPEN":return((e,t)=>{const r=t?.params?.name;let n=t?.params?.dimension??e?.getIn([r,"dimension"]),i=t?.params?.offset??e?.getIn([r,"offset"]);if(!r)return e;if(t?.params?.workspaceSettings){const{origin:e,target:r}=t?.params?.workspaceSettings,a={offsetLeft:e.modal.offsetLeft-e.appFramePseudoWrapper.marginLeft,offsetTop:e.modal.offsetTop-e.appFramePseudoWrapper.marginTop},o={offsetLeft:a.offsetLeft/e.appFramePseudoWrapper.width,offsetTop:a.offsetTop/e.appFramePseudoWrapper.height,width:e.modal.width/e.appFramePseudoWrapper.width,height:"number"==typeof e.modal.height?e.modal.height/e.appFramePseudoWrapper.height:0},l={offsetLeft:o.offsetLeft*r.appFramePseudoWrapper.width,offsetTop:o.offsetTop*r.appFramePseudoWrapper.height,width:o.width*r.appFramePseudoWrapper.width,height:o.height*r.appFramePseudoWrapper.height},s=l.width<e.modal.minimumWidth,c={offsetTop:l.offsetTop+r.appFramePseudoWrapper.marginTop,offsetLeft:l.offsetLeft+r.appFramePseudoWrapper.marginLeft,width:s?e.modal.minimumWidth:l.width,height:l.height},d=c.offsetLeft>r.topWindow.width/2;n={width:c.width,height:c.height},i={top:c.offsetTop,left:s&&d?c.offsetLeft-(e.modal.minimumWidth-l.width):c.offsetLeft},i.top>r.topWindow.height&&(i.top=r.topWindow.height-("number"==typeof n.height?n.height+20:0)),i.left>r.topWindow.width&&(i.left=r.topWindow.width-(n.width+20))}const a=t.mergedModalState;if("singleInstanceModal"===a?.type){const t=(0,s.find)(e,(e=>"singleInstanceModal"===e?.type&&e?.isActive));if(t?.owner===a?.owner&&(a.group=t?.group?.asMutable?.({deep:!0})??{}),t&&t?.name!==r){const n=t?.name;return a.overwrittenModalName=n,a.dimension=t?.dimension,a.offset=t?.offset,e.setIn([r],a).setIn([n,"isActive"],!1)}}return e.setIn([r],a)})(e,t);case"SET_BODY_SIBLING_HEIGHT":return e.setIn([r,"bodySiblingHeight"],(0,s.get)(t,["params","bodySiblingHeight"]));case"SET_DIMENSION":{const n=(0,s.get)(t,"params.dimension.width",Ri.dimension.width),i=(0,s.get)(t,"params.dimension.height",Ri.dimension.width),a=(0,s.get)(t,"params.minimum.width",Vi.dimension.width),o=(0,s.get)(t,"params.minimum.height",Vi.dimension.height);return e.setIn([r,"dimension"],{width:n>=a?n:a,height:i>=o?i:o})}case"SET_OFFSET":{const n=(0,s.get)(t,"params.offset");return e.setIn([r,"offset"],n)}case"SET_IS_MODAL_CLOSING":return e.setIn(["isClosing"],t?.params?.isClosing);case"SET_IS_RESIZING":return e.setIn([r,"isResizing"],t?.params?.isResizing);case"SET_TIMESTAMP":return e.setIn([r,"toggleTimestamp"],(new Date).getTime());case"SET_DRAGGING_STATE":return e.setIn([r,"dragging"],t?.params?.status);case"SET_SIDEBAR_POSITION":if("singleInstanceModal"===e.getIn([r])?.type){return e.getIn(["singleInstanceModalNames"]).reduce(((e,r)=>e.setIn([r,"sidebarPosition"],t?.params?.sidebarPosition)),e)}return e.setIn([r,"sidebarPosition"],t?.params?.sidebarPosition);case"SET_PANEL_SIZE":return e.setIn([r,"panelSize"],(0,s.get)(t,["params","panelSize"]));case"EXPAND":{const n=(0,s.get)(t,"params.expand");return e.setIn([r,"expand"],n)}case"OPEN_TAB":return e.setIn([r,"tab"],t.params.tabName);case"OPEN_GROUP":{const n=(0,s.get)(t,"params.tabName",""),i=(0,s.get)(t,"params.groupId",""),a=e.getIn([r,"group",n],""),o=e.setIn([r,"tab"],n);let l=Array.isArray(t.params.groupIds)?Object.values(t.params.groupIds):[t.params.groupIds];return(Array.isArray(a)?Object.values(a):[a]).includes(i)&&(l=l.filter((e=>e!==i&&!e.includes(i)))),o.setIn([r,"group",n],l)}case"OPEN_GROUP_TAB":{const{groupId:n,groupTabName:i}=t.params;return e.setIn([r,"groupTab",n],i)}case"SET_ATTRIBUTES":{const n=(0,s.get)(t,["params","attributes"],!1)?{...e.getIn([r,"attributes"]),...t.params.attributes}:t.params.attributes;return e.setIn([r,"attributes"],n)}case"CLOSE":return((e,t)=>{const r=t?.params?.name,n=e.getIn([r]);if("singleInstanceModal"===n?.type){const t=e.getIn(["singleInstanceModalNames"]),{dimension:i,offset:a,sidebarPosition:o}=n;return t.reduce(((e,t)=>e.setIn([t,"sidebarPosition"],o).setIn([t,"dimension"],i).setIn([t,"offset"],a)),e.setIn([r,"isActive"],!1))}return e.setIn([r,"isActive"],!1)})(e,t);case"SET_LAYERS_VIEW_MODULE":{const{moduleId:n,childrenModuleIds:i,checkChildren:a,data:o}=t.params.moduleInfo;if(a&&i){const t=e.getIn([r,"layersView","modules"]),a=jo(i);Object.values(a).forEach((e=>{a[e.id]={...e,...t?.[n],...o}}));const l={...t,...a,[n]:{id:n,...o}};return e.setIn([r,"layersView","modules"],l)}return e.setIn([r,"layersView","modules",n],{id:n,...o})}case"SET_LAYERS_VIEW_EXPAND_ALL":{const n={expand:t.params.expandAllInfo.expandAll},i=jo(t.params.expandAllInfo.moduleIds,n);return e.setIn([r,"layersView","modules"],i)}case"SET_LAYERS_VIEW_SEARCH":{const{searchKeyword:n,moduleIds:i}=t.params.searchInfo,a=jo(i),o=e.getIn([r,"layersView"]),l=e.getIn([r,"layersView","filterKeyword"]),s=e.getIn([r,"layersView","filterModules"]),c=e.getIn([r,"layersView","isFilterActive"],!1);let u={};if(!n){const t={...o,searchModules:{},isSearchActive:!1,isSearchEmpty:!0,searchKeyword:n};if(c){const{updatedModules:n,isFilterEmpty:i}=(0,qo.B)({layerModules:a,filterKeyword:l});return e.setIn([r,"layersView"],{...t,filterModules:n,isFilterEmpty:i})}return e.setIn([r,"layersView"],t)}u=c?s:a;const{updatedModules:p,isSearchEmpty:m}=(({layerModules:e,searchKeyword:t})=>{const r=(0,d.select)("divi/edit-post"),n={},i={},a={};let o=!0,l={};return Object.values(e).forEach((a=>{if(a.adminLabel.toLowerCase().includes(t.toLowerCase())&&"hidden"!==a.visibility){const l=r.getAncestorModules(a.id,"top-to-bottom"),s=a.id;n[s]={id:s,visibility:"visible",matched:!0,adminLabel:a.adminLabel,expand:a.expand,moduleName:a.moduleName,moduleCategory:a.moduleCategory},e=Object.fromEntries(Object.entries(e).filter((([e])=>e!==s))),0!==l.length&&Object.values(l).forEach((r=>{if("root"===r.id)return;const n=r.id,a=(0,d.select)("divi/module-library").getModule(r.name),o=Bo(r.name,r.id),l=o.toLowerCase().includes(t.toLowerCase());i[n]={id:n,visibility:l?"visible":"transparent",matched:l,adminLabel:o,expand:!0,moduleName:r.name,moduleCategory:a.category},e=Object.fromEntries(Object.entries(e).filter((([e])=>e!==n)))})),o=!1}})),Object.values(e).forEach((e=>{const t=e.id;a[t]={id:t,visibility:"hidden",matched:!1,adminLabel:e.adminLabel,expand:e.expand,moduleName:e.moduleName,moduleCategory:e.moduleCategory}})),l={...n,...i,...a},{isSearchEmpty:o,updatedModules:l}})({layerModules:u,searchKeyword:n});return e.setIn([r,"layersView"],{...o,searchModules:p,isSearchActive:!0,isSearchEmpty:m,searchKeyword:n})}case"SET_LAYERS_VIEW_FILTER":{const{filterKeyword:n,moduleIds:i}=t.params.filterInfo,a=jo(i),o=e.getIn([r,"layersView"],{}),l=e.getIn([r,"layersView","searchModules"]),s=e.getIn([r,"layersView","isSearchActive"],!1);let c={};if(!n)return e.setIn([r,"layersView"],{...o,filterModules:{},isFilterActive:!1,isFilterEmpty:!0,filterKeyword:n,isFilterReset:!0});c=s?l:a;const{updatedModules:d,isFilterEmpty:u}=(0,qo.B)({layerModules:c,filterKeyword:n});return e.setIn([r,"layersView"],{...o,filterModules:d,isFilterActive:!0,isFilterEmpty:u,filterKeyword:n,isFilterReset:!1})}case"SET_LAYERS_VIEW_ACTIVE_MODULE_ID":{const n=e.getIn([r,"layersView"],{});return e.setIn([r,"layersView"],{...n,activeLayerModuleId:t.params.activeLayerModuleId})}case"SET_AI_ACTIVE_FIELD":return e.setIn(["ai","activeField"],t.params.fieldType);case"HANDLE_AI_RESULT":return e.setIn(["ai","result"],{fieldType:t.params.fieldType,value:t.params.value,timestamp:Date.now()});case"SET_LAST_OPENED_TAB":return e.setIn(["lastOpenedTab"],t.params.tabName);case"SET_LAST_OPENED_GROUPS":return e.setIn(["lastOpenedGroups"],t.params.groups);default:return e}},vp=(e,t)=>"single"===t?(0,s.find)(e,(e=>e&&e.isActive)):(0,s.pickBy)(e,(e=>e&&e.isActive));var yp=r(53316),wp=r.n(yp);const _p=mp([wp()((e=>(0,s.sortBy)((0,s.filter)(e,(e=>e&&"object"==typeof e&&e.isActive&&Boolean(e?.name))),(e=>e?.toggleTimestamp)).map((e=>e.name)))),(e,t)=>t],wp()(((e,t)=>t.excludeModalNames.length>0?e.filter((e=>!t.excludeModalNames.includes(e))):e))),Ep=(e,t)=>{const r=t?.excludeModalNames??[],n=t?.returnedProperties??!1,i=Object.keys(e).filter((e=>!["singleInstanceModalNames","ai"].includes(e))).reduce(((t,r)=>{const n=e.getIn([r]);return n&&(t[r]=n),t}),{}),a=(0,s.sortBy)((0,s.filter)(Object.values(i),(e=>{const t=e.isActive,n=r.includes(e.name);return t&&!n})),(e=>e.toggleTimestamp)).reduce(((e,t)=>{const{name:r}=t;return e[r]=n?(0,s.pick)(t,n):t,e}),{});return xi()(a)},Cp=(e,t)=>{const r=e&&"object"==typeof e&&("useIdleCallback"in e||"onComplete"in e)?e:t||{},{useIdleCallback:n=!0,onComplete:i}=r,a=()=>{const e=(0,d.select)("divi/edit-post").getContent(),t=Object.keys(e).filter((t=>{if("root"===t)return!1;const r=e[t];return r?.name&&"divi/root"!==r.name}));if(0===t.length)return void i?.();const r=new Set,n=[];t.forEach((e=>{const t=(0,d.select)("divi/edit-post").getModuleName(e);t&&!r.has(t)&&(r.add(t),n.push(e))})),0!==n.length?(0,Te.getOrWaitForAttrsMaps)({moduleIds:n,processModule:()=>{},onComplete:i}).catch((()=>{})):i?.()};n&&"function"==typeof window.requestIdleCallback?window.requestIdleCallback((()=>{setTimeout(a,100)}),{timeout:500}):setTimeout(a,200)},xp=e=>e.getIn(["ai","activeField"],null),Sp=e=>e.getIn(["ai","result"],null),kp=(e,t="module-")=>{const r=e.getIn(["ai","activeField"],null);return!!r&&!r.startsWith(t)},Ip=e=>e.getIn(["divi/layers","layersView"]),Mp=e=>e.getIn(["divi/layers","layersView","activeLayerModuleId"],""),Ap=e=>e.getIn(["divi/layers","layersView","filterKeyword"]),Fp=(e,t)=>e.getIn(["divi/layers","layersView","filterModules",t]),Np=(e,t)=>e.getIn(["divi/layers","layersView","modules",t]),Tp=e=>e.getIn(["divi/layers","layersView","searchKeyword"]),Op=(e,t)=>e.getIn(["divi/layers","layersView","searchModules",t]),Pp=e=>{const t=e.getIn(["divi/layers","layersView","searchModules"]),r=e.getIn(["divi/layers","layersView","filterModules"]),n=e.getIn(["divi/layers","layersView","searchKeyword"]),i=e.getIn(["divi/layers","layersView","isFilterActive"]);if(e.getIn(["divi/layers","layersView","isSearchActive"])&&i&&n){return Object.values(r).filter((e=>"visible"===e?.visibility&&e?.adminLabel.toLowerCase().includes(n.toLowerCase()))).length}if(i){return Object.values(r).filter((e=>"visible"===e?.visibility)).length}if(t){return Object.values(t).filter((e=>"visible"===e?.visibility)).length}return 0},Dp=mp([wp()(((e,t)=>t.map((t=>e[t]?.dimensionMinimum??{width:0,height:0}))))],wp()((e=>e.reduce(((e,t)=>({width:Math.max(e?.width??0,t?.width??0),height:Math.max(e?.height??0,t?.height??0)})),{width:0,height:0})))),Lp=mp([e=>e,(e,t)=>t],((e,t)=>{const r={};return t?.forEach((t=>{const n=e?.[t];n&&(r[t]=n?.label??(e=>{const t=e=>e?.split("-")?.map((e=>e.charAt(0).toUpperCase()+e.slice(1)))?.join(" "),r=e.split("/");return t(r?.[1]?r?.[1]:r?.[0])})(n?.name))})),r})),Rp=(e,t)=>e.getIn([t,"owner"]),Vp=mp([(e,t)=>e?.getIn([t.modalName]),(e,t)=>t.property],((e,t)=>e?.getIn([t]))),Bp=e=>e,jp=e=>e.getIn(["divi/module","groupTab"]),qp=(e,t)=>t.some((t=>e.getIn(["divi/layers","layersView","modules",t])?.expand||!1)),Wp=mp([e=>gp(e,"divi/module"),(e,t)=>t],((e,t)=>{const r=e?.getIn(["group"]);return!!r&&Object.values(r).some((e=>(Array.isArray(e)?e:[e]).includes(t)))})),Gp=e=>e.getIn(["divi/layers","layersView","isFilterActive"],!1),Hp=e=>e.getIn(["divi/layers","layersView","isFilterReset"],!1),Up=e=>e.getIn(["divi/layers","layersView","isFilterEmpty"],!0),$p=e=>e.getIn(["divi/layers","layersView","isSearchActive"],!1),zp=e=>e.getIn(["divi/layers","layersView","isSearchEmpty"],!0),Kp=(e,t)=>Boolean(e.getIn([t,"isActive"])),Zp=e=>e.getIn(["isClosing"],!1),Jp=mp([(e,t)=>e?.getIn([t])],(e=>e?.getIn(["dragging"]))),Yp=mp((e=>gp(e,"divi/module")),(e=>gp(e,"divi/module-shortcode")),((e,t)=>[e,t])),Xp=mp([Yp,(e,t)=>t],(([e,t],r)=>{const n=Boolean(e?.getIn(["isActive"]))&&r===e?.getIn(["owner"]),i=Boolean(t?.getIn(["isActive"]))&&r===t?.getIn(["owner"]);return n||i})),Qp=e=>e.getIn(["lastOpenedTab"],""),em=e=>e.getIn(["lastOpenedGroups"])?.asMutable({deep:!0})??{},tm=xi()({singleInstanceModalNames:[],ai:{activeField:null,result:null},lastOpenedTab:"",lastOpenedGroups:{}}),rm=()=>{if((0,d.select)("divi/modal-library"))return;(0,i.doAction)("divi.modalLibrary.registerModalLibraryStore.before");const r=(0,d.registerStore)("divi/modal-library",{actions:e,reducer:bp,selectors:t,initialState:tm});(0,Mu.applyMiddlewares)(r,fp),(0,Mu.applyEffects)(r,ap),(0,i.doAction)("divi.modalLibrary.registerModalLibraryStore.after")},nm=({modalName:e})=>{const t=(0,o.useRef)(null),{component:r,type:n,tab:i,group:a,owner:s,dimension:c,offset:u}=(0,d.useSelect)((t=>({component:t("divi/modal-library").getModalProperty({modalName:e,property:"component"}),type:t("divi/modal-library").getModalProperty({modalName:e,property:"type"}),tab:t("divi/modal-library").getModalProperty({modalName:e,property:"tab"}),group:t("divi/modal-library").getModalProperty({modalName:e,property:"group"}),owner:t("divi/modal-library").getModalProperty({modalName:e,property:"owner"}),dimension:t("divi/modal-library").getModalProperty({modalName:e,property:"dimension"}),offset:t("divi/modal-library").getModalProperty({modalName:e,property:"offset"})}))),p=t=>{["INPUT","LABEL","BUTTON","TEXTAREA"].includes(t.target.tagName)||(0,d.dispatch)("divi/modal-library").setTimestamp({name:e})};(0,o.useEffect)((()=>{const e=t.current;return e&&e.addEventListener("mousedown",p),()=>{e&&e.removeEventListener("mousedown",p)}}),[]);const m={tab:i,group:a,name:e,type:n,owner:s,dimension:c,offset:u};return l().createElement("div",{ref:t},(0,o.createElement)(r,m))},im=(0,o.memo)(nm),am=()=>{const{activeModalNames:e}=(0,d.useSelect)((e=>{const t=e("divi/app-ui").getSidebarModalNames();return{activeModalNames:e("divi/modal-library").getActiveModalNames({excludeModalNames:t})}}));return(0,o.useEffect)((()=>{if("saved"===(0,d.select)("divi/app-preferences").get(["modal","preference"])){const e=(0,d.select)("divi/app-ui").getAppFramePseudoWrapperBoxModel(),t=(0,d.select)("divi/settings").getSetting(["workspaces","builtIn","last-used"]),r=t?.activeFloatingModals;r&&(0,s.forEach)(r,(r=>{if(!r?.name)return;const n=(0,d.select)("divi/modal-library").getModal(r.name);(0,d.dispatch)("divi/modal-library").open({name:r.name,workspaceSettings:{origin:{appFramePseudoWrapper:{...e,...t?.appFramePseudoWrapper},modal:{width:r?.dimension?.width??n?.dimension?.width,height:r?.dimension?.height??n?.dimension?.height,offsetLeft:r?.offset?.left??n?.offset?.left,offsetTop:r?.offset?.top??n?.offset?.top,minimumWidth:r?.dimensionMinimum?.width??n?.dimensionMinimum?.width}},target:{appFramePseudoWrapper:e,topWindow:{width:(0,d.select)("divi/app-ui").getWindow("width","top"),height:(0,d.select)("divi/app-ui").getWindow("height","top")}}}})}))}}),[]),1>e.length?null:l().createElement(l().Fragment,null,e.map((e=>l().createElement(im,{key:e,modalName:e}))))},om=e=>{const t=e?.detail;if(!t?.text)return;const r=(0,d.select)("divi/modal-library").getAIActiveField();if(!r)return;const n=Array.isArray(t.text)?t.text.join(""):t.text;(0,d.dispatch)("divi/modal-library").handleAIResult({fieldType:r,value:n})},lm=()=>{rm(),window.addEventListener("ai_prompt_use_text_click",om),(0,s.forEach)(Iu,(e=>{e.videos&&(0,d.dispatch)("divi/help").addVideoList(e.name,e.videos),(0,d.dispatch)("divi/modal-library").addModal(e)}))}}(),(window.divi=window.divi||{}).modalLibrary=n}();