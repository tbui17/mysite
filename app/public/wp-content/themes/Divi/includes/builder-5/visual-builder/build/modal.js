/*! For license information please see modal.js.LICENSE.txt */
!function(){var e={18552:function(e,t,o){var n=o(10852)(o(55639),"DataView");e.exports=n},57071:function(e,t,o){var n=o(10852)(o(55639),"Map");e.exports=n},53818:function(e,t,o){var n=o(10852)(o(55639),"Promise");e.exports=n},58525:function(e,t,o){var n=o(10852)(o(55639),"Set");e.exports=n},62705:function(e,t,o){var n=o(55639).Symbol;e.exports=n},70577:function(e,t,o){var n=o(10852)(o(55639),"WeakMap");e.exports=n},29932:function(e){e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,a=Array(n);++o<n;)a[o]=t(e[o],o,e);return a}},44239:function(e,t,o){var n=o(62705),a=o(89607),i=o(2333),r=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?a(e):i(e)}},9454:function(e,t,o){var n=o(44239),a=o(37005);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},28458:function(e,t,o){var n=o(23560),a=o(15346),i=o(13218),r=o(80346),l=/^\[object .+?Constructor\]$/,s=Function.prototype,d=Object.prototype,c=s.toString,u=d.hasOwnProperty,p=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(n(e)?p:l).test(r(e))}},38749:function(e,t,o){var n=o(44239),a=o(41780),i=o(37005),r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!r[n(e)]}},280:function(e,t,o){var n=o(25726),a=o(86916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var o in Object(e))i.call(e,o)&&"constructor"!=o&&t.push(o);return t}},18674:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},80531:function(e,t,o){var n=o(62705),a=o(29932),i=o(1469),r=o(33448),l=n?n.prototype:void 0,s=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(r(t))return s?s.call(t):"";var o=t+"";return"0"==o&&1/t==-Infinity?"-0":o}},7518:function(e){e.exports=function(e){return function(t){return e(t)}}},14429:function(e,t,o){var n=o(55639)["__core-js_shared__"];e.exports=n},31957:function(e,t,o){var n="object"==typeof o.g&&o.g&&o.g.Object===Object&&o.g;e.exports=n},10852:function(e,t,o){var n=o(28458),a=o(47801);e.exports=function(e,t){var o=a(e,t);return n(o)?o:void 0}},89607:function(e,t,o){var n=o(62705),a=Object.prototype,i=a.hasOwnProperty,r=a.toString,l=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),o=e[l];try{e[l]=void 0;var n=!0}catch(e){}var a=r.call(e);return n&&(t?e[l]=o:delete e[l]),a}},64160:function(e,t,o){var n=o(18552),a=o(57071),i=o(53818),r=o(58525),l=o(70577),s=o(44239),d=o(80346),c="[object Map]",u="[object Promise]",p="[object Set]",m="[object WeakMap]",b="[object DataView]",v=d(n),f=d(a),g=d(i),h=d(r),y=d(l),w=s;(n&&w(new n(new ArrayBuffer(1)))!=b||a&&w(new a)!=c||i&&w(i.resolve())!=u||r&&w(new r)!=p||l&&w(new l)!=m)&&(w=function(e){var t=s(e),o="[object Object]"==t?e.constructor:void 0,n=o?d(o):"";if(n)switch(n){case v:return b;case f:return c;case g:return u;case h:return p;case y:return m}return t}),e.exports=w},47801:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},15346:function(e,t,o){var n,a=o(14429),i=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},25726:function(e){var t=Object.prototype;e.exports=function(e){var o=e&&e.constructor;return e===("function"==typeof o&&o.prototype||t)}},86916:function(e,t,o){var n=o(5569)(Object.keys,Object);e.exports=n},31167:function(e,t,o){e=o.nmd(e);var n=o(31957),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,r=i&&i.exports===a&&n.process,l=function(){try{var e=i&&i.require&&i.require("util").types;return e||r&&r.binding&&r.binding("util")}catch(e){}}();e.exports=l},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:function(e){e.exports=function(e,t){return function(o){return e(t(o))}}},55639:function(e,t,o){var n=o(31957),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},80346:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},83729:function(e,t,o){var n=o(18674)({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});e.exports=n},35694:function(e,t,o){var n=o(9454),a=o(37005),i=Object.prototype,r=i.hasOwnProperty,l=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return a(e)&&r.call(e,"callee")&&!l.call(e,"callee")};e.exports=s},1469:function(e){var t=Array.isArray;e.exports=t},98612:function(e,t,o){var n=o(23560),a=o(41780);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},44144:function(e,t,o){e=o.nmd(e);var n=o(55639),a=o(95062),i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,l=r&&r.exports===i?n.Buffer:void 0,s=(l?l.isBuffer:void 0)||a;e.exports=s},41609:function(e,t,o){var n=o(280),a=o(64160),i=o(35694),r=o(1469),l=o(98612),s=o(44144),d=o(25726),c=o(36719),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(l(e)&&(r(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||c(e)||i(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(d(e))return!n(e).length;for(var o in e)if(u.call(e,o))return!1;return!0}},23560:function(e,t,o){var n=o(44239),a=o(13218);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,o){var n=o(44239),a=o(37005);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},36719:function(e,t,o){var n=o(38749),a=o(7518),i=o(31167),r=i&&i.isTypedArray,l=r?a(r):n;e.exports=l},52353:function(e){e.exports=function(e){return void 0===e}},95062:function(e){e.exports=function(){return!1}},79833:function(e,t,o){var n=o(80531);e.exports=function(e){return null==e?"":n(e)}},27955:function(e,t,o){var n=o(79833),a=o(83729),i=/&(?:amp|lt|gt|quot|#39);/g,r=RegExp(i.source);e.exports=function(e){return(e=n(e))&&r.test(e)?e.replace(i,a):e}},93967:function(e,t){var o;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=r(e,i(o)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)n.call(e,o)&&e[o]&&(t=r(t,o));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n](i,i.exports,o),i.loaded=!0,i.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var n={};!function(){"use strict";o.r(n),o.d(n,{Body:function(){return l},BodyContainer:function(){return c},BodyPanelWrapper:function(){return Ae},BodyPanelWrapperContainer:function(){return Le},Breadcrumb:function(){return f},Button:function(){return Ce},CloseButton:function(){return Me},ConfirmationDialog:function(){return ot},ConfirmationPopup:function(){return et},DescriptionText:function(){return g},FieldDescription:function(){return h},FieldWrapper:function(){return B},Footer:function(){return R},GlobalModuleFooter:function(){return nt},Group:function(){return A},GroupContainer:function(){return G},GroupTabs:function(){return $},Header:function(){return Ne},HelpButton:function(){return U},LocalOverlay:function(){return xe},ModuleCredit:function(){return J},OptionsButton:function(){return _e},Overlay:function(){return Se},Panel:function(){return Oe},PanelContainer:function(){return Te},PopupModal:function(){return Ze},ResizeHandle:function(){return Ue},ResponsiveEditorButton:function(){return D},SearchBar:function(){return Je},SearchFilter:function(){return De},Tab:function(){return je},TabContainer:function(){return Fe},Tabs:function(){return We},Wrapper:function(){return Ke},WrapperContainer:function(){return Qe},handleGroupTitleClick:function(){return j},multiAppearanceModals:function(){return at},useSettingsSearch:function(){return Ie.useSettingsSearch}});var e=window.vendor.React,t=o.n(e),a=window.jQuery,i=o.n(a),r=window.lodash;const l=o=>{const{children:n,className:a,setBodySiblingHeight:l,owner:s}=o,d=(0,e.useRef)(null),[c,u]=(0,e.useState)(0),[p,m]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(0===c||p&&p!==s){let e=0;i()(d.current).siblings().each(((t,o)=>{const n=i()(o);!n.hasClass("et-vb-modal-resize-handle")&&n.is(":visible")&&(e+=i()(o).outerHeight())})),u(e),(0,r.isFunction)(l)&&l(e)}else l(c);m(s)}),[s,n]),t().createElement("div",{className:a?`et-vb-modal-body ${a}`:"et-vb-modal-body",ref:d},t().createElement("div",{className:"et-vb-modal-body-wrap"},n))};var s=window.divi.contextLibrary,d=window.divi.data;const c=({children:o,className:n})=>{const{modalName:a,owner:i}=(0,e.useContext)(s.modalWrapperContext);return t().createElement(l,{className:n,setBodySiblingHeight:e=>{(0,d.dispatch)("divi/modal-library").setBodySiblingHeight({name:a,bodySiblingHeight:e})},owner:i},o)};var u=window.vendor.wp.i18n,p=window.divi.window;const m={"divi/section":(0,u.__)("Section","et_builder"),"divi/row":(0,u.__)("Row","et_builder"),"divi/column":(0,u.__)("Column","et_builder")},b=()=>t().createElement("span",{className:"et-vb-modal-header-breadcrumb-item-separator"},t().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"7",height:"7",viewBox:"0 0 7 7",fill:"none"},t().createElement("rect",{x:"3.25",y:"6.93188",width:"1.25",height:"4.5",rx:"0.625",transform:"rotate(-135 3.25 6.93188)",fill:"white"}),t().createElement("rect",{x:"2.36621",y:"1.4519",width:"1.25",height:"4.5",rx:"0.625",transform:"rotate(-45 2.36621 1.4519)",fill:"white"}))),v=({label:e,onClick:o})=>t().createElement("button",{onClick:p.handleOnClickFallback,type:"button",className:"et-vb-modal-header-breadcrumb-item",onMouseDown:o},e),f=(0,e.memo)((({moduleId:e})=>{const{ancestorModules:o,getModule:n}=(0,d.useSelect)((t=>({ancestorModules:t("divi/edit-post").getAncestorModules(e),getModule:t("divi/module-library").getModule}))),{open:a}=(0,d.useDispatch)("divi/modal-library"),i=o?.map(((e,i)=>{return t().createElement(t().Fragment,{key:`breadcrumb-item-${e.id}`},t().createElement(v,{label:(r=e.name,m[r]?m[r]:n(r)?.title??r),onClick:t=>{var o;t.preventDefault(),t.stopPropagation(),o=e.id,(0,d.dispatch)("divi/modal-library").setLayersViewActiveModuleId(o),"root"!==o?a({owner:o,name:"divi/module"}):(0,d.dispatch)("divi/modal-library").open({name:"divi/page-settings"})}}),i<o.length-1&&t().createElement(b,null));var r}));return t().createElement("div",{className:"et-vb-modal-header-breadcrumb"},i)})),g=({children:e})=>t().createElement("div",{className:"et-vb-description-text"},e),h=(0,e.memo)((({description:e})=>t().createElement("p",{className:"et-vb-field-description",dangerouslySetInnerHTML:{__html:e.replace(/(<(?!\/?(b|a(\s+[^>]+)*|strong|em|i)\s*>)([^>]+)>)/gi,"")}})));var y=o(93967),w=o.n(y);var C=function(){return C=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},C.apply(this,arguments)};Object.create;Object.create;function E(e){return e.toLowerCase()}var M=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],k=/[^A-Z0-9]+/gi;function _(e,t,o){return t instanceof RegExp?e.replace(t,o):t.reduce((function(e,t){return e.replace(t,o)}),e)}function N(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var o=t.splitRegexp,n=void 0===o?M:o,a=t.stripRegexp,i=void 0===a?k:a,r=t.transform,l=void 0===r?E:r,s=t.delimiter,d=void 0===s?" ":s,c=_(_(e,n,"$1\0$2"),i,"\0"),u=0,p=c.length;"\0"===c.charAt(u);)u++;for(;"\0"===c.charAt(p-1);)p--;return c.slice(u,p).split("\0").map(l).join(d)}(e,C({delimiter:"."},t))}var x=window.divi.iconLibrary,S=window.divi.tooltip;const O=(0,e.memo)((({description:e,showDescription:o,toggleDescription:n,fieldWrapperId:a})=>{const i=`et-vb-field-button-show-description-${a}`;return e?t().createElement("button",{type:"button",className:w()({"et-vb-field-button":!0,"et-vb-field-button--active":o,"et-vb-field-button-show-description":!0}),onClick:p.handleOnClickFallback,onMouseDown:()=>n(!o),"aria-label":"Toggle Description",tabIndex:-1,"data-tooltip-id":i},t().createElement(x.IconSvg,{name:"divi/info",viewBox:"0 0 16 16",size:8}),t().createElement(S.TooltipContainer,{id:i,windowLocation:"top"},(0,u.__)("Field Information","et_builder"))):null})),T=(0,e.memo)((({enableReset:e,onReset:o,fieldWrapperId:n})=>{const a=`et-vb-field-button-reset-${n}`;return e?t().createElement("button",{type:"button",className:w()({"et-vb-field-button":!0,"et-vb-field-button-reset":!0}),onClick:p.handleOnClickFallback,onMouseDown:o,"aria-label":"Reset field",tabIndex:-1,"data-tooltip-id":a},t().createElement(x.IconSvg,{name:"divi/reset-field",size:8,viewBox:"0 0 16 16"}),t().createElement(S.TooltipContainer,{id:a,windowLocation:"top"},(0,u.__)("Reset Field","et_builder"))):null})),I=(0,e.memo)((({toggleRightMenu:e,fieldWrapperId:o})=>{const n=`et-vb-field-button-more-${o}`;return t().createElement("button",{type:"button",className:w()({"et-vb-field-button":!0,"et-vb-field-button-right-menu":!0}),onClick:p.handleOnClickFallback,onMouseDown:t=>e(t),"aria-label":"Toggle Right Menu",tabIndex:-1,"data-tooltip-id":n},t().createElement(x.IconSvg,{name:"divi/more-enhancement",viewBox:"0 0 16 16",size:8}),t().createElement(S.TooltipContainer,{id:n,windowLocation:"top"},(0,u.__)("More Options","et_builder")))}));function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},P.apply(this,arguments)}const B=({id:o,children:n,description:a,label:i,icon:l,onContextMenu:s=r.noop,onReset:d=r.noop,onRightMenu:c=r.noop,isIconActive:m=!1,enable:b=!0,enableReset:v=!1,disabledDescription:f=(0,u.__)("This field is disabled","et_builder"),hasSync:g=!1,isSynced:y=!0,onLocalGlobalModuleAttribute:E,dependencyCallback:M=r.noop,dependencyList:k=[],isRightClickMenuEnableForField:_,responsiveBreakpoint:B,className:D,fieldClassName:R,additionalButtons:j=r.noop,labelTooltip:F})=>{const W=(A=`et-vb-field-wrapper-${i}`,void 0===L&&(L={}),N(A,C({delimiter:"-"},L)));var A,L;(0,e.useEffect)(M,k);const[z,H]=(0,e.useState)(!1),G=z&&a?t().createElement(h,{description:a}):"",$=(0,e.useCallback)(d,[B]),U=F?`${W}-tooltip`:null,V=i?t().createElement("div",{className:"et-vb-field-label"},t().createElement("label",P({},l&&{className:"et-vb-field-label--with-icon"},U&&{"data-tooltip-id":U}),l&&t().createElement(x.IconSvg,{name:l,size:7,className:w()({"et-vb-field-label-icon":!0,"et-vb-field-label-icon--active":m}),iconComponentProps:{color:m?"var(--app-color)":"var(--dark-gray)"}}),i,F&&t().createElement(S.TooltipContainer,{id:U,windowLocation:"top"},F)),t().createElement("div",{className:"et-vb-field-label-buttons"},t().createElement(T,{enableReset:v,onReset:$,fieldWrapperId:o}),t().createElement(O,{description:a,showDescription:z,toggleDescription:H,fieldWrapperId:o}),j!==r.noop&&(0,r.isFunction)(j)&&j(),c!==r.noop&&t().createElement(I,{toggleRightMenu:c,fieldWrapperId:o}))):"",Y=w()({"et-vb-field-input-wrap":!0},D),K=b?null:t().createElement(t().Fragment,null,t().createElement("div",{className:"et-vb-field-disable-overlay","data-tooltip-id":W}),t().createElement(S.TooltipContainer,{id:W,position:"center-center"},f)),Q={"et-vb-global-sync":!0,"et-vb-global-sync-disabled":!y},q=g&&t().createElement("button",{className:w()(Q),onClick:p.handleOnClickFallback,type:"button",tabIndex:0,onKeyDown:r.noop,"aria-label":(0,u.__)("Make global module attribute local","et_builder"),onMouseDown:E},t().createElement(x.IconSvg,{name:"divi/sync"}));return t().createElement("div",{className:w()({"et-vb-field":!0,[R]:Boolean(R),[`et-vb-field-${o}`]:o,"et-vb-field--disabled":!b,"et-vb-field--has-sync":g,"et-vb-field--hover":_}),onContextMenu:s},q,V,G,t().createElement("div",{className:w()(Y)},n),K)},D=(0,e.memo)((0,e.forwardRef)((({onResponsiveEdit:e,fieldWrapperId:o,className:n=""},a)=>{const i=`et-vb-field-button-responsive-editor-${o}`;return t().createElement("button",{ref:a,type:"button",className:w()({"et-vb-field-button":!0,"et-vb-field-button-responsive-editor":!0},n),onClick:p.handleOnClickFallback,onMouseDown:e,"aria-label":"Edit responsive values",tabIndex:-1,"data-tooltip-id":i},t().createElement(x.IconSvg,{name:"divi/responsive-thin",size:8,viewBox:"0 0 16 16"}),t().createElement(S.TooltipContainer,{id:i,windowLocation:"top"},(0,u.__)("Edit Responsive Values","et_builder")))}))),R=(0,e.forwardRef)(((e,o)=>{const{buttons:n,message:a}=e;return t().createElement("div",{className:"et-vb-modal-footer",ref:o},a&&t().createElement("div",{className:"et-vb-modal-footer-message"},a),t().createElement("div",{className:"et-vb-modal-footer-button-wrapper"},n.map((e=>(e=>{const{disabled:o=!1}=e,n={showIcon:!0,showLabel:!0,...e},a=`et-vb-modal-footer-button--${e.name}`,i={backgroundColor:e.backgroundColor,color:e.textColor},l=e.icon?t().createElement("span",{className:"et-vb-modal-footer-button-icon"},t().createElement(x.IconSvg,{name:e.icon,animation:e?.iconAnimation,color:"#ffffff"})):"",s=(0,r.get)(e,["showTooltip"],!1);return t().createElement("button",{type:"button",key:a,"data-tooltip-id":a,className:w()({"et-vb-button":!0,"et-vb-button--fullwidth":!0,"et-vb-button--secondary":"primary"!==n.buttonColor,"et-vb-button--primary":"primary"===n.buttonColor,[a]:!0,"et-vb-modal-footer-button--show-icon":n.showIcon,"et-vb-modal-footer-button--show-label":n.showLabel}),onClick:p.handleOnClickFallback,style:i,disabled:o,onMouseDown:e.onClick},t().createElement("span",{className:"et-vb-modal-footer-button-label"},e.label),l,s?t().createElement(S.TooltipContainer,{id:a,windowLocation:"top"},e.label):null)})(e)))))})),j=({modalName:e,panelName:t,currentGroupDepth:o,modalGroup:n,id:a})=>{let i=[];if(n?.[t]){const e=n[t];i=Array.isArray(e)?[...e].filter((e=>"string"==typeof e)):[e]}if(0===o)i=[a];else{const e=a.split(".").slice(0,-1).join("."),t=i.filter((t=>{if(t===a)return!1;const o=t.split(".").slice(0,-1).join(".");return e===o})),n=i.filter((o=>{if(o===a)return!1;const n=o.split(".").slice(0,-1).join(".");if(e===n)return!1;return!t.some((e=>o.startsWith(`${e}.`)))}));i=[...n.slice(0,o),a,...n.slice(o)]}(0,d.dispatch)("divi/modal-library").openGroup({name:e,tabName:t,groupId:a,groupIds:i})};var F=window.divi.uiLibrary;const W=(0,e.memo)((({opened:e})=>t().createElement("div",{className:"et-vb-modal-group-title-icon"},e?t().createElement(x.IconSvg,{size:5,styles:{height:"16px"},viewBox:"0 -1 8 10",color:"var(--app-color)",name:"divi/caret-down"}):t().createElement(x.IconSvg,{size:5,styles:{height:"16px"},viewBox:"0 0 8 10",color:"var(--dark-gray)",name:"divi/caret-right"})))),A=(0,e.forwardRef)(((e,o)=>{const{children:n,opened:a,onTitleClick:i,onMouseEnter:r,onMouseLeave:l,onContextMenu:s,onClickAIButton:c,showAIButton:u,tabIndex:m,title:b,id:v,isPresetEditingMode:f,appColorMode:g,presetGroupData:h,groupName:y,presetStackElement:C}=e,E="divi/composite-persistent"===y,M={"et-vb-modal-group":!0,"et-vb-modal-group--opened":a,"et-vb-modal-group--preset-editing":f,"et-vb-modal-group--no-title":E},k=!(0,d.select)("divi/app-preferences").get(["modal","alwaysCollapseGroups"]),_=a?t().createElement("div",{className:"et-vb-modal-group-content"},u&&t().createElement(F.DiviAiButton,{title:"Generate Content With AI",className:"et-vb-button et-vb-button--secondary",onClick:()=>c()}),n):"",N="light"===g?"dark":"light";return t().createElement("div",{className:w()(M),ref:o,"data-app-color-mode":f?N:null},!E&&t().createElement("div",{className:"et-vb-modal-group-title","data-name":v,onClick:p.handleOnClickFallback,onMouseEnter:r,onMouseLeave:l,onContextMenu:s,role:"button",tabIndex:m,onMouseDown:i,onKeyDown:i},!k&&t().createElement(W,{opened:a}),t().createElement("h3",null,b),(()=>{if(!h?.enabled||!C)return null;const e=e=>{e.stopPropagation()};return t().createElement("div",{className:"et-vb-modal-group-option",onClick:e,onMouseDown:e,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||e.stopPropagation()},role:"button",tabIndex:0},C)})()),_)}));A.defaultProps={tabIndex:0,onContextMenu:r.noop};var L=window.divi.clipboard,z=window.divi.moduleUtils;const H=["divi/composite","divi/admin-label","divi/link","divi/spam-protection","divi/email-service","divi/dividers","divi/attributes-rel","divi/loop","divi/elements"],G=o=>{const{children:n,clipboardAttrsMapsFormatter:a,clipboardCategory:i="content",collapsible:l=!0,grouped:c,groupName:p,id:m,isPresetEditingMode:b,onMouseEnter:v,onMouseLeave:f,preset:g,tabIndex:h,title:y,visible:w,presetGroup:C,features:E,PresetStackComponent:M}=o,{isParsingAttrsMaps:k,optionType:_}=(0,e.useContext)(s.clipboardAttrsMapsParserContext),{modalName:N,modalGroup:x}=(0,e.useContext)(s.modalWrapperContext),{panelName:S}=(0,e.useContext)(s.panelContext),O=(0,d.useSelect)((e=>e("divi/settings").checkRolePermission("divi_ai"))),{isActivePreset:T,appColorMode:I}=(0,d.useSelect)((e=>({isActivePreset:e("divi/global-data").isActivePreset(),appColorMode:e("divi/app-preferences").get(["app","colorMode"])}))),P=(0,e.useRef)(null),B=(0,r.includes)(["module","modalGroup"],_),D=e.Children.map(n,(t=>(0,e.isValidElement)(t)?(0,e.cloneElement)(t,{groupName:p}):t)),R=(0,r.includes)(["module","modalGroup"],_)||k,F=a&&R?a(D):D,W=(0,e.useContext)(s.ModalGroupContext)?.groupDepth??0,G=!l||!(0,d.select)("divi/app-preferences").get(["modal","alwaysCollapseGroups"]),$=(0,r.get)(x,S),U=!(!G&&!k)||(Array.isArray($)?$.includes(m):m===$),V=(0,d.select)("divi/modal-library").getModal(N),Y=(0,r.get)(V,["owner"]),K=(0,d.select)("divi/edit-post").getModuleName(Y),Q=(0,d.select)("divi/module-library").isParentModule(K),q="divi/column"!==K&&"divi/column-inner"!==K&&"structure"===(0,d.select)("divi/module-library").getModuleCategory(K),Z="divi/elements"===p||"contentElements"===m||(0,r.isString)(m)&&m.endsWith("Elements");(0,e.useEffect)((()=>{const e=(0,d.select)("divi/modal-library").getModal(N);(0,r.isEmpty)((0,r.get)(e,"group",{}))&&(!q||Z)&&"content"===S&&(!Q||Z)&&(0,d.dispatch)("divi/modal-library").openGroup({name:N,tabName:S,groupId:m,groupIds:[m]})}),[Y]);const X=(0,e.useMemo)((()=>{const e=C??p;return{enabled:!("divi/module"!==N||!e||(0,r.includes)(H,e)||"divi/shortcode-module"===K||W>0),groupId:m,groupName:e,groupLabel:y,isModulePresetEditing:T}}),[N,T,m,C,p,y]),J=(0,e.useMemo)((()=>{if(!M||!X.enabled)return null;return t().createElement(M,{moduleId:Y,isActivePreset:!1,onTogglePresetSelectCallback:e=>{const t=(0,d.select)("divi/global-data").getOptionGroupPresetModalState(),o=!0===t?.isOptionGroupModalOpen,n=t?.groupId;if(o&&n===X.groupId)return void(0,d.dispatch)("divi/global-data").closeOptionGroupPresetModal();const a=e.currentTarget,i=(0,d.select)("divi/app-ui").getElementProperty({elementName:"adminBar",propertyGroup:"dimension",propertyName:"height"})??0,r=(0,d.select)("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"})??0,l=a.getBoundingClientRect().top+a.getBoundingClientRect().height+10-r-i+"px";(0,d.dispatch)("divi/global-data").openOptionGroupPresetModal({groupId:X.groupId,visible:!0,offsetTop:l,groupName:X.groupName,groupLabel:X.groupLabel})},type:"group",groupId:X.groupId,groupName:X.groupName})}),[M,X,Y]);if(T){if("content"===g||"meta"===g)return null;const t=e.Children.toArray(F).filter((t=>(0,e.isValidElement)(t)&&!(0,r.isUndefined)(t.props.fields)&&!(0,r.isEmpty)(t.props.fields)));if(t.length){const o=t.map((t=>(0,e.isValidElement)(t)?(0,r.map)(t.props.fields,(e=>"content"===e?.features?.preset||"meta"===e?.features?.preset)):[])).flat(1/0).filter((e=>!1===e)).length;if(0===o)return null}}const ee=[(0,u.__)("Text","et_builder"),(0,u.__)("Page","et_builder")].includes(y),te="divi/shortcode-module"===K,oe=O&&ee&&0===h&&U&&"content"===S&&!1!==E?.aiContent&&!te,ne=W+1;return w||k?t().createElement(s.ModalGroupContext.Provider,{value:{groupDepth:ne,isTopGroup:0===ne}},t().createElement(s.clipboardContext.Provider,{value:{clipboardCategory:i}},!c||B?F:t().createElement(A,{opened:U,onTitleClick:e=>{2!==e.button&&j({modalName:N,panelName:S,currentGroupDepth:W,modalGroup:x,id:m})},onMouseEnter:v,onMouseLeave:f,onContextMenu:e=>{const t=(0,d.select)("divi/modal-library").getModal(N),o=(0,r.get)(t,["owner"]),n=(0,d.select)("divi/edit-post").getModuleName(o);e.preventDefault(),e.stopPropagation();const i={x:e.clientX,y:e.clientY};(0,L.waitUntilAttrsMapsReady)({id:(0,L.getComponentAttrsMapsId)({attrsMapsType:"group",groupName:p||m,moduleName:n,groupId:m}),attrsMapsType:"group",name:p,component:a?a(F):F,callback:e=>{const t={optionType:"modalGroup",id:m,moduleId:o,modalName:N,modalTab:(0,r.isString)(S)?S:"",modalGroupLabel:y,attrsMaps:e,clipboardItem:(0,d.select)("divi/clipboard").getLastItem(["moduleFieldAttribute","moduleGroupTabAttributes","moduleGroupAttributes"]),groupName:p,groupId:m};(0,d.dispatch)("divi/right-click-options").set({cursorPosition:i,optionType:"modalGroup",owner:t,windowLocation:"top"})}}).catch((()=>{}))},tabIndex:h,title:y,id:m,ref:P,groupName:p,isPresetEditingMode:b,appColorMode:I,modalName:N,onClickAIButton:()=>{let e={};(0,r.isEmpty)(K)||(e=(0,d.select)("divi/module-library").getModuleContentSettings(K));const t={moduleData:[{moduleName:K,groups:e}],moduleId:Y,isSingleModule:!0};(0,z.handleAIButton)(t)},showAIButton:oe,presetGroupData:X,presetStackElement:J},F))):null};G.defaultProps={tabIndex:0,grouped:!0,visible:!0};const $=e=>{const{tabs:o,showIcon:n,showLabel:a,onClick:i,onContextMenu:l,activeTab:s}=e,d=(0,r.keys)(o);return t().createElement("div",{className:w()({"et-vb-group-tabs":!0,"et-vb-group-tabs--show-icon":n,"et-vb-group-tabs--show-label":a})},d.map((e=>{const n=o[e],a=t().createElement(x.IconSvg,{name:n.icon,viewBox:"0 0 20 20",size:10,styles:{margin:"0 auto"}});return t().createElement("button",{type:"button",key:`et-vb-group-tab--${e}`,className:w()({"et-vb-group-tab":!0,"et-vb-group-tab--active":e===s,[`et-vb-group-tab--${e}`]:!0,"et-vb-group-tab--modified":o[e]?.modified}),onClick:p.handleOnClickFallback,onContextMenu:l,value:e,"data-label":n.label,"data-tooltip-id":`et-vb-group-tab--${e}`,onMouseDown:i},a,t().createElement("span",{className:"et-vb-group-tab-label"},n.label),t().createElement(S.TooltipContainer,{windowLocation:"top",id:`et-vb-group-tab--${e}`},n.label))})))};$.defaultProps={showIcon:!0,showLabel:!1,onContextMenu:r.noop};const U=(0,e.memo)((e=>{const{onHelpClick:o=r.noop}=e;return t().createElement("button",{type:"button",className:w()({"et-vb-button":!0,"et-vb-help-button":!0}),onClick:p.handleOnClickFallback,onMouseDown:()=>o()},t().createElement(x.IconSvg,{name:"divi/help-circle",className:"et-vb-icon--divi-help-circle"}),t().createElement("span",{className:"et-vb-help-button-label"},(0,u.__)("Help","et_builder")))}));var V=o(41609),Y=o.n(V),K=o(52353),Q=o.n(K),q=o(27955),Z=o.n(q);const X=e=>{const{target:t}=e,o=t.href;if(!Q()(o)){e.preventDefault();p.topWindow.open(o,"_blank").focus()}},J=({moduleURI:o,author:n,authorURI:a,moduleLabel:i,official:r})=>{const l=(0,e.useRef)();if((0,e.useEffect)((()=>{jQuery(l.current).on("click","a",X)}),[]),r||Y()(n))return null;const s=o?`<a href="${o}">${i}</a>`:i,d=a?`<a href="${a}">${n}</a>`:n;return t().createElement("div",{className:"et-vb-settings-modal-module-credits",dangerouslySetInnerHTML:{__html:Z()((0,u.sprintf)((0,u.__)("%s by %s","et_builder"),s,d))},ref:l})};var ee,te=window.divi.draggable,oe=new Uint8Array(16);function ne(){if(!ee&&!(ee="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ee(oe)}var ae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ie=function(e){return"string"==typeof e&&ae.test(e)},re=[],le=0;le<256;++le)re.push((le+256).toString(16).substr(1));var se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(re[e[t+0]]+re[e[t+1]]+re[e[t+2]]+re[e[t+3]]+"-"+re[e[t+4]]+re[e[t+5]]+"-"+re[e[t+6]]+re[e[t+7]]+"-"+re[e[t+8]]+re[e[t+9]]+"-"+re[e[t+10]]+re[e[t+11]]+re[e[t+12]]+re[e[t+13]]+re[e[t+14]]+re[e[t+15]]).toLowerCase();if(!ie(o))throw TypeError("Stringified UUID is invalid");return o};var de=function(e,t,o){var n=(e=e||{}).random||(e.rng||ne)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){o=o||0;for(var a=0;a<16;++a)t[o+a]=n[a];return t}return se(n)};let ce={dimension:{width:0,height:0},offset:{top:0,left:0}},ue=[],pe=!1,me=!1,be=!1,ve=!1,fe="multiInstanceModal";const ge=({snappable:e,modalDimension:t,modalName:o,modalOffset:n})=>a=>{me=(0,d.select)("divi/app-ui").isSidebarModal(o);const i=(0,d.select)("divi/modal-library").getModal(o),r=i?.dimension?.width??400;fe=i?.type??"multiInstanceModal",ue=(0,d.select)("divi/app-ui").getDockingAreas({type:fe,width:r}),(0,d.dispatch)("divi/modal-library").setDraggingState({name:o,status:!0}),e&&me&&((0,d.dispatch)("divi/modal-library").setOffset({name:o,offset:n}),(0,d.dispatch)("divi/app-ui").setDraggedToUndockSidebarModal(o),ve=(0,d.select)("divi/app-ui").getSidebarModalInfo(o).sidebarRowId,pe={id:"string"==typeof ve?ve:"",type:"sidebar-modal"}),ce={dimension:t,offset:n}},he=({modalName:e,snappable:t})=>o=>{const n=window.innerHeight,a=o.domRect?.height??0,i=ce.offset.top??o?.domRect?.top??0,r=ce.offset.left??o?.domRect?.left??0,l=n-(a-45),s={top:Math.min(l,Math.max(0,i+o.sinceMouseDown.y)),left:Math.max(0,r+o.sinceMouseDown.x)};if((0,d.dispatch)("divi/modal-library").setOffset({name:e,offset:s}),t){const t=(0,d.select)("divi/app-ui").getHoveredDockingArea(s,ue);if(me){pe=!!t&&{id:t?.id,type:t?.type};"object"==typeof t&&ve===t.id?be&&(be=!1,(0,d.dispatch)("divi/app-ui").setDraggedToUndockSidebarModal(!1)):be||(be=!0,(0,d.dispatch)("divi/app-ui").setDraggedToUndockSidebarModal(e))}else{const e=!!t&&{id:t?.id,type:t?.type};e!==pe&&(pe=e,(0,d.dispatch)("divi/app-ui").setHoveredSidebarDockingArea({sidebarDockingArea:e}))}}},ye=({modalName:e,snappable:t})=>o=>{if(t)if(me){if(be){const{sidebarRowId:t}=(0,d.select)("divi/app-ui").getSidebarModalInfo(e),o=(0,d.select)("divi/modal-library").getModalProperty({modalName:e,property:"dimension"}),n=(0,d.select)("divi/modal-library").getModalProperty({modalName:e,property:"offset"}),a=(0,d.select)("divi/app-ui").getWindow("width","top"),i={left:Math.max(a-o.width-16,0),top:n.top};n.left>i.left&&(0,d.dispatch)("divi/modal-library").setOffset({name:e,offset:i}),(0,d.dispatch)("divi/app-ui").undockModalFromSidebarRow({modalName:e,sidebarRowId:t})}}else{const t={"sidebar-row":"above","sidebar-modal":"inside","sidebar-row-last":"below"};if("object"==typeof pe)switch(pe.type){case"sidebar-row":case"sidebar-modal":case"sidebar-row-last":(0,d.dispatch)("divi/app-ui").dockModalToSidebarRow({modalName:e,modalType:fe,newSidebarRowId:de(),sidebarRowId:pe.id,position:(0,r.includes)(["above","inside","below"],t[pe.type])?t[pe.type]:"above"});break;case"sidebar":(0,d.dispatch)("divi/app-ui").dockModalToSidebar({modalName:e,modalType:fe,newSidebarRowId:de(),sidebarName:(0,r.includes)(["sidebarLeft","sidebarRight"],pe.id)?pe?.id:"sidebarLeft"})}}(0,d.dispatch)("divi/modal-library").setDraggingState({name:e,status:!1}),(0,d.dispatch)("divi/app-ui").setDraggedToUndockSidebarModal(!1),pe=!1,ve=!1,fe="multiInstanceModal",(0,d.dispatch)("divi/app-ui").setHoveredSidebarDockingArea({sidebarDockingArea:!1})};var we=window.divi.keyboardShortcuts;const Ce=e=>{const{name:o,onButtonClick:n,label:a,icon:i,color:r="#ffffff",visible:l,size:s,viewBox:d}=e;if(!l)return null;const c=e=>e.stopPropagation(),u=i?t().createElement(x.IconSvg,{name:i,color:r,size:s,viewBox:d??("divi/more"===i?"-13 -8 32 32":"0 0 28 28")}):"",m=`et-vb-modal-header-button--${o}`;return t().createElement("button",{type:"button",className:w()({"et-vb-modal-header-button":!0,"et-vb-modal-header-button--has-icon":""!==i,[`et-vb-modal-header-button--${o}`]:!0}),onClick:p.handleOnClickFallback,onMouseUp:c,onMouseMove:c,onMouseDown:(b=n,e=>{e.stopPropagation(),b(e)}),"data-tooltip-id":m},t().createElement("span",{className:"et-vb-modal-header-button-label"},a),u,t().createElement(S.TooltipContainer,{windowLocation:"top",id:m},a));var b};Ce.defaultProps={visible:!0,icon:""};const Ee=({modalName:o,onClickBackButton:n,primary:a})=>((0,e.useEffect)((()=>{const e=`backModal--${o}`;return(0,we.registerShortcut)({name:e,label:(0,u.__)("Back to parent modal","et_builder"),keys:["Escape"],category:"modal",action:()=>n()}),()=>{(0,we.unregisterShortcut)(e)}}),[]),t().createElement(Ce,{name:"back-to-parent",icon:"divi/back-small",onButtonClick:n,label:(0,u.__)("Back to parent","et_builder"),color:a?"#ffffff":"var(--dark-gray)",size:4,viewBox:"0 0 8 8"})),Me=(0,e.memo)((o=>{const{closeable:n,modalName:a,onClickCloseButton:i}=o,{isGlobalColorEditing:r}=(0,d.useSelect)((e=>({isGlobalColorEditing:e("divi/global-data").isGlobalColorEditing()})),[]);if(!n)return null;const l=()=>{if(r)return void(0,d.dispatch)("divi/modal-library").setIsModalClosing({isClosing:!0});const e=(0,d.select)("divi/modal-library").getModal(a);(0,d.dispatch)("divi/modal-library").close({name:a});const t=(0,d.select)("divi/modal-library").getActiveModalNames({excludeModalNames:[]}).map((e=>(0,d.select)("divi/modal-library").getModal(e)));!e?.isSubmodal&&t.length>0&&t.forEach((e=>{e?.autoCloseOnClickOutside&&(0,d.dispatch)("divi/modal-library").close({name:e.name})}))};return(0,e.useEffect)((()=>{const e=`closeModal--${a}`;return(0,we.registerShortcut)({name:e,label:(0,u.__)("close Modal","et_builder"),keys:["Escape"],category:"modal",action:l}),()=>{(0,we.unregisterShortcut)(e)}}),[]),t().createElement(Ce,{visible:n,name:"close",onButtonClick:i??l,label:(0,u.__)("Close Modal","et_builder"),icon:"divi/close",size:12,color:"#273039"})})),ke=e=>e.stopPropagation(),_e=({name:e,className:o="",label:n="",onButtonClick:a=r.noop,tooltipId:i="",tooltipText:l="",iconName:s,iconColor:d="#ffffff",iconSize:c=4,iconViewBox:u="0 0 28 28",visible:m=!0})=>{if(!m)return null;const b=i&&l?t().createElement(S.TooltipContainer,{windowLocation:"top",id:i},l):null;return t().createElement("button",{type:"button",className:`et-vb-modal-header-options et-vb-modal-header-options--${e} ${o}`,onClick:p.handleOnClickFallback,onMouseUp:ke,onMouseMove:ke,onMouseDown:(v=a,e=>{e.stopPropagation(),v(e)}),"data-tooltip-id":i},t().createElement("span",{className:"et-vb-modal-header-options-label"},n),s?t().createElement(x.IconSvg,{name:s,color:d,size:c,viewBox:u}):null,b);var v},Ne=o=>{const{name:n,onContextMenu:a,closeButton:i,onClickCloseButton:l,backButton:d,onClickBackButton:c,primary:u,renderBefore:p=(()=>null),renderCustomPresets:m,customButtons:b,sticky:v=!1}=o;return t().createElement(s.modalWrapperContext.Consumer,null,(o=>{const{modalDimension:s,modalOffset:f,modalName:g,snappable:h,expand:y,draggable:C}=o;return t().createElement(te.Draggable,{className:w()({"et-vb-modal-header":!0,"et-vb-modal-header--standard":!u,"et-vb-modal-header--primary":u,"et-vb-modal-header--sticky":v}),onContextMenu:a,onElementClick:ge({modalName:g,snappable:h,modalDimension:s,modalOffset:f}),onElementDrag:he({modalName:g,snappable:h}),onElementRelease:ye({modalName:g,snappable:h,modalDimension:s}),disable:!C||y},(0,r.isFunction)(p)&&p(),t().createElement("div",{className:w()({"et-vb-modal-header--title-container":!0})},d&&t().createElement(Ee,{modalName:g,onClickBackButton:c,primary:u}),t().createElement("h2",{className:w()({"et-vb-modal-title":!0,"et-vb-modal-title--has-back-button":d})},n),m?m():b?t().createElement("div",{className:"et-vb-modal-header--button-options"},b.map((t=>(0,e.createElement)(_e,{key:t.name,...t})))):null,t().createElement("div",{className:"et-vb-modal-header-button-wrapper"},t().createElement(Me,{closeable:i,modalName:g,onClickCloseButton:l}))))}))};Ne.defaultProps={moreButton:!1,closeButton:!0,onContextMenu:r.noop};const xe=e=>{const{className:o,children:n}=e;return t().createElement("div",{className:`et-common-local-overlay ${o}`},n)},Se=e=>{const{backgroundColor:o,zIndex:n,onOverlayClick:a}=e;return t().createElement("div",{className:"et-vb-modal-overlay",onClick:p.handleOnClickFallback,role:"button",tabIndex:0,style:{backgroundColor:o,zIndex:n},onMouseDown:a},t().createElement("span",{className:"et-vb-modal-overlay-hidden-label"},(0,u.__)("Overlay","et_builder")))};Se.defaultProps={backgroundColor:"rgba(255,255,255,.8)",zIndex:100025,onOverlayClick:r.noop};const Oe=e=>{const{children:o,id:n,opened:a,hasGroupOpened:i,height:r}=e;if(!a)return null;const l={"et-vb-modal-panel":!0,"et-vb-modal-panel--has-group--opened":i};return t().createElement("div",{className:w()(l),"data-id":n,style:{height:r}},t().createElement("form",{className:"et-vb-modal-panel-form",autoComplete:"off",onSubmit:e=>e.preventDefault()},o))},Te=o=>{const{children:n,id:a,isMultiPanels:i,opened:r,heightReduction:l}=o,{modalActiveTab:d,modalDimension:c,modalGroup:u,bodySiblingHeight:p}=(0,e.useContext)(s.modalWrapperContext),m=r||i||d===a,b=!(!Array.isArray(u?.[a])&&"string"!=typeof u?.[a])&&u?.[a].length>0;if(!m)return null;let v="number"==typeof c.height?c.height-p-2:c.height;return"number"==typeof v&&"number"==typeof l&&(v-=l),t().createElement(s.panelContext.Provider,{value:{panelName:a}},t().createElement(Oe,{id:a,opened:m,hasGroupOpened:b,height:v},n))};var Ie=window.divi.hooks;const Pe=({placeholder:o="Start Typing",options:n,onOptionClick:a,onClose:i,triggerRef:r})=>{const[l,s]=(0,e.useState)({}),d=(0,e.useRef)(null),c=(0,e.useRef)(null),u=e=>{const t=e.target;c.current&&c.current.contains(t)||r?.current&&r.current.contains(t)||i?.()};(0,e.useEffect)((()=>{s(n||{});const e=setTimeout((()=>{d.current&&d.current.focus()}),0);return p.topWindow.addEventListener("mousedown",u),()=>{clearTimeout(e),p.topWindow.removeEventListener("mousedown",u)}}),[n,i,r]);return t().createElement("div",{ref:c,className:w()({"et-vb-filter-dropdown":!0})},t().createElement("div",{className:w()({"et-vb-filter-dropdown__input":!0})},t().createElement("input",{ref:d,type:"text",name:"filter-search",placeholder:o,onChange:e=>{if(!n)return void s({});const t=e.target.value.toLowerCase(),o=Object.fromEntries(Object.entries(n).filter((([e,o])=>e&&o.label.toLowerCase().includes(t))));s(o)}}),t().createElement("div",{className:w()({"et-vb-filter-dropdown__list":!0})},t().createElement("ul",null,Object.values(l||{}).map((e=>e.isTitle?t().createElement("li",{key:e.name,className:w()({"et-vb-filter-dropdown-title":!0,"et-vb-option-subgroup-separator":e.separator?.top,"et-vb-option-subgroup-separator-bottom":e.separator?.bottom})},t().createElement("p",{className:"et-vb-subgroup-title","data-value":e.name},e.label)):t().createElement("li",{key:e.name,className:w()({"et-vb-option-subgroup-separator":e.separator?.top,"et-vb-option-subgroup-separator-bottom":e.separator?.bottom}),"data-name":e.name,"data-label":e.label,onClick:p.handleOnClickFallback,role:"presentation",onMouseDown:a},e.label)))))))},Be=({label:o="Filter",isFilterActive:n,isFilterReset:a,onFilterResetClick:i,onFilterOptionClick:r,filterOptions:l})=>{const[s,d]=(0,e.useState)(!1),[c,u]=(0,e.useState)(o),[m,b]=(0,e.useState)(!1),v=(0,e.useRef)(null),f=a?o:c,g=!a&&m;return t().createElement(t().Fragment,null,t().createElement("div",{ref:v,className:w()({"et-vb-filter-button":!0})},t().createElement("button",{type:"button",className:w()({"et-vb-filter-button__button":!0,"et-vb-filter-button__button-black":g}),onClick:p.handleOnClickFallback,onMouseDown:()=>{d(!s)}},t().createElement("span",{className:w()({"et-vb-filter-button__label":!!n,"et-vb-filter-button__label-white":g})},n?f:""),!g&&t().createElement(x.IconSvg,{name:"divi/filter",size:10,viewBox:"0 0 20 20"}),g&&t().createElement("span",{onClick:p.handleOnClickFallback,role:"presentation",onMouseDown:e=>{e.stopPropagation(),u(o),b(!1),d(!1),i&&i()}},t().createElement(x.IconSvg,{name:"divi/exit",size:8,color:"#FFFFFF",viewBox:"0 0 20 20"})))),s&&t().createElement(Pe,{onOptionClick:e=>{const t=e.target,o=t.getAttribute("data-name"),n=t.getAttribute("data-label");u(n),b(!0),d(!1),r&&r(o)},onClose:()=>d(!1),triggerRef:v,options:l}))},De=({value:o="",placeholder:n="Search settings...",onChange:a=(()=>{}),className:i="",autofocus:r=!1,name:l="search",disabled:s=!1,showFilter:d=!1,activeFilter:c=null,onFilterChange:p=(()=>{}),onTabChange:m=(()=>{})})=>{const b=(0,e.useRef)(null),v={statesTitle:{name:"statesTitle",label:(0,u.__)("Setting States","et_builder"),isTitle:!0,separator:{bottom:!0}},modified:{name:"modified",label:(0,u.__)("Modified","et_builder")},variables:{name:"variables",label:(0,u.__)("Variables","et_builder")},static:{name:"static",label:(0,u.__)("Static","et_builder")},stylesTitle:{name:"stylesTitle",label:(0,u.__)("Style Settings","et_builder"),isTitle:!0,separator:{bottom:!0}},colors:{name:"colors",label:(0,u.__)("Colors","et_builder"),tab:"design"},sizes:{name:"sizes",label:(0,u.__)("Sizes","et_builder"),tab:"design"},effects:{name:"effects",label:(0,u.__)("Effects","et_builder"),tab:"design"},fontFamilies:{name:"fontFamilies",label:(0,u.__)("Font Families","et_builder"),tab:"design"},fontWeights:{name:"fontWeights",label:(0,u.__)("Font Weights","et_builder"),tab:"design"},contentTitle:{name:"contentTitle",label:(0,u.__)("Content Settings","et_builder"),isTitle:!0,separator:{bottom:!0}},text:{name:"text",label:(0,u.__)("Text","et_builder"),tab:"content"},media:{name:"media",label:(0,u.__)("Media","et_builder"),tab:"content"},icons:{name:"icons",label:(0,u.__)("Icons","et_builder"),tab:"content"},code:{name:"code",label:(0,u.__)("Code","et_builder"),tab:"advanced"},urls:{name:"urls",label:(0,u.__)("URLs","et_builder"),tab:"content"}},f=(0,e.useCallback)((e=>{const t=e.target.value;a?.(t)}),[a]),g=(0,e.useCallback)((e=>{p?.(e);const t=v[e];t&&"tab"in t&&t.tab&&m?.(t.tab)}),[p,m,v]),h=(0,e.useCallback)((()=>{p?.(null)}),[p]);(0,e.useEffect)((()=>{r&&b.current&&setTimeout((()=>b.current?.focus()),100)}),[r]);const y=(0,e.useCallback)((e=>{e.stopPropagation()}),[]);return t().createElement("div",{className:w()("et-vb-search-filter",i)},t().createElement("div",{className:"et-vb-search-filter__wrapper"},t().createElement("div",{className:"et-vb-search-filter__icon"},t().createElement(x.IconSvg,{name:"divi/search-layer",size:10,viewBox:"1 2 20 20"})),t().createElement("input",{ref:b,type:"text",id:`et-vb-search-filter-${l}`,name:`et-vb-search-filter-${l}`,value:o,onChange:f,placeholder:n,className:"et-vb-field-input et-vb-field-input-text et-vb-search-filter__input",disabled:s,onContextMenu:y}),d&&t().createElement(Be,{isFilterActive:!!c,isFilterReset:!c,onFilterResetClick:h,onFilterOptionClick:g,filterOptions:v})))};De.defaultProps={value:"",placeholder:"Search settings...",onChange:()=>{},className:"",autofocus:!1,name:"search",disabled:!1,showFilter:!1,activeFilter:null,onFilterChange:()=>{},onTabChange:()=>{}};var Re=window.divi.rightClickOptions;const je=e=>{const{active:o,children:n,onClick:a,onContextMenu:i}=e,r={"et-vb-modal-tab":!0,"et-vb-modal-tab--active":o};return t().createElement("button",{type:"button",className:w()(r),onClick:p.handleOnClickFallback,onContextMenu:i,onMouseDown:a},n)};je.defaultProps={onContextMenu:r.noop};const Fe=e=>{const{children:o,id:n}=e;return t().createElement(s.modalWrapperContext.Consumer,null,(e=>{const{modalName:a,modalActiveTab:i}=e,l=i===n;return t().createElement(je,{active:l,onClick:()=>{(0,d.dispatch)("divi/modal-library").openTab({name:a,tabName:n})},onContextMenu:e=>{const t={id:n,modalName:a,modalTab:n,optionType:"modalTab"},o=(0,Re.getModalTabOptions)(t);(0,r.isEmpty)(o)||(e.preventDefault(),e.stopPropagation(),(0,d.dispatch)("divi/right-click-options").set({cursorPosition:{x:e.clientX,y:e.clientY},optionType:"modalTab",owner:t,windowLocation:"top"}))}},o)}))},We=e=>{const{children:o,className:n}=e;return t().createElement("div",{className:n?`et-vb-modal-tabs ${n}`:"et-vb-modal-tabs"},o)},Ae=({children:o,beforeTabItems:n,afterTabItems:a,isMultiPanels:i,showTabs:l,showSearchBar:d=!1,onTabChange:p})=>{const[m,b]=(0,e.useState)(""),[v,f]=(0,e.useState)(null),g=[],h=(0,r.keys)(o).map((e=>{const n=(0,r.get)(o,[e,"props","id"],""),a=(0,r.get)(o,[e,"props","label"],"");return g.push(n),t().createElement(Fe,{key:`autogeneratedtab-${n}`,id:n},a)}));return t().createElement(s.settingsSearchContext.Provider,{value:{searchValue:m,setSearchValue:b,activeFilter:v,setActiveFilter:f}},t().createElement(t().Fragment,null,l&&t().createElement(We,{className:w()({"et-vb-modal-tabs--multi-panels":i})},n,h,a),d&&t().createElement(De,{value:m,onChange:b,placeholder:(0,u.__)("Search settings...","et_builder"),name:"settings-search",showFilter:!0,activeFilter:v,onFilterChange:f,onTabChange:p}),t().createElement(c,{className:w()({"et-vb-modal-body--multi-panels":i,"et-vb-modal-body--search-active":m&&m.trim().length>0||v})},o)))},Le=o=>{const{children:n,beforeTabItems:a,afterTabItems:i,showTabs:l,showSearchBar:c}=o,{modalName:p,modalActiveTab:m,isMultiPanels:b}=(0,e.useContext)(s.modalWrapperContext),v=[],f=()=>{if(!(0,r.isString)(m))return;const e=v.indexOf(m);if(e<0)return;const t=e+1>v.length-1?0:e+1;v[t]&&(0,d.dispatch)("divi/modal-library").openTab({name:p,tabName:v[t]})};(0,e.useEffect)((()=>((0,we.registerShortcut)({name:`switchTab--${p}`,label:(0,u.__)("Switch Tab","et_builder"),keys:["Shift","Tab"],category:"modal",action:f}),()=>{(0,we.unregisterShortcut)(`switchTab--${p}`)})),[m]);const g=e.Children.count(n);return(0,e.useEffect)((()=>{(0,d.dispatch)("divi/modal-library").setPanelSize({name:p,panelSize:g})}),[g]),t().createElement(Ae,{showTabs:l??!0,beforeTabItems:a,afterTabItems:i,isMultiPanels:b,showSearchBar:c,onTabChange:e=>{(0,d.dispatch)("divi/modal-library").openTab({name:p,tabName:e})}},e.Children.map(n,(t=>(0,e.isValidElement)(t)?(0,e.cloneElement)(t,{isMultiPanels:b}):t)))};let ze={dimension:{width:0,height:0}};const He=e=>{const{modalDimension:t,domDimension:o}=e;return()=>{ze={dimension:{width:t.width,height:"auto"===t.height&&o?.height?o.height:t.height}}}},Ge=e=>{const{dimensionMinimum:t,modalName:o}=e;return e=>{const n={name:o,dimension:{width:(()=>{let o=0;return o=ze.dimension.width+e.sinceMouseDown.x,o<t.width?t.width:o})(),height:(()=>{let o=0;return o="number"==typeof ze.dimension.height&&ze.dimension.height+e.sinceMouseDown.y,o<t.height?t.height:o})()},minimum:{width:t.width,height:t.height}};(0,d.dispatch)("divi/modal-library").setDimension(n)}},$e=e=>"top"===e?"rotate(45deg)":(0,r.includes)(["left","right"],e)?"rotate(-45deg)":"",Ue=e=>{const{position:o,onElementClick:n=He,onElementDrag:a=Ge}=e;return t().createElement(s.modalWrapperContext.Consumer,null,(e=>{const{modalName:i,modalDimension:r,dimensionMinimum:l,domDimension:s}=e;return t().createElement(te.Draggable,{type:"button",className:w()(["et-vb-modal-resize-handle",`et-vb-modal-resize-handle--${o}`]),onElementClick:n({modalDimension:r,domDimension:s}),onElementDrag:e=>{(0,d.dispatch)("divi/modal-library").setIsResizing({name:i,isResizing:!0}),a({dimensionMinimum:l,modalName:i})(e)},onElementRelease:()=>{(0,d.dispatch)("divi/modal-library").setIsResizing({name:i,isResizing:!1})}},t().createElement("span",{className:"et-vb-modal-resize-handle-label"},(0,u.__)("Resize","et_builder")),t().createElement(x.IconSvg,{name:"divi/resize",color:"#ffffff",styles:{marginLeft:"-5px",transform:$e(o)}}))}))};function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Ve.apply(this,arguments)}const Ye=100,Ke=({adminBarHeight:o=32,appWindowHeight:n,appWindowPageYOffset:a=0,bodySiblingHeight:l,caret:c=!1,caretStaysOnAppWindowClickPosition:m=!1,centered:b,children:v,colorMode:f,dimension:g,dimensionMinimum:h={width:350,height:350},draggable:y=!1,expand:C=!1,expandable:E=!1,modalActiveTab:M="content",modalGroup:k={},modalName:_,modalClass:N,multiPanels:x=!1,offset:S,owner:O,isGlobal:T,isGlobalSaving:I,panelSize:P,resizable:B=!1,snappable:D=!1,style:R={},topWindowHeight:j=900,topWindowWidth:F=1400,isDragging:W,isResizing:A,builderBarWidth:L,pageBarHeight:z,sidebarModal:H,sideBarLeftWidth:G,enableContextMenu:$,isModalActive:U,autoCloseOnClickOutside:V,autoCloseExceptionSelector:Y,onElementClick:K,onElementDrag:Q,clampVerticalOffset:q=!1})=>{const[Z,X]=(0,e.useState)(0),J=(0,e.useRef)(),[ee,te]=(0,e.useState)(null);(0,e.useEffect)((()=>{q&&null!==ee&&ee?.top!==S?.top&&(0,d.dispatch)("divi/modal-library").setOffset({name:_,offset:ee})}),[ee]);const oe=(0,e.useMemo)((()=>({width:J.current?.getBoundingClientRect().width||0,height:J.current?.getBoundingClientRect().height||0})),[J.current]);(0,e.useEffect)((()=>{X(a)}),[]);const ne=(0,e.useMemo)((()=>(({expand:e,dimension:t,topWindowHeight:o,topWindowWidth:n,adminBarHeight:a})=>e?{...t,width:n-200,height:o-200-a}:{width:0,height:0,...t})({expand:C,dimension:g,topWindowHeight:j,topWindowWidth:F,adminBarHeight:o})),[C,g,j,F,o]),ae=x&&!C&&P>1&&ne.width>400*P,{modalOffset:ie,caretPosition:re}=(0,e.useMemo)((()=>{if(m){const e=14,t=a-Z,i=S.top-t,r=n-i;if("number"==typeof ne.height&&i>=ne.height&&r<ne.height){return{modalOffset:{top:S.top-ne.height-t+(z+o-e),left:S.left+L+G},caretPosition:!!c&&"bottom"}}const l=e+z+o;return{modalOffset:{top:S.top-t+l,left:S.left+L+G},caretPosition:"top"}}let e={...S};if(q&&!A&&!W&&!m){const t=J.current?.getBoundingClientRect()?.height,o=J.current?.getBoundingClientRect()?.top,n=(0,d.select)("divi/app-ui").getWindow("height","app");o+t>n&&t<=n&&(e={...e,top:n-t},te(e))}return{modalOffset:e,caretPosition:!!c&&"bottom"}}),[S,m,a,Z,n,ne.height,z,o,L,G,J.current,q,c]),le=(0,e.useMemo)((()=>({bodySiblingHeight:(0,r.isNumber)(l)?l:0,dimensionMinimum:h,draggable:y,expand:C,expandable:E,isMultiPanels:ae,modalActiveTab:M,modalDimension:ne,modalGroup:k,modalName:_,modalOffset:ie,modalWrapperRef:J,multiPanels:x,owner:O,panelSize:P,resizable:B,snappable:D,topWindowHeight:j,topWindowWidth:F,domDimension:oe})),[l,h,y,C,E,ae,M,ne,k,_,ie,J,x,O,P,B,D,j,F,oe]),se=N||_.replace("divi/",""),de={"et-vb-modal":!0,"et-vb-modal--main":!0,"et-vb-modal--draggable":y,"et-vb-modal--resizable":B,"et-vb-modal--caret":c,"et-vb-modal--caret-top":"top"===re,"et-vb-modal--caret-bottom":"bottom"===re,"et-vb-modal--caret-stays-on-click-position":m,"et-vb-modal--global":T,"et-vb-modal--global-saving":I,[`et-vb-modal--${se}`]:!0},ce={...g,...ie,...R};if(H){const e=1;ce.width=ne.width-e}C&&(ce.top=Ye+o,ce.right=Ye,ce.bottom=Ye,ce.left=Ye,ce.width=ne.width,ce.height=ne.height),b&&(ce.top=`calc((100vh - ${ne.height}px) / 2)`,ce.left=`calc((100vw - ${ne.width}px) / 2)`),(0,e.useEffect)((()=>{const e=J.current;A?e.classList.add("et-vb-modal--is-resizing"):e.classList.remove("et-vb-modal--is-resizing")}),[A]),(0,e.useEffect)((()=>{const e=J.current;W?e.classList.add("et-vb-modal--is-dragging"):e.classList.remove("et-vb-modal--is-dragging")}),[W]);const ue=!B||C?"":t().createElement(Ue,{position:"corner",onElementClick:K,onElementDrag:Q});return(0,e.useEffect)((()=>{const e=J.current,t=t=>{if(!document.body.contains(t.target)&&!p.topWindow.document.body.contains(t.target))return;const o=!!Y&&0!==i()(t.target).closest(Y).length;!e||e.contains(t.target)||o||(0,d.dispatch)("divi/modal-library").close({name:_})};return U&&V&&(window.document.addEventListener("mousedown",t),p.topWindow.document.addEventListener("mousedown",t)),()=>{window.document.removeEventListener("mousedown",t),p.topWindow.document.removeEventListener("mousedown",t)}}),[U]),t().createElement(s.modalWrapperContext.Provider,{value:le},t().createElement("div",Ve({className:w()(de),style:ce,"data-modal-name":_},f&&{"data-app-color-mode":f||null},{ref:J,onContextMenu:e=>{$||jQuery(e.target).is("input:focus")||jQuery(e.target).closest(".et-vb-field-input-wrap").length>0||e.preventDefault()}}),ue,t().createElement("div",{className:"et-vb-modal-wrapper"},v)),(m||V)&&t().createElement("div",{className:"et-vb-modal-overlay",role:"button",tabIndex:0,"aria-label":(0,u.__)("Right Click Options Overlay","et_builder"),onKeyDown:r.noop,onClick:p.handleOnClickFallback,onContextMenu:r.noop,onMouseDown:r.noop}))},Qe=t=>{const{modalName:o,modalActiveTab:n,caretStaysOnAppWindowClickPosition:a,bodySiblingHeight:i,onElementClick:r,onElementDrag:l}=t,{adminBarHeight:s,appWindowHeight:c,appWindowPageYOffset:u,bodySiblingHeight:p,builderBarWidth:m,dimensionState:b,dimensionMinimum:v,draggedToUndockSidebarModal:f,isDragging:g,isResizing:h,modalOffset:y,pageBarHeight:w,panelSize:C,sideBarLeftWidth:E,sidebarModal:M,sidebarModalDimension:k,topWindowHeight:_,topWindowWidth:N,appAdminBar:x,isModalActive:S,autoCloseOnClickOutside:O,autoCloseExceptionSelector:T}=(0,d.useSelect)((e=>{const n=!!t?.snappable&&e("divi/app-preferences").get(["modal","preference"]),i=e("divi/modal-library").getModalProperty({modalName:o,property:"type"}),r=e("divi/app-ui").isSidebarModal(o),l=!r&&e("divi/modal-library").getModalProperty({modalName:o,property:"autoCloseOnClickOutside"}),s=e("divi/modal-library").getModalProperty({modalName:o,property:"autoCloseExceptionSelector"});return{sidebarModal:r,isDragging:e("divi/modal-library").isModalDragging(o),isModalActive:e("divi/modal-library").isModalActive(o),draggedToUndockSidebarModal:e("divi/app-ui").getDraggedToUndockSidebarModal(),appWindowHeight:e("divi/app-ui").getWindow("height","app"),appWindowPageYOffset:a?e("divi/app-ui").getWindow("pageYOffset","app"):0,snapPreference:n,modalOffset:e("divi/modal-library").getModalProperty({modalName:o,property:"offset"}),adminBarHeight:e("divi/app-ui").getElementProperty({elementName:"adminBar",propertyName:"height",propertyGroup:"dimension"}),builderBarWidth:e("divi/app-ui").getElementProperty({elementName:"builderBar",propertyGroup:"dimension",propertyName:"width"}),pageBarHeight:e("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"}),sideBarLeftWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarLeft",propertyGroup:"dimension",propertyName:"width"}),bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:o,property:"bodySiblingHeight"}),sidebarModalDimension:e("divi/app-ui").getSidebarModalDimension(o,i,e("divi/modal-library").getModal(o)?.dimensionMinimum?.width??0),topWindowHeight:e("divi/app-ui").getWindow("height","top"),topWindowWidth:e("divi/app-ui").getWindow("width","top"),panelSize:e("divi/modal-library").getModalProperty({modalName:o,property:"panelSize"}),isResizing:e("divi/modal-library").getModalProperty({modalName:o,property:"isResizing"}),dimensionMinimum:e("divi/modal-library").getModalProperty({modalName:o,property:"dimensionMinimum"}),dimensionState:e("divi/modal-library").getModalProperty({modalName:o,property:"dimension"}),appAdminBar:e("divi/app-preferences").get(["app","adminBar"]),autoCloseOnClickOutside:l,autoCloseExceptionSelector:s}})),I=M?k:t?.dimension||b,P="object"==typeof f&&o===f?.modalName,B=(0,e.useMemo)((()=>{if("add-from-library"===n){const e=32;return{top:s+w+(x?.visible?e:0),left:m+E+e}}if("divi/add-module"===o||"divi/choose-column"===o){return(({originalOffset:e,modalHeight:t,modalWidth:o,topWindowHeight:n,topWindowWidth:a,adminBarHeight:i,pageBarHeight:r,framePadding:l=32})=>{const s=i+r+l,d=n-t-l,c=e.top-t/2;let u;u=c<s?s:c>d?d:c,u=Math.max(s,Math.min(d,u));const p=l,m=a-o-l;let b=e.left;return b<p?b=p:b>m&&(b=m),{top:u,left:b}})({originalOffset:t?.offset??y,modalHeight:"number"==typeof I.height?I.height:450,modalWidth:"number"==typeof I.width?I.width:400,topWindowHeight:_,topWindowWidth:N,adminBarHeight:s,pageBarHeight:w,framePadding:32})}return M&&!P?{}:t?.offset??y}),[n,x?.visible,s,w,m,E,M,P,y,t?.offset,o,I,_]),D={...t,adminBarHeight:s,appWindowHeight:c,appWindowPageYOffset:u,bodySiblingHeight:i||p,builderBarWidth:m,dimension:I,dimensionMinimum:v,isDragging:g,isResizing:h,offset:B,pageBarHeight:w,panelSize:C,sideBarLeftWidth:E,sidebarModal:M,topWindowHeight:_,topWindowWidth:N,isModalActive:S,autoCloseOnClickOutside:O,autoCloseExceptionSelector:T,onElementClick:r,onElementDrag:l};return(0,e.createElement)(Ke,D)};var qe=window.vendor.ReactDOM;const Ze=({children:o,open:n=!1,className:a,onCancel:i,onConfirm:r})=>{const{modalWrapperRef:l}=(0,e.useContext)(s.modalWrapperContext),d=t().createElement("div",{className:w()("et-vb-popup-modal",a)},t().createElement("div",{className:"et-vb-popup-modal-body"},o),t().createElement("div",{className:"et-vb-popup-modal-footer"},t().createElement("button",{type:"button","data-tooltip-id":"et-vb-popup-modal-discard-button",className:"et-vb-button et-vb-button--secondary et-vb-button--fullwidth",onClick:p.handleOnClickFallback,onMouseDown:()=>{i()}},t().createElement("span",{className:"et-vb-popup-modal-button--label"},(0,u.__)("Cancel","et_builder")),t().createElement(S.TooltipContainer,{id:"et-vb-popup-modal-discard-button",windowLocation:"top"},(0,u.__)("Discard All Changes","et_builder"))),t().createElement("button",{type:"button","data-tooltip-id":"et-vb-popup-modal-save-button",className:"et-vb-button et-vb-button--primary et-vb-button--fullwidth",onClick:p.handleOnClickFallback,onMouseDown:()=>{r()}},t().createElement("span",{className:"et-vb-popup-modal-button--label"},(0,u.__)("Apply","et_builder")),t().createElement(S.TooltipContainer,{id:"et-vb-popup-modal-save-button",windowLocation:"top"},(0,u.__)("Save Changes","et_builder")))));return(0,qe.createPortal)(n?d:null,l.current)},Xe=({onResetButtonClick:e})=>t().createElement(t().Fragment,null,t().createElement("div",{className:"et-vb-reset-button"},t().createElement("button",{type:"button",className:w()({"et-vb-reset-button--button":!0}),onClick:p.handleOnClickFallback,"aria-label":(0,u.__)("Reset search input","et_builder"),onMouseDown:()=>{e()}},t().createElement(x.IconSvg,{name:"divi/close",size:13})))),Je=({placeholder:e="Search",onSearchInputChange:o,shouldResetSearchInput:n=!1,isSearchActive:a=!1,className:i="",isFilterActive:r=!1,isFilterReset:l=!1,onFilterResetClick:s,onFilterOptionClick:d,filterOptions:c,searchInputRef:u})=>{const p=()=>{u.current&&(u.current.value="",o&&o(""))};n&&p();const m=[{"et-vb-search-bar":!0,"et-vb-search-bar-active":a}];return t().createElement("div",{className:w()(m,i)},t().createElement("div",{className:"et-vb-search-bar-inner"},t().createElement(x.IconSvg,{name:"divi/search-layer",size:13,viewBox:"0 0 24 24"}),t().createElement("input",{type:"text",ref:u,className:w()({"et-vb-search-bar-input":!0}),defaultValue:"",placeholder:e,onChange:e=>{o&&o(e.target?.value)}}),a&&t().createElement(Xe,{onResetButtonClick:p})),t().createElement(Be,{isFilterActive:r,isFilterReset:l,onFilterResetClick:s,onFilterOptionClick:d,filterOptions:c}))},et=o=>{const{onConfirmClick:n,onCancelClick:a}=o;return t().createElement(e.Fragment,null,t().createElement("div",{className:"et-vb-modal-confirmation-popup"},t().createElement("p",{className:"et-vb-modal-confirmation-popup-text"},(0,u.__)("This will update all instances across your entire site.")),t().createElement("div",{className:"et-vb-modal-confirmation-popup-buttons"},t().createElement("button",{type:"button",className:"et-vb-button et-vb-button--secondary et-vb-modal-secondary-btn",onClick:p.handleOnClickFallback,onMouseDown:()=>{a()}},(0,u.__)("Cancel","et_builder")),t().createElement("button",{type:"button",className:"et-vb-button et-vb-button--primary et-vb-modal-secondary-btn",onClick:p.handleOnClickFallback,onMouseDown:()=>{n()}},(0,u.__)("Confirm","et_builder")))))};var tt=window.divi.constantLibrary;const ot=({children:o,dangerousInnerHTML:n,title:a=(0,u.__)("Are you sure?","et_builder"),confirmButtonText:i=(0,u.__)("Yes","et_builder"),buttonType:r="primary",showCancelButton:l=!0,onConfirm:s,onCancel:d})=>{const c=(0,e.useRef)();return(0,e.useEffect)((()=>{if(c?.current){p.topWindow.jQuery(c.current).trigger("focus")}}),[]),t().createElement(e.Fragment,null,t().createElement("div",{className:"et-vb-modal__confirmation-dialog",onKeyDown:e=>{e.stopPropagation(),"Escape"===e.key&&d&&l&&d(),"Enter"===e.key&&s()},ref:c,role:"dialog",style:{opacity:1,width:"90%"}},t().createElement("div",{className:"et-vb-modal__confirmation-dialog__header"},t().createElement("span",{className:"et-vb-modal__confirmation-dialog__title"},a),l&&d&&t().createElement(F.Button,{className:"et-vb-settings-button--close",onMouseDown:e=>(e.preventDefault(),e.stopPropagation(),d&&d(),!0),onClick:p.handleOnClickFallback},t().createElement(x.IconSvg,{size:14,name:"divi/close",color:tt.colors.inverse}))),n&&t().createElement("div",{className:"et-vb-modal__confirmation-dialog__content"},t().createElement("div",{dangerouslySetInnerHTML:{__html:Z()(n.__html)}})),!n&&t().createElement("div",{className:"et-vb-modal__confirmation-dialog__content"},o),t().createElement("button",{type:"button",className:`et-vb-button et-vb-button--${r} et-vb-button--fullwidth`,onClick:p.handleOnClickFallback,onMouseDown:e=>(e.preventDefault(),e.stopPropagation(),s(),!0)},i)))},nt=e=>{const{owner:o}=e,n=(0,d.select)("divi/edit-post").getGlobalLayoutId(o),{isLayoutSaving:a,hasSyncWorthyChanges:i,isLocalChildrenModule:r}=(0,d.useSelect)((e=>({isLayoutSaving:Boolean(e("divi/global-layouts").isLayoutSaving(n)),hasSyncWorthyChanges:Boolean(e("divi/global-layouts").hasSyncWorthyChanges()),isLocalChildrenModule:Boolean(e("divi/edit-post").isChildrenOfLocalChildrenGlobalModuleInstance(o))})),[n,o]);return t().createElement(R,{buttons:[{name:"globalModuleCancel",label:(0,u.__)("Cancel","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:()=>{(0,d.dispatch)("divi/edit-post").revertGlobalModuleEditState({id:n,owner:o})}},{name:"globalModuleSave",label:a?(0,u.__)("Saving...","et_builder"):(0,u.__)("Save","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,disabled:!!r||(a||!i),buttonColor:"primary",onClick:()=>{(0,d.dispatch)("divi/global-layouts").openConfirmationPopup({id:n})}}]})},at=["multi","confirmation"]}(),(window.divi=window.divi||{}).modal=n}();