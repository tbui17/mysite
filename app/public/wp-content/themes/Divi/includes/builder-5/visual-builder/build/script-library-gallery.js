!function(){var e;(e=jQuery)(window).on("et_pb_init_modules",(function(){window.et_pb_init_gallery_modules=function(){var t="object"==typeof window.ET_Builder,a=e(".et_pb_gallery"),i=e(".et_post_gallery"),n=void 0!==window.ETBlockLayoutModulesScript&&e("body").hasClass("et-block-layout-preview");e((()=>{if(!n&&i.length>0){const t=e.magnificPopup.instance;e("body").on("swiperight",".mfp-container",(()=>{t.prev()})),e("body").on("swipeleft",".mfp-container",(()=>{t.next()})),i.each((function(){e(this).magnificPopup({delegate:".et_pb_gallery_image a",type:"image",removalDelay:500,gallery:{enabled:!0,navigateByImgClick:!0},mainClass:"mfp-fade",zoom:{enabled:window.et_pb_custom&&!window.et_pb_custom.is_builder_plugin_used,duration:500,opener:e=>e.find("img")},autoFocusLast:!1})})),i.find("a").off("click")}(a.length||t)&&(window.set_gallery_grid_items=function(t){const a=t.find(".et_pb_gallery_items"),i=a.find(".et_pb_gallery_item");var n=i.length;const l=parseInt(a.attr("data-per_page")),s=isNaN(l)||0===l?4:l,p=Math.ceil(n/s);window.et_pb_set_responsive_grid(a,".et_pb_gallery_item"),set_gallery_grid_pages(t,p),n=0;let r=1;i.data("page",""),i.each((function(t){n++;const a=e(this);0===parseInt(n%s)?(a.data("page",r),r++):a.data("page",r)})),i.filter((function(){return 1==e(this).data("page")})).show(),i.filter((function(){return 1!=e(this).data("page")})).hide()},window.set_gallery_grid_pages=function(e,t){const a=e.find(".et_pb_gallery_pagination");if(!a.length)return;if(a.html("<ul></ul>"),t<=1)return void a.hide();a.show();const i=a.children("ul");i.empty();const n=t;i.append(`<li class="prev" style="display:none;"><a href="#" data-page="prev" class="page-prev">${et_pb_custom.prev}</a></li>`),i.append('<li style="display:none;" class="prev-dots">...</li>');for(let e=1;e<=n;e++){const t=1===e?" active":"",a=e===n?" last-page":"",l=e>4?' style="display:none;"':"";i.append(`<li${l} class="page page-${e}"><a href="#" data-page="${e}" class="page-${e}${t}${a}">${e}</a></li>`)}n>4&&5<=n&&i.append('<li class="next-dots">...</li>'),1<n&&i.append(`<li class="next"><a href="#" data-page="next" class="page-next">${et_pb_custom.next}</a></li>`)},window.set_gallery_hash=function(e){if(!e.attr("id"))return;let t=[];t.push(e.attr("id")),e.find(".et_pb_gallery_pagination a.active").length?t.push(e.find(".et_pb_gallery_pagination a.active").data("page")):t.push(1),t=t.join(et_hash_module_param_seperator),setHash(t)},window.et_pb_gallery_init=function(t){t.hasClass("et_pb_gallery_grid")&&(t.show(),set_gallery_grid_items(t),t.on("et_hashchange",(a=>{const{params:i}=a;t=e(`#${a.target.id}`);const n=i[0];n&&(t.find(`.et_pb_gallery_pagination a.page-${n}`).hasClass("active")||t.find(`.et_pb_gallery_pagination a.page-${n}`).addClass("active").trigger("click"))})))},window.et_pb_gallery_pagination_nav=function(t){t.off("click",".et_pb_gallery_pagination a"),t.on("click",".et_pb_gallery_pagination a",(function(t){t.preventDefault();let a=e(this).data("page");const i=e(this).parents(".et_pb_gallery"),n=i.find(".et_pb_gallery_items"),l=n.find(".et_pb_gallery_item");if(i.data("paginating"))return;i.data("paginating",!0);const s=e(this).parents("ul").find("li.page").length,p=parseInt(e(this).parents("ul").find("a.active").data("page"))||1;e(this).hasClass("page-prev")?a=Math.max(1,p-1):e(this).hasClass("page-next")&&(a=Math.min(s,p+1)),a=Math.max(1,Math.min(s,parseInt(a)||1)),e(this).parents("ul").find("a").removeClass("active"),e(this).parents("ul").find(`a.page-${a}`).addClass("active");const r=e(this).parents("ul").find(`a.page-${a}`).parent().index();e(this).parent().nextUntil(`.page-${r+3}`).show(),e(this).parent().prevUntil(".page-"+(r-3)).show(),e(this).parents("ul").find("li.page").each((function(t){e(this).hasClass("prev")||e(this).hasClass("next")||(t<=r-3||t>r+1?e(this).hide():e(this).show(),(s-r<=1&&s-t<5||r<2&&t<=4)&&e(this).show())})),e(this).parents("ul").find("li.prev, li.prev-dots").toggle(a>1),e(this).parents("ul").find("li.next").toggle(!e(this).parents("ul").find("a.active").hasClass("last-page")),e(this).parents("ul").find("li.next-dots").toggle(r+2<s),l.hide(),l.filter((function(t){return e(this).data("page")===a})).show(),window.et_pb_set_responsive_grid(n,".et_pb_gallery_item"),setTimeout((()=>{set_gallery_hash(i),i.data("paginating",!1)}),100)}))},t?et_pb_gallery_pagination_nav(e("#et-fb-app")):et_pb_gallery_pagination_nav(a)),a.each((function(){const t=e(this);et_pb_gallery_init(t)})),a.data("paginating",!1)})),e(document.body).on("post-load",(function(){e(".et_pb_gallery").each((function(){const t=e(this);t.hasClass("et_pb_gallery_grid")&&t.find(".et_pb_gallery_pagination ul").children().length||et_pb_gallery_init(t)}))})),window.addEventListener("divi:setPaginatedContent",(function(t){const a=t.detail?.$current_module;a&&a.find(".et_pb_gallery").each((function(){const t=e(this);et_pb_gallery_init(t)}))}))},window.et_pb_init_gallery_modules()})),((window.divi=window.divi||{}).scriptLibrary=window.divi.scriptLibrary||{}).scriptLibraryGallery={}}();